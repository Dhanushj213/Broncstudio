
> broncstudio@0.1.0 lint
> eslint --format json

[{"filePath":"/Users/dhanushj/Desktop/Broncstudio/debug_delete_coupon.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/debug_list_coupons.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'simpleError' is assigned a value but never used.","line":19,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":53}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { createClient } from '@supabase/supabase-js';\nimport dotenv from 'dotenv';\ndotenv.config({ path: '.env.local' });\n\nconst supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n\nasync function listCoupons() {\n    const { data, error } = await supabase\n        .from('coupons')\n        .select('*, orders(count)'); // Try to select related orders count to check usage if relation exists\n\n    if (error) {\n        console.log(\"Error selecting with relation:\", error.message);\n        // Fallback to simple select\n        const { data: simpleData, error: simpleError } = await supabase.from('coupons').select('*');\n        console.log(\"Coupons:\", simpleData);\n    } else {\n        console.log(\"Coupons with usage:\", data);\n    }\n}\n\nlistCoupons();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/debug_orders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/debug_products.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/debug_profiles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/debug_regex.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":13,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const getGoogleDriveDirectLink = (url: string): string => {\n    try {\n        const fileIdRegex = /\\/d\\/([a-zA-Z0-9_-]+)|\\?id=([a-zA-Z0-9_-]+)/;\n        const match = url.match(fileIdRegex);\n        console.log('Match:', match);\n\n        if (match) {\n            const fileId = match[1] || match[2];\n            console.log('File ID:', fileId);\n            return `https://drive.google.com/uc?export=view&id=${fileId}`;\n        }\n        return url;\n    } catch (e) {\n        return url;\n    }\n};\n\nconst url = \"https://drive.google.com/file/d/1FCe2JjUYedJ2aKrZx2yLab3KF24Bd8pd/view?usp=drive_link\";\nconsole.log('Result:', getGoogleDriveDirectLink(url));\n\nconst mangled = \"https://drive.google.com/uc?export=view&id=1FCe2JjUYedJ2aKrZx2yLhttps\";\nconsole.log('Target mangled:', mangled);\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/inspect_product_schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/migration_check.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'supabase' is assigned a value but never used.","line":8,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { createClient } from '@supabase/supabase-js';\nimport dotenv from 'dotenv';\ndotenv.config({ path: '.env.local' });\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!; // Using anon key might not be enough for schema mods, but let's try or use service role if available in env\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\nasync function addTagsColumn() {\n    // Attempt to add column via raw SQL if possible, or just log that we need to do it manually/via migration\n    // Since I can't run DDL with anon key usually, I'll check if I have a service role key in env\n\n    console.log('Checking for SERVICE_ROLE_KEY...');\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\n    if (!serviceRoleKey) {\n        console.error('No SUPABASE_SERVICE_ROLE_KEY found. Cannot modify schema automatically.');\n        console.log('Please run this SQL in Supabase Dashboard:');\n        console.log('ALTER TABLE products ADD COLUMN tags text[] DEFAULT \\'{}\\';');\n        console.log('CREATE INDEX idx_products_tags ON products USING GIN(tags);');\n        return;\n    }\n\n    const adminSupabase = createClient(supabaseUrl, serviceRoleKey);\n\n    // Check if column exists first\n    const { error: checkError } = await adminSupabase\n        .from('products')\n        .select('tags')\n        .limit(1);\n\n    if (checkError && checkError.message.includes('does not exist')) {\n        console.log('Column \"tags\" does not exist. Adding it...');\n        // Supabase-js doesn't support generic SQL execution easily without RPC.\n        // I will assume I need to ask the user or if I can use a predefined RPC.\n        // For now, I'll try to use the rpc 'exec_sql' if it exists, otherwise I'll just print the SQL.\n\n        console.log('NOTE: Use the Supabase Dashboard SQL Editor to run:');\n        console.log('ALTER TABLE products ADD COLUMN IF NOT EXISTS tags text[] DEFAULT \\'{}\\';');\n        console.log('CREATE INDEX IF NOT EXISTS idx_products_tags ON products USING GIN(tags);');\n    } else {\n        console.log('Column \"tags\" might already exist or another error occurred:', checkError?.message || 'No error');\n    }\n}\n\naddTagsColumn();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/next.config.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":48}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextConfig } from \"next\";\n\nconst withPWA = require(\"@ducanh2912/next-pwa\").default({\n  dest: \"public\",\n  cacheOnFrontEndNav: true,\n  aggressiveFrontEndNavCaching: true,\n  reloadOnOnline: true,\n  swcMinify: true,\n  disable: process.env.NODE_ENV === \"development\", // Disable PWA in dev mode to prevent caching issues\n  workboxOptions: {\n    disableDevLogs: true,\n  },\n});\n\nconst nextConfig: NextConfig = {\n  transpilePackages: [\"@react-pdf/renderer\"],\n  experimental: {\n    esmExternals: 'loose',\n  },\n  images: {\n    remotePatterns: [\n      { protocol: \"https\", hostname: \"*.googleusercontent.com\" },\n      { protocol: \"https\", hostname: \"lh3.googleusercontent.com\" },\n      { protocol: \"https\", hostname: \"api.dicebear.com\" },\n      { protocol: \"https\", hostname: \"images.unsplash.com\" },\n      { protocol: \"https\", hostname: \"source.unsplash.com\" },\n      { protocol: \"https\", hostname: \"plus.unsplash.com\" },\n      { protocol: \"https\", hostname: \"share.google\" },\n      { protocol: \"https\", hostname: \"placehold.co\" },\n      { protocol: \"https\", hostname: \"via.placeholder.com\" },\n      { protocol: \"https\", hostname: \"drive.google.com\" },\n      { protocol: \"https\", hostname: \"doc.google.com\" },\n      { protocol: \"https\", hostname: \"*.supabase.co\" },\n    ],\n    dangerouslyAllowSVG: true,\n  },\n};\n\nexport default withPWA(nextConfig);\n\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/public/sw.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":156,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":203},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":209,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":233},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":626,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22141}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"if(!self.define){let e,a={};const s=(s,i)=>(s=new URL(s+\".js\",i).href,a[s]||new Promise(a=>{if(\"document\"in self){const e=document.createElement(\"script\");e.src=s,e.onload=a,document.head.appendChild(e)}else e=s,importScripts(s),a()}).then(()=>{let e=a[s];if(!e)throw new Error(`Module ${s} didnâ€™t register its module`);return e}));self.define=(i,c)=>{const n=e||(\"document\"in self?document.currentScript.src:\"\")||location.href;if(a[n])return;let t={};const d=e=>s(e,n),r={module:{uri:n},exports:t,require:d};a[n]=Promise.all(i.map(e=>r[e]||d(e))).then(e=>(c(...e),t))}}define([\"./workbox-f1770938\"],function(e){\"use strict\";importScripts(),self.skipWaiting(),e.clientsClaim(),e.precacheAndRoute([{url:\"/SAMPLE/1.jpg\",revision:\"a44c49cf215c16782cd584770d89bc51\"},{url:\"/SAMPLE/2.jpg\",revision:\"7d90b403c0c3cd8c6f33ffaaeea14148\"},{url:\"/SAMPLE/3.jpg\",revision:\"0bc76f4140df259feb779db5f0577013\"},{url:\"/SAMPLE/4.jpg\",revision:\"abffa97f0824ec96a19f5728663b2270\"},{url:\"/SAMPLE/5.jpg\",revision:\"e03eedea31d142278a2a33169821b346\"},{url:\"/_next/static/YcX8Od_XG1YOHtq_PDuUF/_buildManifest.js\",revision:\"cc55a8322e7b223b38dbce5a8f65bb3e\"},{url:\"/_next/static/YcX8Od_XG1YOHtq_PDuUF/_ssgManifest.js\",revision:\"b6652df95db52feb4daf4eca35380933\"},{url:\"/_next/static/chunks/1020-265331a3669c0280.js\",revision:\"265331a3669c0280\"},{url:\"/_next/static/chunks/11390db7-59ad3ae93106d104.js\",revision:\"59ad3ae93106d104\"},{url:\"/_next/static/chunks/124-5ac4a6599c9d0212.js\",revision:\"5ac4a6599c9d0212\"},{url:\"/_next/static/chunks/1737.de7de545c0f78371.js\",revision:\"de7de545c0f78371\"},{url:\"/_next/static/chunks/2252-17eb82ee926faf31.js\",revision:\"17eb82ee926faf31\"},{url:\"/_next/static/chunks/2943-705f44a089996b02.js\",revision:\"705f44a089996b02\"},{url:\"/_next/static/chunks/3319-7dba64bea35a4b8a.js\",revision:\"7dba64bea35a4b8a\"},{url:\"/_next/static/chunks/3375-2347aabebad8a01b.js\",revision:\"2347aabebad8a01b\"},{url:\"/_next/static/chunks/346-d128a8931a32f51a.js\",revision:\"d128a8931a32f51a\"},{url:\"/_next/static/chunks/3854-453493e56135b894.js\",revision:\"453493e56135b894\"},{url:\"/_next/static/chunks/3964-6af963d7870776dc.js\",revision:\"6af963d7870776dc\"},{url:\"/_next/static/chunks/4163-8890087f6b9e3879.js\",revision:\"8890087f6b9e3879\"},{url:\"/_next/static/chunks/4248-891efbfbc24b7bdd.js\",revision:\"891efbfbc24b7bdd\"},{url:\"/_next/static/chunks/4bd1b696-e5d7c65570c947b7.js\",revision:\"e5d7c65570c947b7\"},{url:\"/_next/static/chunks/5227-065c68ff969bede3.js\",revision:\"065c68ff969bede3\"},{url:\"/_next/static/chunks/5411-340c6e1348d05dc5.js\",revision:\"340c6e1348d05dc5\"},{url:\"/_next/static/chunks/5772-0f924aa119ec748b.js\",revision:\"0f924aa119ec748b\"},{url:\"/_next/static/chunks/5954-50fd89fe8a6af262.js\",revision:\"50fd89fe8a6af262\"},{url:\"/_next/static/chunks/6134-b84e2e5b3068ed88.js\",revision:\"b84e2e5b3068ed88\"},{url:\"/_next/static/chunks/6441-1710139645169f2e.js\",revision:\"1710139645169f2e\"},{url:\"/_next/static/chunks/6715-09735eb4d19f8045.js\",revision:\"09735eb4d19f8045\"},{url:\"/_next/static/chunks/6886.db0f0837776d4d05.js\",revision:\"db0f0837776d4d05\"},{url:\"/_next/static/chunks/7064611b-dec891ed1bcc1ecd.js\",revision:\"dec891ed1bcc1ecd\"},{url:\"/_next/static/chunks/7257-8e17a54fd99a9a58.js\",revision:\"8e17a54fd99a9a58\"},{url:\"/_next/static/chunks/7613-6d08403d38d01436.js\",revision:\"6d08403d38d01436\"},{url:\"/_next/static/chunks/7716-aac0661db6d74528.js\",revision:\"aac0661db6d74528\"},{url:\"/_next/static/chunks/8618-284d80d528dd7ac9.js\",revision:\"284d80d528dd7ac9\"},{url:\"/_next/static/chunks/8928-c2ca1ddfa664dfb1.js\",revision:\"c2ca1ddfa664dfb1\"},{url:\"/_next/static/chunks/9173-5254ea6a09aa2253.js\",revision:\"5254ea6a09aa2253\"},{url:\"/_next/static/chunks/9215-e84e9270ed4b7e7e.js\",revision:\"e84e9270ed4b7e7e\"},{url:\"/_next/static/chunks/9853-6fd07ed6c412d99c.js\",revision:\"6fd07ed6c412d99c\"},{url:\"/_next/static/chunks/9875-5180e2c492e277ef.js\",revision:\"5180e2c492e277ef\"},{url:\"/_next/static/chunks/app/_global-error/page-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/_not-found/page-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/about/page-a0e3f6167bbf2d82.js\",revision:\"a0e3f6167bbf2d82\"},{url:\"/_next/static/chunks/app/admin/analytics/page-508997e2afb12ef2.js\",revision:\"508997e2afb12ef2\"},{url:\"/_next/static/chunks/app/admin/categories/page-ebd45678560078a2.js\",revision:\"ebd45678560078a2\"},{url:\"/_next/static/chunks/app/admin/coupons/new/page-7e78bfef23bcadfe.js\",revision:\"7e78bfef23bcadfe\"},{url:\"/_next/static/chunks/app/admin/coupons/page-a47986beb732cf0e.js\",revision:\"a47986beb732cf0e\"},{url:\"/_next/static/chunks/app/admin/curated/%5Bid%5D/page-8c1c62bcd40a4aff.js\",revision:\"8c1c62bcd40a4aff\"},{url:\"/_next/static/chunks/app/admin/curated/new/page-66f64ea9fcec5e0e.js\",revision:\"66f64ea9fcec5e0e\"},{url:\"/_next/static/chunks/app/admin/curated/page-70c9c42db6862721.js\",revision:\"70c9c42db6862721\"},{url:\"/_next/static/chunks/app/admin/customers/%5Bid%5D/page-f39f32c663911095.js\",revision:\"f39f32c663911095\"},{url:\"/_next/static/chunks/app/admin/customers/page-70aa849ad1bdb829.js\",revision:\"70aa849ad1bdb829\"},{url:\"/_next/static/chunks/app/admin/finance/page-5820e485cc70a5a3.js\",revision:\"5820e485cc70a5a3\"},{url:\"/_next/static/chunks/app/admin/inventory/page-3301d90ef6fa53aa.js\",revision:\"3301d90ef6fa53aa\"},{url:\"/_next/static/chunks/app/admin/invoice-debug/page-9f21a889729af603.js\",revision:\"9f21a889729af603\"},{url:\"/_next/static/chunks/app/admin/layout-97eda29d5ce78936.js\",revision:\"97eda29d5ce78936\"},{url:\"/_next/static/chunks/app/admin/orders/%5Bid%5D/page-51485c3ad5e80a1d.js\",revision:\"51485c3ad5e80a1d\"},{url:\"/_next/static/chunks/app/admin/orders/page-821eb6dc55a0952d.js\",revision:\"821eb6dc55a0952d\"},{url:\"/_next/static/chunks/app/admin/page-d689446a287bf246.js\",revision:\"d689446a287bf246\"},{url:\"/_next/static/chunks/app/admin/payments/page-9b4985fcea0184c8.js\",revision:\"9b4985fcea0184c8\"},{url:\"/_next/static/chunks/app/admin/personalization/%5Bid%5D/page-2047002fc625517e.js\",revision:\"2047002fc625517e\"},{url:\"/_next/static/chunks/app/admin/personalization/new/page-8b76fa0a2623ebc2.js\",revision:\"8b76fa0a2623ebc2\"},{url:\"/_next/static/chunks/app/admin/personalization/page-85df87aa3545b366.js\",revision:\"85df87aa3545b366\"},{url:\"/_next/static/chunks/app/admin/production/page-1132b14e79fa1be6.js\",revision:\"1132b14e79fa1be6\"},{url:\"/_next/static/chunks/app/admin/products/%5Bid%5D/page-8b1a004e9a43d434.js\",revision:\"8b1a004e9a43d434\"},{url:\"/_next/static/chunks/app/admin/products/page-a1dc52d697f3ed8e.js\",revision:\"a1dc52d697f3ed8e\"},{url:\"/_next/static/chunks/app/admin/seed/page-1324d5075716a0da.js\",revision:\"1324d5075716a0da\"},{url:\"/_next/static/chunks/app/admin/settings/page-1d00ca24862e1143.js\",revision:\"1d00ca24862e1143\"},{url:\"/_next/static/chunks/app/admin/shipping/page-1b07629fffc4a3cf.js\",revision:\"1b07629fffc4a3cf\"},{url:\"/_next/static/chunks/app/admin/storefront/page-a922912a4f88e04e.js\",revision:\"a922912a4f88e04e\"},{url:\"/_next/static/chunks/app/api/gift-finder/route-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/api/proxy-image/route-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/auth/callback/route-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/cart/page-7a8fb41e94a879a5.js\",revision:\"7a8fb41e94a879a5\"},{url:\"/_next/static/chunks/app/checkout/page-872603e29b00b302.js\",revision:\"872603e29b00b302\"},{url:\"/_next/static/chunks/app/collections/%5Bslug%5D/page-f10e3acb4dec24c3.js\",revision:\"f10e3acb4dec24c3\"},{url:\"/_next/static/chunks/app/curated/%5Bslug%5D/page-bd8bc17edb1eaeda.js\",revision:\"bd8bc17edb1eaeda\"},{url:\"/_next/static/chunks/app/curated/page-dcd155e98bb7d82e.js\",revision:\"dcd155e98bb7d82e\"},{url:\"/_next/static/chunks/app/error-9aaa3b2fc5551705.js\",revision:\"9aaa3b2fc5551705\"},{url:\"/_next/static/chunks/app/gift-finder/page-377373bd4c86d592.js\",revision:\"377373bd4c86d592\"},{url:\"/_next/static/chunks/app/help/contact/page-586cbb114671833c.js\",revision:\"586cbb114671833c\"},{url:\"/_next/static/chunks/app/help/faq/page-7b65156b75e22ba2.js\",revision:\"7b65156b75e22ba2\"},{url:\"/_next/static/chunks/app/help/returns/page-600f119c746bf1cd.js\",revision:\"600f119c746bf1cd\"},{url:\"/_next/static/chunks/app/help/shipping/page-547b074f8a6c68c2.js\",revision:\"547b074f8a6c68c2\"},{url:\"/_next/static/chunks/app/help/size-guide/page-04b9d045c1cd52e0.js\",revision:\"04b9d045c1cd52e0\"},{url:\"/_next/static/chunks/app/help/track/page-0c8fc8fb33c644a4.js\",revision:\"0c8fc8fb33c644a4\"},{url:\"/_next/static/chunks/app/journal/%5Bslug%5D/page-76de78bed6c29cb4.js\",revision:\"76de78bed6c29cb4\"},{url:\"/_next/static/chunks/app/journal/page-841e350e71d03b80.js\",revision:\"841e350e71d03b80\"},{url:\"/_next/static/chunks/app/layout-7a04ffcc13bff4d0.js\",revision:\"7a04ffcc13bff4d0\"},{url:\"/_next/static/chunks/app/login/page-be57771b4e1b2dfb.js\",revision:\"be57771b4e1b2dfb\"},{url:\"/_next/static/chunks/app/lookbook/page-f2995b456c0e068f.js\",revision:\"f2995b456c0e068f\"},{url:\"/_next/static/chunks/app/manifest.webmanifest/route-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/not-found-9d243ab3231a5e04.js\",revision:\"9d243ab3231a5e04\"},{url:\"/_next/static/chunks/app/page-5c77c1d6a85f8be0.js\",revision:\"5c77c1d6a85f8be0\"},{url:\"/_next/static/chunks/app/personalise/%5Bid%5D/page-2c5343007c4a4b55.js\",revision:\"2c5343007c4a4b55\"},{url:\"/_next/static/chunks/app/personalise/page-9654385b852fb0ef.js\",revision:\"9654385b852fb0ef\"},{url:\"/_next/static/chunks/app/policies/privacy/page-0a20e7a4fa967dd5.js\",revision:\"0a20e7a4fa967dd5\"},{url:\"/_next/static/chunks/app/policies/terms/page-4560c551126fcafe.js\",revision:\"4560c551126fcafe\"},{url:\"/_next/static/chunks/app/press/page-08b1ffb6c418a668.js\",revision:\"08b1ffb6c418a668\"},{url:\"/_next/static/chunks/app/privacy-policy/page-8b464de9491ef100.js\",revision:\"8b464de9491ef100\"},{url:\"/_next/static/chunks/app/product/%5Bid%5D/page-bbf755181a68c0ac.js\",revision:\"bbf755181a68c0ac\"},{url:\"/_next/static/chunks/app/profile/addresses/edit/%5Bid%5D/page-f64151c5af7603a0.js\",revision:\"f64151c5af7603a0\"},{url:\"/_next/static/chunks/app/profile/addresses/new/page-986a0e64af281d86.js\",revision:\"986a0e64af281d86\"},{url:\"/_next/static/chunks/app/profile/addresses/page-2fe6b1586f832bfe.js\",revision:\"2fe6b1586f832bfe\"},{url:\"/_next/static/chunks/app/profile/edit/page-a86daaf4c20c854c.js\",revision:\"a86daaf4c20c854c\"},{url:\"/_next/static/chunks/app/profile/legal/page-fcdbb2d918edddd5.js\",revision:\"fcdbb2d918edddd5\"},{url:\"/_next/static/chunks/app/profile/notifications/page-2bbd7b9196f14749.js\",revision:\"2bbd7b9196f14749\"},{url:\"/_next/static/chunks/app/profile/orders/%5Bid%5D/page-7efa972cc2119bc5.js\",revision:\"7efa972cc2119bc5\"},{url:\"/_next/static/chunks/app/profile/orders/page-0acd2d7a716b114f.js\",revision:\"0acd2d7a716b114f\"},{url:\"/_next/static/chunks/app/profile/page-ee7fe63b3810d614.js\",revision:\"ee7fe63b3810d614\"},{url:\"/_next/static/chunks/app/profile/payments/page-2cf57d42bd603d74.js\",revision:\"2cf57d42bd603d74\"},{url:\"/_next/static/chunks/app/profile/security/page-b8f8ae3039039f8a.js\",revision:\"b8f8ae3039039f8a\"},{url:\"/_next/static/chunks/app/profile/support/page-9639f5a7e8d6e26f.js\",revision:\"9639f5a7e8d6e26f\"},{url:\"/_next/static/chunks/app/profile/wallet/page-109b9428f3514ca3.js\",revision:\"109b9428f3514ca3\"},{url:\"/_next/static/chunks/app/profile/wishlist/page-14bf947d6dc6b321.js\",revision:\"14bf947d6dc6b321\"},{url:\"/_next/static/chunks/app/rewards/page-2158e9016bff6f8e.js\",revision:\"2158e9016bff6f8e\"},{url:\"/_next/static/chunks/app/robots.txt/route-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/search/page-425a3cf9a8511f61.js\",revision:\"425a3cf9a8511f61\"},{url:\"/_next/static/chunks/app/shop/%5B%5B...slug%5D%5D/page-95ebdbc687de3b75.js\",revision:\"95ebdbc687de3b75\"},{url:\"/_next/static/chunks/app/shop/all/page-12417fce0798ffd1.js\",revision:\"12417fce0798ffd1\"},{url:\"/_next/static/chunks/app/shop/bestsellers/page-f13d7dd82c54de89.js\",revision:\"f13d7dd82c54de89\"},{url:\"/_next/static/chunks/app/shop/new-arrivals/page-340059e0ecfb24ff.js\",revision:\"340059e0ecfb24ff\"},{url:\"/_next/static/chunks/app/shop/sale/page-3ff595b408eee1e2.js\",revision:\"3ff595b408eee1e2\"},{url:\"/_next/static/chunks/app/sitemap.xml/route-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/app/sustainability/page-7a05fc8b9ecb3ac9.js\",revision:\"7a05fc8b9ecb3ac9\"},{url:\"/_next/static/chunks/app/worlds/page-18c78f03ac52d53d.js\",revision:\"18c78f03ac52d53d\"},{url:\"/_next/static/chunks/b2d98e07-c1c1e362e7b7e2c4.js\",revision:\"c1c1e362e7b7e2c4\"},{url:\"/_next/static/chunks/d78ee677-127e414a79053f4c.js\",revision:\"127e414a79053f4c\"},{url:\"/_next/static/chunks/ff804112-0804a9db3cc75bce.js\",revision:\"0804a9db3cc75bce\"},{url:\"/_next/static/chunks/framework-81b2e59ffe13bb24.js\",revision:\"81b2e59ffe13bb24\"},{url:\"/_next/static/chunks/main-9f958a9b64d0984e.js\",revision:\"9f958a9b64d0984e\"},{url:\"/_next/static/chunks/main-app-e145a5c12fc39aba.js\",revision:\"e145a5c12fc39aba\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/app-error-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/forbidden-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/global-error-83391a7ec109b272.js\",revision:\"83391a7ec109b272\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/unauthorized-454f540da50a7a08.js\",revision:\"454f540da50a7a08\"},{url:\"/_next/static/chunks/polyfills-42372ed130431b0a.js\",revision:\"846118c33b2c0e922d7b3a7676f81f6f\"},{url:\"/_next/static/chunks/webpack-30da02a595fa7b26.js\",revision:\"30da02a595fa7b26\"},{url:\"/_next/static/css/48ab33cc87a01bac.css\",revision:\"48ab33cc87a01bac\"},{url:\"/_next/static/css/ca31f011f491229a.css\",revision:\"ca31f011f491229a\"},{url:\"/_next/static/css/de2c269a28dbabc3.css\",revision:\"de2c269a28dbabc3\"},{url:\"/_next/static/media/034d78ad42e9620c-s.woff2\",revision:\"be7c930fceb794521be0a68e113a71d8\"},{url:\"/_next/static/media/0484562807a97172-s.p.woff2\",revision:\"b550bca8934bd86812d1f5e28c9cc1de\"},{url:\"/_next/static/media/19cfc7226ec3afaa-s.woff2\",revision:\"9dda5cfc9a46f256d0e131bb535e46f8\"},{url:\"/_next/static/media/1d3bc6cf8ffd57a1-s.woff2\",revision:\"77c293454a905c4071496c6339aace9d\"},{url:\"/_next/static/media/21350d82a1f187e9-s.woff2\",revision:\"4e2553027f1d60eff32898367dd4d541\"},{url:\"/_next/static/media/29a4aea02fdee119-s.woff2\",revision:\"69d9d2cdadeab7225297d50fc8e48e8b\"},{url:\"/_next/static/media/29e7bbdce9332268-s.woff2\",revision:\"9e3ecbe4bb4c6f0b71adc1cd481c2bdc\"},{url:\"/_next/static/media/3131c862d4942660-s.woff2\",revision:\"f228e29cc52b9499570eda6fe998bbbb\"},{url:\"/_next/static/media/643504413c165422-s.woff2\",revision:\"d743a03c1c571e1cef2b5e7351d3a520\"},{url:\"/_next/static/media/6a9c36ea9dc9b36b-s.woff2\",revision:\"2ff2e1d51f89a9391b6ee71296a62a79\"},{url:\"/_next/static/media/86fbc9d8e118e1a5-s.woff2\",revision:\"d7ea12b8f62cc4e87fdeb8edd558db4f\"},{url:\"/_next/static/media/8888a3826f4a3af4-s.p.woff2\",revision:\"792477d09826b11d1e5a611162c9797a\"},{url:\"/_next/static/media/8e9860b6e62d6359-s.woff2\",revision:\"01ba6c2a184b8cba08b0d57167664d75\"},{url:\"/_next/static/media/a1386beebedccca4-s.woff2\",revision:\"d3aa06d13d3cf9c0558927051f3cb948\"},{url:\"/_next/static/media/a65324f02aa278dc-s.p.woff2\",revision:\"01fcdef177778aaf5f2b595be337dc40\"},{url:\"/_next/static/media/abfec168c8990f67-s.woff2\",revision:\"f83a932e4390acc2339567f36b215614\"},{url:\"/_next/static/media/b957ea75a84b6ea7-s.p.woff2\",revision:\"0bd523f6049956faaf43c254a719d06a\"},{url:\"/_next/static/media/ba9851c3c22cd980-s.woff2\",revision:\"9e494903d6b0ffec1a1e14d34427d44d\"},{url:\"/_next/static/media/c3bc380753a8436c-s.woff2\",revision:\"5a1b7c983a9dc0a87a2ff138e07ae822\"},{url:\"/_next/static/media/c5fe6dc8356a8c31-s.woff2\",revision:\"027a89e9ab733a145db70f09b8a18b42\"},{url:\"/_next/static/media/db911767852bc875-s.woff2\",revision:\"9516f567cd80b0f418bba2f1299ed6d1\"},{url:\"/_next/static/media/df060dc08819ffb9-s.p.ttf\",revision:\"bf94596ed0a6d89ce1871caa03a2ba68\"},{url:\"/_next/static/media/df0a9ae256c0569c-s.woff2\",revision:\"d54db44de5ccb18886ece2fda72bdfe0\"},{url:\"/_next/static/media/e1694c6cb47c173f-s.woff2\",revision:\"cd5cabf5b80f62cb7b59dd200d84a9d7\"},{url:\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",revision:\"65850a373e258f1c897a2b3d75eb74de\"},{url:\"/_next/static/media/eafabf029ad39a43-s.p.woff2\",revision:\"43751174b6b810eb169101a20d8c26f8\"},{url:\"/_next/static/media/ee40bb094c99a29a-s.p.woff2\",revision:\"acfce21e9f6eaf62a1058b502b920e06\"},{url:\"/_next/static/media/f10b8e9d91f3edcb-s.woff2\",revision:\"63af7d5e18e585fad8d0220e5d551da1\"},{url:\"/_next/static/media/fe0777f1195381cb-s.woff2\",revision:\"f2a04185547c36abfa589651236a9849\"},{url:\"/applogo.png\",revision:\"f61a4864dd246aa024d9a51538c56b1a\"},{url:\"/bentogrid/accessiories.jpg\",revision:\"d4f38ad13373736dcbf362713574c23d\"},{url:\"/bentogrid/everydayicon.jpg\",revision:\"c3f201d17b99ee9b23d08225e368eeb9\"},{url:\"/bentogrid/littlelegends.jpg\",revision:\"d0d8344b34c4f10637c75211bf5d0b4a\"},{url:\"/bentogrid/littlelux.jpg\",revision:\"cc1788fbff3fc5166e2658357cb8e58b\"},{url:\"/bentogrid/spacestories.jpg\",revision:\"4e04cc65bcd806f17f050a0946bba9ff\"},{url:\"/blacklogo.png\",revision:\"90a739b02b1774f112a8d9a55d595f86\"},{url:\"/broncname.png\",revision:\"7e95b317318f57432e37774870b0a3fc\"},{url:\"/broncnamey.png\",revision:\"931f192ac384fd32d3a27325a78aaeb1\"},{url:\"/broncstudioredname.png\",revision:\"3be7a376bf95f847ff37df8eec53606d\"},{url:\"/broncstudioyellowname.png\",revision:\"b5c76e7ef1b299eb9bdc19432e38092a\"},{url:\"/file.svg\",revision:\"d09f95206c3fa0bb9bd9fefabfd0ea71\"},{url:\"/globe.svg\",revision:\"2aaafa6a49b6563925fe440891e32717\"},{url:\"/images/loaders/loader-1.png\",revision:\"41e175e035d6d6c07fe5c69937cab0db\"},{url:\"/images/loaders/loader-2.png\",revision:\"c4cbf99f5194c552c70ad73acefebb48\"},{url:\"/images/loaders/loader-3.png\",revision:\"2bbe3b3a584f484bd4b409fdda0cab0e\"},{url:\"/makeinindia.png\",revision:\"012ec074be02e45877a284f46d671ab8\"},{url:\"/next.svg\",revision:\"8e061864f388b47f33a1c3780831193e\"},{url:\"/noise.svg\",revision:\"95cd2d9a68207dbb7b8202eee9228af8\"},{url:\"/swe-worker-5c72df51bb1f6ee0.js\",revision:\"76fdd3369f623a3edcf74ce2200bfdd0\"},{url:\"/vercel.svg\",revision:\"c0af2f507b369b085b35ef4bbe3bcf1e\"},{url:\"/whitelogo.png\",revision:\"4e3d4b4d0d6a2f4e46bb97fc911a82fd\"},{url:\"/window.svg\",revision:\"a2760511c65806022ad20adf74370ff3\"}],{ignoreURLParametersMatching:[/^utm_/,/^fbclid$/]}),e.cleanupOutdatedCaches(),e.registerRoute(\"/\",new e.NetworkFirst({cacheName:\"start-url\",plugins:[{cacheWillUpdate:async({response:e})=>e&&\"opaqueredirect\"===e.type?new Response(e.body,{status:200,statusText:\"OK\",headers:e.headers}):e}]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:gstatic)\\.com\\/.*/i,new e.CacheFirst({cacheName:\"google-fonts-webfonts\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:31536e3})]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:googleapis)\\.com\\/.*/i,new e.StaleWhileRevalidate({cacheName:\"google-fonts-stylesheets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,new e.StaleWhileRevalidate({cacheName:\"static-font-assets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,new e.StaleWhileRevalidate({cacheName:\"static-image-assets\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:2592e3})]}),\"GET\"),e.registerRoute(/\\/_next\\/static.+\\.js$/i,new e.CacheFirst({cacheName:\"next-static-js-assets\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/image\\?url=.+$/i,new e.StaleWhileRevalidate({cacheName:\"next-image\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp3|wav|ogg)$/i,new e.CacheFirst({cacheName:\"static-audio-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp4|webm)$/i,new e.CacheFirst({cacheName:\"static-video-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:js)$/i,new e.StaleWhileRevalidate({cacheName:\"static-js-assets\",plugins:[new e.ExpirationPlugin({maxEntries:48,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:css|less)$/i,new e.StaleWhileRevalidate({cacheName:\"static-style-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/data\\/.+\\/.+\\.json$/i,new e.StaleWhileRevalidate({cacheName:\"next-data\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:json|xml|csv)$/i,new e.NetworkFirst({cacheName:\"static-data-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({sameOrigin:e,url:{pathname:a}})=>!(!e||a.startsWith(\"/api/auth/callback\")||!a.startsWith(\"/api/\")),new e.NetworkFirst({cacheName:\"apis\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:16,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({request:e,url:{pathname:a},sameOrigin:s})=>\"1\"===e.headers.get(\"RSC\")&&\"1\"===e.headers.get(\"Next-Router-Prefetch\")&&s&&!a.startsWith(\"/api/\"),new e.NetworkFirst({cacheName:\"pages-rsc-prefetch\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({request:e,url:{pathname:a},sameOrigin:s})=>\"1\"===e.headers.get(\"RSC\")&&s&&!a.startsWith(\"/api/\"),new e.NetworkFirst({cacheName:\"pages-rsc\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:{pathname:e},sameOrigin:a})=>a&&!e.startsWith(\"/api/\"),new e.NetworkFirst({cacheName:\"pages\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({sameOrigin:e})=>!e,new e.NetworkFirst({cacheName:\"cross-origin\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:3600})]}),\"GET\"),self.__WB_DISABLE_DEV_LOGS=!0});\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/public/swe-worker-5c72df51bb1f6ee0.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":700,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":791}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"(()=>{\"use strict\";self.onmessage=async e=>{switch(e.data.type){case\"__START_URL_CACHE__\":{let t=e.data.url,a=await fetch(t);if(!a.redirected)return(await caches.open(\"start-url\")).put(t,a);return Promise.resolve()}case\"__FRONTEND_NAV_CACHE__\":{let t=e.data.url,a=await caches.open(\"pages\");if(await a.match(t,{ignoreSearch:!0}))return;let s=await fetch(t);if(!s.ok)return;if(a.put(t,s.clone()),e.data.shouldCacheAggressively&&s.headers.get(\"Content-Type\")?.includes(\"text/html\"))try{let e=await s.text(),t=[],a=await caches.open(\"static-style-assets\"),r=await caches.open(\"next-static-js-assets\"),c=await caches.open(\"static-js-assets\");for(let[s,r]of e.matchAll(/<link.*?href=['\"](.*?)['\"].*?>/g))/rel=['\"]stylesheet['\"]/.test(s)&&t.push(a.match(r).then(e=>e?Promise.resolve():a.add(r)));for(let[,a]of e.matchAll(/<script.*?src=['\"](.*?)['\"].*?>/g)){let e=/\\/_next\\/static.+\\.js$/i.test(a)?r:c;t.push(e.match(a).then(t=>t?Promise.resolve():e.add(a)))}return await Promise.all(t)}catch{}return Promise.resolve()}default:return Promise.resolve()}}})();","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/public/workbox-f1770938.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":49,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":80},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":87,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":88},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":211,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":251},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":257,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":291},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":298,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":299},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":381,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":425},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":642,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":671},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":813,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":832},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":989,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1017},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1093,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1167},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1738,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1763},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":2263,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":2337},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3058,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3095},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":3102,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":3103},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3598,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3626},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3727,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3847},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7052,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":7174},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7234,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":7291},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":1,"column":7954,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":7955},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8056},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":8066,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8091},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":8368,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8410},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9440,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9541},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9550,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9557},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9566,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9625},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9627,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9719},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10029},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10038,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10056},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10065,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10079},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10081,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10142},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10163,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10197},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10963,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11000},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":11007,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":11008},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11122,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11142},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11194,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11295},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11301,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11462},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11382,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11453},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11623,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11656},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11941,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12031},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12060,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12097},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12464,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12575},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12684,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12793},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13012,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13065},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13272,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13313},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13319,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13360},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":13367,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":13368},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":14423,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":14424},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":14555,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":14592},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":14599,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":14600},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15097,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15468},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15191,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15215},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15404,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15458},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15514,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15692},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16025,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16050},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":16057,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16058},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16165,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16292},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16591,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16732},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16958,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17076},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17076,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17176},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17178,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17384},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17458,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17677},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17719,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17855},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17903,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17970},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":19089,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":19137},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20040,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20063},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20129,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20176},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20260,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20286},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20317,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20349},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20514,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":23575},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20635,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20660},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20768,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21260},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":20988,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":20989},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21080,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21134},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21657,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21702},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21768,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21880},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21988,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22001},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1,"column":22227,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":22228},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'s' is defined but never used.","line":1,"column":22385,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":22386},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22450,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22475},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22748,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22825},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22987},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":23349,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":23350},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":23479,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":23556}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":83,"fixableErrorCount":0,"fixableWarningCount":0,"source":"define([\"exports\"],function(t){\"use strict\";try{self[\"workbox:core:7.0.0\"]&&_()}catch(t){}const e=(t,...e)=>{let s=t;return e.length>0&&(s+=` :: ${JSON.stringify(e)}`),s};class s extends Error{constructor(t,s){super(e(t,s)),this.name=t,this.details=s}}try{self[\"workbox:routing:7.0.0\"]&&_()}catch(t){}const n=t=>t&&\"object\"==typeof t?t:{handle:t};class r{constructor(t,e,s=\"GET\"){this.handler=n(e),this.match=t,this.method=s}setCatchHandler(t){this.catchHandler=n(t)}}class i extends r{constructor(t,e,s){super(({url:e})=>{const s=t.exec(e.href);if(s&&(e.origin===location.origin||0===s.index))return s.slice(1)},e,s)}}class a{constructor(){this.t=new Map,this.i=new Map}get routes(){return this.t}addFetchListener(){self.addEventListener(\"fetch\",t=>{const{request:e}=t,s=this.handleRequest({request:e,event:t});s&&t.respondWith(s)})}addCacheListener(){self.addEventListener(\"message\",t=>{if(t.data&&\"CACHE_URLS\"===t.data.type){const{payload:e}=t.data,s=Promise.all(e.urlsToCache.map(e=>{\"string\"==typeof e&&(e=[e]);const s=new Request(...e);return this.handleRequest({request:s,event:t})}));t.waitUntil(s),t.ports&&t.ports[0]&&s.then(()=>t.ports[0].postMessage(!0))}})}handleRequest({request:t,event:e}){const s=new URL(t.url,location.href);if(!s.protocol.startsWith(\"http\"))return;const n=s.origin===location.origin,{params:r,route:i}=this.findMatchingRoute({event:e,request:t,sameOrigin:n,url:s});let a=i&&i.handler;const o=t.method;if(!a&&this.i.has(o)&&(a=this.i.get(o)),!a)return;let c;try{c=a.handle({url:s,request:t,event:e,params:r})}catch(t){c=Promise.reject(t)}const h=i&&i.catchHandler;return c instanceof Promise&&(this.o||h)&&(c=c.catch(async n=>{if(h)try{return await h.handle({url:s,request:t,event:e,params:r})}catch(t){t instanceof Error&&(n=t)}if(this.o)return this.o.handle({url:s,request:t,event:e});throw n})),c}findMatchingRoute({url:t,sameOrigin:e,request:s,event:n}){const r=this.t.get(s.method)||[];for(const i of r){let r;const a=i.match({url:t,sameOrigin:e,request:s,event:n});if(a)return r=a,(Array.isArray(r)&&0===r.length||a.constructor===Object&&0===Object.keys(a).length||\"boolean\"==typeof a)&&(r=void 0),{route:i,params:r}}return{}}setDefaultHandler(t,e=\"GET\"){this.i.set(e,n(t))}setCatchHandler(t){this.o=n(t)}registerRoute(t){this.t.has(t.method)||this.t.set(t.method,[]),this.t.get(t.method).push(t)}unregisterRoute(t){if(!this.t.has(t.method))throw new s(\"unregister-route-but-not-found-with-method\",{method:t.method});const e=this.t.get(t.method).indexOf(t);if(!(e>-1))throw new s(\"unregister-route-route-not-registered\");this.t.get(t.method).splice(e,1)}}let o;const c=()=>(o||(o=new a,o.addFetchListener(),o.addCacheListener()),o);function h(t,e,n){let a;if(\"string\"==typeof t){const s=new URL(t,location.href);a=new r(({url:t})=>t.href===s.href,e,n)}else if(t instanceof RegExp)a=new i(t,e,n);else if(\"function\"==typeof t)a=new r(t,e,n);else{if(!(t instanceof r))throw new s(\"unsupported-route-type\",{moduleName:\"workbox-routing\",funcName:\"registerRoute\",paramName:\"capture\"});a=t}return c().registerRoute(a),a}try{self[\"workbox:strategies:7.0.0\"]&&_()}catch(t){}const u={cacheWillUpdate:async({response:t})=>200===t.status||0===t.status?t:null},l={googleAnalytics:\"googleAnalytics\",precache:\"precache-v2\",prefix:\"workbox\",runtime:\"runtime\",suffix:\"undefined\"!=typeof registration?registration.scope:\"\"},f=t=>[l.prefix,t,l.suffix].filter(t=>t&&t.length>0).join(\"-\"),w=t=>t||f(l.precache),d=t=>t||f(l.runtime);function p(t,e){const s=new URL(t);for(const t of e)s.searchParams.delete(t);return s.href}class y{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}const g=new Set;function m(t){return\"string\"==typeof t?new Request(t):t}class v{constructor(t,e){this.h={},Object.assign(this,e),this.event=e.event,this.u=t,this.l=new y,this.p=[],this.m=[...t.plugins],this.v=new Map;for(const t of this.m)this.v.set(t,{});this.event.waitUntil(this.l.promise)}async fetch(t){const{event:e}=this;let n=m(t);if(\"navigate\"===n.mode&&e instanceof FetchEvent&&e.preloadResponse){const t=await e.preloadResponse;if(t)return t}const r=this.hasCallback(\"fetchDidFail\")?n.clone():null;try{for(const t of this.iterateCallbacks(\"requestWillFetch\"))n=await t({request:n.clone(),event:e})}catch(t){if(t instanceof Error)throw new s(\"plugin-error-request-will-fetch\",{thrownErrorMessage:t.message})}const i=n.clone();try{let t;t=await fetch(n,\"navigate\"===n.mode?void 0:this.u.fetchOptions);for(const s of this.iterateCallbacks(\"fetchDidSucceed\"))t=await s({event:e,request:i,response:t});return t}catch(t){throw r&&await this.runCallbacks(\"fetchDidFail\",{error:t,event:e,originalRequest:r.clone(),request:i.clone()}),t}}async fetchAndCachePut(t){const e=await this.fetch(t),s=e.clone();return this.waitUntil(this.cachePut(t,s)),e}async cacheMatch(t){const e=m(t);let s;const{cacheName:n,matchOptions:r}=this.u,i=await this.getCacheKey(e,\"read\"),a=Object.assign(Object.assign({},r),{cacheName:n});s=await caches.match(i,a);for(const t of this.iterateCallbacks(\"cachedResponseWillBeUsed\"))s=await t({cacheName:n,matchOptions:r,cachedResponse:s,request:i,event:this.event})||void 0;return s}async cachePut(t,e){const n=m(t);var r;await(r=0,new Promise(t=>setTimeout(t,r)));const i=await this.getCacheKey(n,\"write\");if(!e)throw new s(\"cache-put-with-no-response\",{url:(a=i.url,new URL(String(a),location.href).href.replace(new RegExp(`^${location.origin}`),\"\"))});var a;const o=await this.R(e);if(!o)return!1;const{cacheName:c,matchOptions:h}=this.u,u=await self.caches.open(c),l=this.hasCallback(\"cacheDidUpdate\"),f=l?await async function(t,e,s,n){const r=p(e.url,s);if(e.url===r)return t.match(e,n);const i=Object.assign(Object.assign({},n),{ignoreSearch:!0}),a=await t.keys(e,i);for(const e of a)if(r===p(e.url,s))return t.match(e,n)}(u,i.clone(),[\"__WB_REVISION__\"],h):null;try{await u.put(i,l?o.clone():o)}catch(t){if(t instanceof Error)throw\"QuotaExceededError\"===t.name&&await async function(){for(const t of g)await t()}(),t}for(const t of this.iterateCallbacks(\"cacheDidUpdate\"))await t({cacheName:c,oldResponse:f,newResponse:o.clone(),request:i,event:this.event});return!0}async getCacheKey(t,e){const s=`${t.url} | ${e}`;if(!this.h[s]){let n=t;for(const t of this.iterateCallbacks(\"cacheKeyWillBeUsed\"))n=m(await t({mode:e,request:n,event:this.event,params:this.params}));this.h[s]=n}return this.h[s]}hasCallback(t){for(const e of this.u.plugins)if(t in e)return!0;return!1}async runCallbacks(t,e){for(const s of this.iterateCallbacks(t))await s(e)}*iterateCallbacks(t){for(const e of this.u.plugins)if(\"function\"==typeof e[t]){const s=this.v.get(e),n=n=>{const r=Object.assign(Object.assign({},n),{state:s});return e[t](r)};yield n}}waitUntil(t){return this.p.push(t),t}async doneWaiting(){let t;for(;t=this.p.shift();)await t}destroy(){this.l.resolve(null)}async R(t){let e=t,s=!1;for(const t of this.iterateCallbacks(\"cacheWillUpdate\"))if(e=await t({request:this.request,response:e,event:this.event})||void 0,s=!0,!e)break;return s||e&&200!==e.status&&(e=void 0),e}}class R{constructor(t={}){this.cacheName=d(t.cacheName),this.plugins=t.plugins||[],this.fetchOptions=t.fetchOptions,this.matchOptions=t.matchOptions}handle(t){const[e]=this.handleAll(t);return e}handleAll(t){t instanceof FetchEvent&&(t={event:t,request:t.request});const e=t.event,s=\"string\"==typeof t.request?new Request(t.request):t.request,n=\"params\"in t?t.params:void 0,r=new v(this,{event:e,request:s,params:n}),i=this.q(r,s,e);return[i,this.D(i,r,s,e)]}async q(t,e,n){let r;await t.runCallbacks(\"handlerWillStart\",{event:n,request:e});try{if(r=await this.U(e,t),!r||\"error\"===r.type)throw new s(\"no-response\",{url:e.url})}catch(s){if(s instanceof Error)for(const i of t.iterateCallbacks(\"handlerDidError\"))if(r=await i({error:s,event:n,request:e}),r)break;if(!r)throw s}for(const s of t.iterateCallbacks(\"handlerWillRespond\"))r=await s({event:n,request:e,response:r});return r}async D(t,e,s,n){let r,i;try{r=await t}catch(i){}try{await e.runCallbacks(\"handlerDidRespond\",{event:n,request:s,response:r}),await e.doneWaiting()}catch(t){t instanceof Error&&(i=t)}if(await e.runCallbacks(\"handlerDidComplete\",{event:n,request:s,response:r,error:i}),e.destroy(),i)throw i}}function b(t){t.then(()=>{})}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},q.apply(null,arguments)}let D,U;const x=new WeakMap,L=new WeakMap,I=new WeakMap,C=new WeakMap,E=new WeakMap;let N={get(t,e,s){if(t instanceof IDBTransaction){if(\"done\"===e)return L.get(t);if(\"objectStoreNames\"===e)return t.objectStoreNames||I.get(t);if(\"store\"===e)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return k(t[e])},set:(t,e,s)=>(t[e]=s,!0),has:(t,e)=>t instanceof IDBTransaction&&(\"done\"===e||\"store\"===e)||e in t};function O(t){return t!==IDBDatabase.prototype.transaction||\"objectStoreNames\"in IDBTransaction.prototype?(U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(B(this),e),k(x.get(this))}:function(...e){return k(t.apply(B(this),e))}:function(e,...s){const n=t.call(B(this),e,...s);return I.set(n,e.sort?e.sort():[e]),k(n)}}function T(t){return\"function\"==typeof t?O(t):(t instanceof IDBTransaction&&function(t){if(L.has(t))return;const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"complete\",r),t.removeEventListener(\"error\",i),t.removeEventListener(\"abort\",i)},r=()=>{e(),n()},i=()=>{s(t.error||new DOMException(\"AbortError\",\"AbortError\")),n()};t.addEventListener(\"complete\",r),t.addEventListener(\"error\",i),t.addEventListener(\"abort\",i)});L.set(t,e)}(t),e=t,(D||(D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,N):t);var e}function k(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"success\",r),t.removeEventListener(\"error\",i)},r=()=>{e(k(t.result)),n()},i=()=>{s(t.error),n()};t.addEventListener(\"success\",r),t.addEventListener(\"error\",i)});return e.then(e=>{e instanceof IDBCursor&&x.set(e,t)}).catch(()=>{}),E.set(e,t),e}(t);if(C.has(t))return C.get(t);const e=T(t);return e!==t&&(C.set(t,e),E.set(e,t)),e}const B=t=>E.get(t);const P=[\"get\",\"getKey\",\"getAll\",\"getAllKeys\",\"count\"],M=[\"put\",\"add\",\"delete\",\"clear\"],W=new Map;function j(t,e){if(!(t instanceof IDBDatabase)||e in t||\"string\"!=typeof e)return;if(W.get(e))return W.get(e);const s=e.replace(/FromIndex$/,\"\"),n=e!==s,r=M.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!P.includes(s))return;const i=async function(t,...e){const i=this.transaction(t,r?\"readwrite\":\"readonly\");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[s](...e),r&&i.done]))[0]};return W.set(e,i),i}N=(t=>q({},t,{get:(e,s,n)=>j(e,s)||t.get(e,s,n),has:(e,s)=>!!j(e,s)||t.has(e,s)}))(N);try{self[\"workbox:expiration:7.0.0\"]&&_()}catch(t){}const S=\"cache-entries\",K=t=>{const e=new URL(t,location.href);return e.hash=\"\",e.href};class A{constructor(t){this._=null,this.L=t}I(t){const e=t.createObjectStore(S,{keyPath:\"id\"});e.createIndex(\"cacheName\",\"cacheName\",{unique:!1}),e.createIndex(\"timestamp\",\"timestamp\",{unique:!1})}C(t){this.I(t),this.L&&function(t,{blocked:e}={}){const s=indexedDB.deleteDatabase(t);e&&s.addEventListener(\"blocked\",t=>e(t.oldVersion,t)),k(s).then(()=>{})}(this.L)}async setTimestamp(t,e){const s={url:t=K(t),timestamp:e,cacheName:this.L,id:this.N(t)},n=(await this.getDb()).transaction(S,\"readwrite\",{durability:\"relaxed\"});await n.store.put(s),await n.done}async getTimestamp(t){const e=await this.getDb(),s=await e.get(S,this.N(t));return null==s?void 0:s.timestamp}async expireEntries(t,e){const s=await this.getDb();let n=await s.transaction(S).store.index(\"timestamp\").openCursor(null,\"prev\");const r=[];let i=0;for(;n;){const s=n.value;s.cacheName===this.L&&(t&&s.timestamp<t||e&&i>=e?r.push(n.value):i++),n=await n.continue()}const a=[];for(const t of r)await s.delete(S,t.id),a.push(t.url);return a}N(t){return this.L+\"|\"+K(t)}async getDb(){return this._||(this._=await function(t,e,{blocked:s,upgrade:n,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),o=k(a);return n&&a.addEventListener(\"upgradeneeded\",t=>{n(k(a.result),t.oldVersion,t.newVersion,k(a.transaction),t)}),s&&a.addEventListener(\"blocked\",t=>s(t.oldVersion,t.newVersion,t)),o.then(t=>{i&&t.addEventListener(\"close\",()=>i()),r&&t.addEventListener(\"versionchange\",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}(\"workbox-expiration\",1,{upgrade:this.C.bind(this)})),this._}}class F{constructor(t,e={}){this.O=!1,this.T=!1,this.k=e.maxEntries,this.B=e.maxAgeSeconds,this.P=e.matchOptions,this.L=t,this.M=new A(t)}async expireEntries(){if(this.O)return void(this.T=!0);this.O=!0;const t=this.B?Date.now()-1e3*this.B:0,e=await this.M.expireEntries(t,this.k),s=await self.caches.open(this.L);for(const t of e)await s.delete(t,this.P);this.O=!1,this.T&&(this.T=!1,b(this.expireEntries()))}async updateTimestamp(t){await this.M.setTimestamp(t,Date.now())}async isURLExpired(t){if(this.B){const e=await this.M.getTimestamp(t),s=Date.now()-1e3*this.B;return void 0===e||e<s}return!1}async delete(){this.T=!1,await this.M.expireEntries(1/0)}}try{self[\"workbox:range-requests:7.0.0\"]&&_()}catch(t){}async function H(t,e){try{if(206===e.status)return e;const n=t.headers.get(\"range\");if(!n)throw new s(\"no-range-header\");const r=function(t){const e=t.trim().toLowerCase();if(!e.startsWith(\"bytes=\"))throw new s(\"unit-must-be-bytes\",{normalizedRangeHeader:e});if(e.includes(\",\"))throw new s(\"single-range-only\",{normalizedRangeHeader:e});const n=/(\\d*)-(\\d*)/.exec(e);if(!n||!n[1]&&!n[2])throw new s(\"invalid-range-values\",{normalizedRangeHeader:e});return{start:\"\"===n[1]?void 0:Number(n[1]),end:\"\"===n[2]?void 0:Number(n[2])}}(n),i=await e.blob(),a=function(t,e,n){const r=t.size;if(n&&n>r||e&&e<0)throw new s(\"range-not-satisfiable\",{size:r,end:n,start:e});let i,a;return void 0!==e&&void 0!==n?(i=e,a=n+1):void 0!==e&&void 0===n?(i=e,a=r):void 0!==n&&void 0===e&&(i=r-n,a=r),{start:i,end:a}}(i,r.start,r.end),o=i.slice(a.start,a.end),c=o.size,h=new Response(o,{status:206,statusText:\"Partial Content\",headers:e.headers});return h.headers.set(\"Content-Length\",String(c)),h.headers.set(\"Content-Range\",`bytes ${a.start}-${a.end-1}/${i.size}`),h}catch(t){return new Response(\"\",{status:416,statusText:\"Range Not Satisfiable\"})}}function $(t,e){const s=e();return t.waitUntil(s),s}try{self[\"workbox:precaching:7.0.0\"]&&_()}catch(t){}function z(t){if(!t)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(\"string\"==typeof t){const e=new URL(t,location.href);return{cacheKey:e.href,url:e.href}}const{revision:e,url:n}=t;if(!n)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(!e){const t=new URL(n,location.href);return{cacheKey:t.href,url:t.href}}const r=new URL(n,location.href),i=new URL(n,location.href);return r.searchParams.set(\"__WB_REVISION__\",e),{cacheKey:r.href,url:i.href}}class G{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:t,state:e})=>{e&&(e.originalRequest=t)},this.cachedResponseWillBeUsed=async({event:t,state:e,cachedResponse:s})=>{if(\"install\"===t.type&&e&&e.originalRequest&&e.originalRequest instanceof Request){const t=e.originalRequest.url;s?this.notUpdatedURLs.push(t):this.updatedURLs.push(t)}return s}}}class V{constructor({precacheController:t}){this.cacheKeyWillBeUsed=async({request:t,params:e})=>{const s=(null==e?void 0:e.cacheKey)||this.W.getCacheKeyForURL(t.url);return s?new Request(s,{headers:t.headers}):t},this.W=t}}let J,Q;async function X(t,e){let n=null;if(t.url){n=new URL(t.url).origin}if(n!==self.location.origin)throw new s(\"cross-origin-copy-response\",{origin:n});const r=t.clone(),i={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},a=e?e(i):i,o=function(){if(void 0===J){const t=new Response(\"\");if(\"body\"in t)try{new Response(t.body),J=!0}catch(t){J=!1}J=!1}return J}()?r.body:await r.blob();return new Response(o,a)}class Y extends R{constructor(t={}){t.cacheName=w(t.cacheName),super(t),this.j=!1!==t.fallbackToNetwork,this.plugins.push(Y.copyRedirectedCacheableResponsesPlugin)}async U(t,e){const s=await e.cacheMatch(t);return s||(e.event&&\"install\"===e.event.type?await this.S(t,e):await this.K(t,e))}async K(t,e){let n;const r=e.params||{};if(!this.j)throw new s(\"missing-precache-entry\",{cacheName:this.cacheName,url:t.url});{const s=r.integrity,i=t.integrity,a=!i||i===s;n=await e.fetch(new Request(t,{integrity:\"no-cors\"!==t.mode?i||s:void 0})),s&&a&&\"no-cors\"!==t.mode&&(this.A(),await e.cachePut(t,n.clone()))}return n}async S(t,e){this.A();const n=await e.fetch(t);if(!await e.cachePut(t,n.clone()))throw new s(\"bad-precaching-response\",{url:t.url,status:n.status});return n}A(){let t=null,e=0;for(const[s,n]of this.plugins.entries())n!==Y.copyRedirectedCacheableResponsesPlugin&&(n===Y.defaultPrecacheCacheabilityPlugin&&(t=s),n.cacheWillUpdate&&e++);0===e?this.plugins.push(Y.defaultPrecacheCacheabilityPlugin):e>1&&null!==t&&this.plugins.splice(t,1)}}Y.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:t})=>!t||t.status>=400?null:t},Y.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:t})=>t.redirected?await X(t):t};class Z{constructor({cacheName:t,plugins:e=[],fallbackToNetwork:s=!0}={}){this.F=new Map,this.H=new Map,this.$=new Map,this.u=new Y({cacheName:w(t),plugins:[...e,new V({precacheController:this})],fallbackToNetwork:s}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this.u}precache(t){this.addToCacheList(t),this.G||(self.addEventListener(\"install\",this.install),self.addEventListener(\"activate\",this.activate),this.G=!0)}addToCacheList(t){const e=[];for(const n of t){\"string\"==typeof n?e.push(n):n&&void 0===n.revision&&e.push(n.url);const{cacheKey:t,url:r}=z(n),i=\"string\"!=typeof n&&n.revision?\"reload\":\"default\";if(this.F.has(r)&&this.F.get(r)!==t)throw new s(\"add-to-cache-list-conflicting-entries\",{firstEntry:this.F.get(r),secondEntry:t});if(\"string\"!=typeof n&&n.integrity){if(this.$.has(t)&&this.$.get(t)!==n.integrity)throw new s(\"add-to-cache-list-conflicting-integrities\",{url:r});this.$.set(t,n.integrity)}if(this.F.set(r,t),this.H.set(r,i),e.length>0){const t=`Workbox is precaching URLs without revision info: ${e.join(\", \")}\\nThis is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(t)}}}install(t){return $(t,async()=>{const e=new G;this.strategy.plugins.push(e);for(const[e,s]of this.F){const n=this.$.get(s),r=this.H.get(e),i=new Request(e,{integrity:n,cache:r,credentials:\"same-origin\"});await Promise.all(this.strategy.handleAll({params:{cacheKey:s},request:i,event:t}))}const{updatedURLs:s,notUpdatedURLs:n}=e;return{updatedURLs:s,notUpdatedURLs:n}})}activate(t){return $(t,async()=>{const t=await self.caches.open(this.strategy.cacheName),e=await t.keys(),s=new Set(this.F.values()),n=[];for(const r of e)s.has(r.url)||(await t.delete(r),n.push(r.url));return{deletedURLs:n}})}getURLsToCacheKeys(){return this.F}getCachedURLs(){return[...this.F.keys()]}getCacheKeyForURL(t){const e=new URL(t,location.href);return this.F.get(e.href)}getIntegrityForCacheKey(t){return this.$.get(t)}async matchPrecache(t){const e=t instanceof Request?t.url:t,s=this.getCacheKeyForURL(e);if(s){return(await self.caches.open(this.strategy.cacheName)).match(s)}}createHandlerBoundToURL(t){const e=this.getCacheKeyForURL(t);if(!e)throw new s(\"non-precached-url\",{url:t});return s=>(s.request=new Request(t),s.params=Object.assign({cacheKey:e},s.params),this.strategy.handle(s))}}const tt=()=>(Q||(Q=new Z),Q);class et extends r{constructor(t,e){super(({request:s})=>{const n=t.getURLsToCacheKeys();for(const r of function*(t,{ignoreURLParametersMatching:e=[/^utm_/,/^fbclid$/],directoryIndex:s=\"index.html\",cleanURLs:n=!0,urlManipulation:r}={}){const i=new URL(t,location.href);i.hash=\"\",yield i.href;const a=function(t,e=[]){for(const s of[...t.searchParams.keys()])e.some(t=>t.test(s))&&t.searchParams.delete(s);return t}(i,e);if(yield a.href,s&&a.pathname.endsWith(\"/\")){const t=new URL(a.href);t.pathname+=s,yield t.href}if(n){const t=new URL(a.href);t.pathname+=\".html\",yield t.href}if(r){const t=r({url:i});for(const e of t)yield e.href}}(s.url,e)){const e=n.get(r);if(e){return{cacheKey:e,integrity:t.getIntegrityForCacheKey(e)}}}},t.strategy)}}t.CacheFirst=class extends R{async U(t,e){let n,r=await e.cacheMatch(t);if(!r)try{r=await e.fetchAndCachePut(t)}catch(t){t instanceof Error&&(n=t)}if(!r)throw new s(\"no-response\",{url:t.url,error:n});return r}},t.ExpirationPlugin=class{constructor(t={}){this.cachedResponseWillBeUsed=async({event:t,request:e,cacheName:s,cachedResponse:n})=>{if(!n)return null;const r=this.V(n),i=this.J(s);b(i.expireEntries());const a=i.updateTimestamp(e.url);if(t)try{t.waitUntil(a)}catch(t){}return r?n:null},this.cacheDidUpdate=async({cacheName:t,request:e})=>{const s=this.J(t);await s.updateTimestamp(e.url),await s.expireEntries()},this.X=t,this.B=t.maxAgeSeconds,this.Y=new Map,t.purgeOnQuotaError&&function(t){g.add(t)}(()=>this.deleteCacheAndMetadata())}J(t){if(t===d())throw new s(\"expire-custom-caches-only\");let e=this.Y.get(t);return e||(e=new F(t,this.X),this.Y.set(t,e)),e}V(t){if(!this.B)return!0;const e=this.Z(t);if(null===e)return!0;return e>=Date.now()-1e3*this.B}Z(t){if(!t.headers.has(\"date\"))return null;const e=t.headers.get(\"date\"),s=new Date(e).getTime();return isNaN(s)?null:s}async deleteCacheAndMetadata(){for(const[t,e]of this.Y)await self.caches.delete(t),await e.delete();this.Y=new Map}},t.NetworkFirst=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u),this.tt=t.networkTimeoutSeconds||0}async U(t,e){const n=[],r=[];let i;if(this.tt){const{id:s,promise:a}=this.et({request:t,logs:n,handler:e});i=s,r.push(a)}const a=this.st({timeoutId:i,request:t,logs:n,handler:e});r.push(a);const o=await e.waitUntil((async()=>await e.waitUntil(Promise.race(r))||await a)());if(!o)throw new s(\"no-response\",{url:t.url});return o}et({request:t,logs:e,handler:s}){let n;return{promise:new Promise(e=>{n=setTimeout(async()=>{e(await s.cacheMatch(t))},1e3*this.tt)}),id:n}}async st({timeoutId:t,request:e,logs:s,handler:n}){let r,i;try{i=await n.fetchAndCachePut(e)}catch(t){t instanceof Error&&(r=t)}return t&&clearTimeout(t),!r&&i||(i=await n.cacheMatch(e)),i}},t.RangeRequestsPlugin=class{constructor(){this.cachedResponseWillBeUsed=async({request:t,cachedResponse:e})=>e&&t.headers.has(\"range\")?await H(t,e):e}},t.StaleWhileRevalidate=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u)}async U(t,e){const n=e.fetchAndCachePut(t).catch(()=>{});e.waitUntil(n);let r,i=await e.cacheMatch(t);if(i);else try{i=await n}catch(t){t instanceof Error&&(r=t)}if(!i)throw new s(\"no-response\",{url:t.url,error:r});return i}},t.cleanupOutdatedCaches=function(){self.addEventListener(\"activate\",t=>{const e=w();t.waitUntil((async(t,e=\"-precache-\")=>{const s=(await self.caches.keys()).filter(s=>s.includes(e)&&s.includes(self.registration.scope)&&s!==t);return await Promise.all(s.map(t=>self.caches.delete(t))),s})(e).then(t=>{}))})},t.clientsClaim=function(){self.addEventListener(\"activate\",()=>self.clients.claim())},t.precacheAndRoute=function(t,e){!function(t){tt().precache(t)}(t),function(t){const e=tt();h(new et(e,t))}(e)},t.registerRoute=h});\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/check_clothing_category.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/check_data.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":58},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { createClient } = require('@supabase/supabase-js');\nrequire('dotenv').config({ path: '.env.local' });\n\nconst supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n);\n\nasync function checkData() {\n    const { count, error } = await supabase\n        .from('curated_sections')\n        .select('*', { count: 'exact', head: true });\n\n    if (error) {\n        console.error('Error checking data:', error);\n    } else {\n        console.log(`Found ${count} rows in curated_sections table.`);\n    }\n}\n\ncheckData();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/check_settings_schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/cleanup_departments.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/inspect_db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/inspect_db_v2.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/inspect_products.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/inspect_roots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/list_categories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/migrate_taxonomy.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TAXONOMY' is assigned a value but never used.","line":11,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":114,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":114,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { createClient } from '@supabase/supabase-js';\nimport dotenv from 'dotenv';\ndotenv.config({ path: '.env.local' });\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\nconst supabase = createClient(supabaseUrl!, supabaseKey!);\n\n// Simplified Taxonomy from categories.ts\nconst TAXONOMY = {\n    'clothing': {\n        name: 'Clothing',\n        slug: 'clothing',\n        subs: [\n            {\n                name: 'Men',\n                slug: 'men',\n                items: [\n                    { name: 'Classic Crew', slug: 'men-classic-crew' },\n                    { name: 'Oversized Tees', slug: 'men-oversized-tees' },\n                    { name: 'Polos', slug: 'men-polos' },\n                    { name: 'Hoodies', slug: 'men-hoodies' },\n                    { name: 'Jackets', slug: 'men-jackets' },\n                    { name: 'Bottoms', slug: 'men-bottoms' }\n                ]\n            },\n            {\n                name: 'Women',\n                slug: 'women',\n                items: [\n                    { name: 'Tops & Tees', slug: 'women-tops-tees' },\n                    { name: 'Dresses', slug: 'women-dresses' },\n                    { name: 'Bottom Wear', slug: 'women-bottom-wear' },\n                    { name: 'Activewear', slug: 'women-activewear' },\n                    { name: 'Outerwear', slug: 'women-outerwear' }\n                ]\n            },\n            {\n                name: 'Kids',\n                slug: 'kids',\n                items: [\n                    { name: 'Boys Tees', slug: 'boys-tees' },\n                    { name: 'Girls Tees', slug: 'girls-tees' },\n                    { name: 'Rompers', slug: 'rompers' },\n                    { name: 'Winter Wear', slug: 'kids-winter-wear' }\n                ]\n            }\n        ]\n    },\n    'kids': { // Level 1 slug in taxonomy is 'kids', but root key is kids. Wait, categories.ts says: slug: 'kids', legacy_slug: 'little-legends'. \n        // Actually the DB has root 'Kids' (slug 'kids')? No, DB has root 'Clothing', 'Accessories', etc. \n        // Wait, inspect_roots showed 'Toys & Activities' as ROOT. \n        // But categories.ts puts 'Toys & Activities' UNDER 'kids' (Stationery & Play).\n        // Let's stick to categories.ts structure. If DB has diverging roots, I might create duplicates if I'm not careful.\n        // BUT, the frontend navigates to /shop/kids. \n        // Let's assume we want to MATCH categories.ts.\n\n        name: 'Stationery & Play',\n        slug: 'kids-zone', // Renaming slug to avoid conflict with 'Kids' clothing if needed, but categories.ts uses 'kids'. \n        // Issue: DB already has 'Kids' under 'Clothing' (slug 'kids'). \n        // AND 'Kids' (slug 'kids') as root? No, previous output showed 'Kids' (id: 097...) parent is 'Clothing' (73d...).\n        // So 'kids' slug is taken by Clothing > Kids.\n        // The 'Stationery & Play' section has slug 'kids' in categories.ts. This is a CONFLICT.\n        // I will use 'stationery-play' for now to distinguish.\n        items: [\n            {\n                name: 'Books',\n                slug: 'kids-books',\n                items: [\n                    { name: 'Story Books', slug: 'kids-story-books' },\n                    { name: 'Classic Books', slug: 'classic-books' },\n                    { name: 'Colouring Books', slug: 'kids-colouring-books' }\n                ]\n            },\n            // ... other kids items\n        ]\n    }\n};\n\n// For this fix, I will focus on CLOTHING as that is what I tested.\n// I will ensure 'Clothing' > 'Men' > 'Classic Crew' exists.\n\nconst CLOTHING_TAXONOMY = [\n    {\n        name: 'Men',\n        slug: 'men',\n        items: [\n            { name: 'Classic Crew', slug: 'men-classic-crew' },\n            { name: 'Oversized Tees', slug: 'men-oversized-tees' },\n            // Add others if needed\n        ]\n    },\n    {\n        name: 'Women',\n        slug: 'women',\n        items: [\n            { name: 'Tops & Tees', slug: 'women-tops-tees' },\n            { name: 'Dresses', slug: 'women-dresses' },\n        ]\n    },\n    {\n        name: 'Kids',\n        slug: 'kids', // This is Clothing > Kids\n        items: [\n            { name: 'Boys Tees', slug: 'boys-tees' },\n            { name: 'Girls Tees', slug: 'girls-tees' }\n        ]\n    }\n];\n\nasync function migrate() {\n    // 1. Get Root Clothing\n    const { data: root, error } = await supabase.from('categories').select('id').eq('slug', 'clothing').single();\n    if (!root) { console.error('Root clothing not found'); return; }\n    console.log('Root Clothing ID:', root.id);\n\n    // 2. Iterate Level 1 (Men, Women, Kids)\n    for (const l1 of CLOTHING_TAXONOMY) {\n        console.log(`Processing ${l1.name}...`);\n\n        // Find L1 Category\n        let { data: catL1 } = await supabase\n            .from('categories')\n            .select('id')\n            .eq('slug', l1.slug)\n            .eq('parent_id', root.id)\n            .single();\n\n        if (!catL1) {\n            console.log(` Creating ${l1.name}...`);\n            const { data: newL1 } = await supabase.from('categories').insert({\n                name: l1.name,\n                slug: l1.slug,\n                parent_id: root.id\n            }).select().single();\n            catL1 = newL1;\n        }\n\n        if (catL1) {\n            // 3. Upsert Items (Level 2)\n            for (const item of l1.items) {\n                const { data: existing } = await supabase\n                    .from('categories')\n                    .select('id')\n                    .eq('slug', item.slug)\n                    .single();\n\n                if (!existing) {\n                    console.log(`  Creating ${item.name} (${item.slug})...`);\n                    await supabase.from('categories').insert({\n                        name: item.name,\n                        slug: item.slug,\n                        parent_id: catL1.id\n                    });\n                } else {\n                    console.log(`  ${item.name} exists.`);\n                }\n            }\n        }\n    }\n\n    console.log('Done migrating clothing categories.');\n\n    // 4. Update Test Products\n    // Assign some random products to 'men-classic-crew'\n    console.log('Updating test products...');\n\n    // Get ID for men-classic-crew\n    const { data: crew } = await supabase.from('categories').select('id').eq('slug', 'men-classic-crew').single();\n    if (crew) {\n        // Find some 'Men' products\n        const { data: menCats } = await supabase.from('categories').select('id').eq('slug', 'men').single();\n        if (menCats) {\n            const { data: products } = await supabase.from('products').select('id').eq('category_id', menCats.id).limit(2);\n            if (products && products.length > 0) {\n                const ids = products.map(p => p.id);\n                await supabase.from('products').update({ category_id: crew.id }).in('id', ids);\n                console.log(`Updated ${ids.length} products to Men Classic Crew`);\n            }\n        }\n    }\n}\n\nmigrate();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/reseed_subcategories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/seed_curated.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":58},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { createClient } = require('@supabase/supabase-js');\nrequire('dotenv').config({ path: '.env.local' });\n\nconst supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY // Ideally usage of SERVICE_ROLE_KEY for seeding, but trying ANON first if RLS allows, or user can run in SQL editor.\n);\n\n// Hardcoded config from src/data/curatedConfig.ts\nconst CURATED_CONFIG = {\n    'gifts-under-499': {\n        title: 'Gifts Under â‚¹499',\n        description: 'Small joys, big smiles.',\n        image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=600&q=80',\n        category_slugs: [\n            'keychains', 'badges', 'patches', 'bookmarks',\n            'postcards', 'kids-stickers', 'kids-tattoos',\n            'magic-mugs', 'pet-tags', 'coasters', 'magnets',\n            'stationery', 'accessories'\n        ],\n        price_max: 500,\n        display_order: 1\n    },\n    'back-to-school': {\n        title: 'Study Time',\n        description: 'Fun meets focus.',\n        image: 'https://images.unsplash.com/photo-1456735190827-d1261f7add50?w=600&q=80',\n        category_slugs: [\n            'kids-colouring-books', 'sketchbooks', 'notebooks',\n            'daily-planners', 'bookmarks', 'kids-stickers',\n            'mdf-puzzles', 'jigsaw-puzzles',\n            'stationery'\n        ],\n        display_order: 6\n    },\n    'desk-therapy': {\n        title: 'Desk Therapy',\n        description: 'Workspaces that feel like you.',\n        image: 'https://images.unsplash.com/photo-1497215842964-222b430dc0a8?w=600&q=80',\n        category_slugs: [\n            'mouse-pads', 'gaming-pads', 'coffee-mugs',\n            'coasters', 'magnets', 'posters', 'canvas',\n            'tech-accessories'\n        ],\n        display_order: 2\n    },\n    'everyday-carry': {\n        title: 'Everyday Carry',\n        description: 'What you reach for daily.',\n        image: 'https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=600&q=80',\n        category_slugs: [\n            'tote-bags-zip', 'large-totes', 'drawstring-bags',\n            'phone-cases', 'iphone-cases', 'samsung-cases',\n            'keychains', 'steel-bottles', 'sippers',\n            'bags'\n        ],\n        display_order: 4\n    },\n    'weekend-fits': {\n        title: 'Weekend Fits',\n        description: 'Relaxed. Easy. Effortless.',\n        image: 'https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600&q=80',\n        category_slugs: [\n            'men-oversized-tees', 'men-classic-crew', 'men-hoodies',\n            'men-bottoms', 'caps', 'bucket-hats',\n            'women-tops-tees', 'women-activewear',\n            'clothing'\n        ],\n        display_order: 3\n    },\n    'mini-home-makeover': {\n        title: 'Mini Home Makeover',\n        description: 'Small changes, big vibe.',\n        image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=600&q=80',\n        category_slugs: [\n            'posters', 'canvas', 'cushions', 'coasters', 'magnets',\n            'magic-mugs',\n            'home-decor'\n        ],\n        display_order: 5\n    },\n    'little-ones': {\n        title: 'For the Little Ones',\n        description: 'Play, learn, imagine.',\n        image: 'https://images.unsplash.com/photo-1519340241574-2291ec3a0c24?w=600&q=80',\n        category_slugs: [\n            'kids-story-books', 'kids-colouring-books',\n            'jigsaw-puzzles', 'mdf-puzzles', 'kids-tattoos',\n            'kids-stickers', 'boys-tees', 'girls-tees',\n            'kids-learning'\n        ],\n        display_order: 7\n    },\n    'pawfect-picks': {\n        title: 'Pawfect Picks ðŸ¾',\n        description: 'Because pets are family.',\n        image: 'https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=600&q=80',\n        category_slugs: [\n            'dog-tees', 'pet-tags',\n            'pets'\n        ],\n        display_order: 8\n    }\n};\n\nasync function seed() {\n    console.log('Seeding Curated Sections...');\n\n    // Convert to array\n    const records = Object.values(CURATED_CONFIG).map(item => ({\n        title: item.title,\n        description: item.description,\n        image_url: item.image,\n        category_slugs: item.category_slugs,\n        price_max: item.price_max || null,\n        display_order: item.display_order,\n        is_active: true\n    }));\n\n    const { data, error } = await supabase\n        .from('curated_sections')\n        .insert(records)\n        .select();\n\n    if (error) {\n        console.error('Error seeding data:', error);\n    } else {\n        console.log(`Successfully seeded ${data.length} records.`);\n    }\n}\n\nseed();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/seed_gifts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/seed_products.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'key' is assigned a value but never used.","line":238,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":238,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { createClient } from '@supabase/supabase-js';\nimport dotenv from 'dotenv';\ndotenv.config({ path: '.env.local' });\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\nconst supabase = createClient(supabaseUrl!, supabaseKey!);\n\n// Hardcoded for this script to avoid import issues\nconst CATEGORY_TAXONOMY = {\n    'kids': {\n        id: 'little-legends',\n        name: 'Stationery & Play',\n        slug: 'kids',\n        image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=500&q=80',\n        subcategories: [\n            {\n                id: 'books',\n                name: 'Books',\n                slug: 'kids-books',\n                items: [\n                    { name: 'Story Books', slug: 'kids-story-books' },\n                    { name: 'Classic Books', slug: 'classic-books' },\n                    { name: 'Colouring Books', slug: 'kids-colouring-books' }\n                ]\n            },\n            {\n                id: 'stationery',\n                name: 'Stationery',\n                slug: 'stationery',\n                items: [\n                    { name: 'Sketchbooks', slug: 'sketchbooks' },\n                    { name: 'Notebooks', slug: 'notebooks' },\n                    { name: 'Daily Planners', slug: 'daily-planners' },\n                    { name: 'Notepads', slug: 'notepads' }\n                ]\n            },\n            {\n                id: 'toys-activities',\n                name: 'Toys & Activities',\n                slug: 'toys-activities',\n                items: [\n                    { name: 'MDF Puzzles', slug: 'mdf-puzzles' },\n                    { name: 'Jigsaw Puzzles', slug: 'jigsaw-puzzles' },\n                    { name: 'Tattoos', slug: 'kids-tattoos' },\n                    { name: 'Stickers', slug: 'kids-stickers' }\n                ]\n            }\n        ]\n    },\n    'clothing': {\n        id: 'everyday-icons',\n        name: 'Clothing',\n        slug: 'clothing',\n        image: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=500&q=80',\n        subcategories: [\n            {\n                id: 'clothing-men',\n                name: 'Men',\n                slug: 'men',\n                items: [\n                    { name: 'Classic Crew', slug: 'men-classic-crew' },\n                    { name: 'Oversized Tees', slug: 'men-oversized-tees' },\n                    { name: 'Polos', slug: 'men-polos' },\n                    { name: 'Hoodies', slug: 'men-hoodies' },\n                    { name: 'Jackets', slug: 'men-jackets' },\n                    { name: 'Bottoms', slug: 'men-bottoms' }\n                ]\n            },\n            {\n                id: 'clothing-women',\n                name: 'Women',\n                slug: 'women',\n                items: [\n                    { name: 'Tops & Tees', slug: 'women-tops-tees' },\n                    { name: 'Dresses', slug: 'women-dresses' },\n                    { name: 'Bottom Wear', slug: 'women-bottom-wear' },\n                    { name: 'Activewear', slug: 'women-activewear' },\n                    { name: 'Outerwear', slug: 'women-outerwear' }\n                ]\n            },\n            {\n                id: 'clothing-kids',\n                name: 'Kids',\n                slug: 'kids-clothing', // Changed from 'kids' to match sync script conflict resolution\n                items: [\n                    { name: 'Boys Tees', slug: 'boys-tees' },\n                    { name: 'Girls Tees', slug: 'girls-tees' },\n                    { name: 'Rompers', slug: 'rompers' },\n                    { name: 'Winter Wear', slug: 'kids-winter-wear' }\n                ]\n            }\n        ]\n    },\n    'gifts': {\n        id: 'little-luxuries',\n        name: 'Gifts & Pets',\n        slug: 'gifts',\n        image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=500&q=80',\n        subcategories: [\n            {\n                id: 'drinkware',\n                name: 'Drinkware',\n                slug: 'drinkware',\n                items: [\n                    { name: 'Coffee Mugs', slug: 'coffee-mugs' },\n                    { name: 'Magic Mugs', slug: 'magic-mugs' },\n                    { name: 'Steel Bottles', slug: 'steel-bottles' },\n                    { name: 'Sippers', slug: 'sippers' }\n                ]\n            },\n            {\n                id: 'gifts',\n                name: 'Gifts & Trinkets',\n                slug: 'gifts-trinkets', // Disambiguating slug\n                items: [\n                    { name: 'Trinkets', slug: 'trinkets' },\n                    { name: 'Keychains', slug: 'keychains' },\n                    { name: 'Badges', slug: 'badges' },\n                    { name: 'Luggage Tags', slug: 'luggage-tags' },\n                    { name: 'Patches', slug: 'patches' }\n                ]\n            }\n        ]\n    },\n    'home': {\n        id: 'space-stories',\n        name: 'Home & Tech',\n        slug: 'home',\n        image: 'https://images.unsplash.com/photo-1513519245088-0e12902e5a38?w=500&q=80',\n        subcategories: [\n            {\n                id: 'home-decor',\n                name: 'Home & Decor',\n                slug: 'home-decor',\n                items: [\n                    { name: 'Posters', slug: 'posters' },\n                    { name: 'Canvas', slug: 'canvas' },\n                    { name: 'Coasters', slug: 'coasters' },\n                    { name: 'Cushions', slug: 'cushions' },\n                    { name: 'Magnets', slug: 'magnets' }\n                ]\n            },\n            {\n                id: 'desk-essentials',\n                name: 'Desk Essentials',\n                slug: 'desk-essentials',\n                items: [\n                    { name: 'Mouse Pads', slug: 'mouse-pads' },\n                    { name: 'Gaming Pads', slug: 'gaming-pads' }\n                ]\n            }\n        ]\n    },\n    'accessories': {\n        id: 'style-extras',\n        name: 'Accessories',\n        slug: 'accessories',\n        image: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?w=500&q=80',\n        subcategories: [\n            {\n                id: 'headwear',\n                name: 'Headwear',\n                slug: 'headwear',\n                items: [\n                    { name: 'Caps', slug: 'caps' },\n                    { name: 'Snapbacks', slug: 'snapbacks' },\n                    { name: 'Bucket Hats', slug: 'bucket-hats' }\n                ]\n            },\n            {\n                id: 'wearables',\n                name: 'Wearables',\n                slug: 'wearables',\n                items: [\n                    { name: 'Scarves', slug: 'scarves' },\n                    { name: 'Scrunchies', slug: 'scrunchies' },\n                    { name: 'Aprons', slug: 'aprons' }\n                ]\n            },\n            {\n                id: 'bags',\n                name: 'Bags',\n                slug: 'bags',\n                items: [\n                    { name: 'Tote Bags (Zip)', slug: 'tote-bags-zip' },\n                    { name: 'Large Totes', slug: 'large-totes' },\n                    { name: 'Drawstrings', slug: 'drawstring-bags' }\n                ]\n            },\n            {\n                id: 'tech-accessories',\n                name: 'Tech Accessories',\n                slug: 'phone-cases',\n                items: [\n                    { name: 'iPhone', slug: 'iphone-cases' },\n                    { name: 'Samsung', slug: 'samsung-cases' },\n                    { name: 'OnePlus', slug: 'oneplus-cases' }\n                ]\n            }\n        ]\n    },\n    'pets': {\n        id: 'pets',\n        name: 'Pets',\n        slug: 'pets',\n        image: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=500&q=80',\n        subcategories: [\n            {\n                id: 'pet-essentials',\n                name: 'Essentials',\n                slug: 'pet-essentials',\n                items: [\n                    { name: 'Dog Tees', slug: 'dog-tees' },\n                    { name: 'Pet Tags', slug: 'pet-tags' }\n                ]\n            }\n        ]\n    }\n};\n\nconst COLORS = ['Black', 'White', 'Navy', 'Red', 'Green', 'Heather Grey'];\nconst SIZES = ['S', 'M', 'L', 'XL', 'XXL'];\n\nfunction getRandomInt(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction getRandomSubset(arr: string[]) {\n    const shuffled = arr.sort(() => 0.5 - Math.random());\n    return shuffled.slice(0, getRandomInt(1, 4));\n}\n\nasync function seed() {\n    console.log('--- Starting Seed ---');\n\n    for (const [key, root] of Object.entries(CATEGORY_TAXONOMY)) {\n        console.log(`Checking Root: ${root.name} (${root.slug})`);\n\n        // Check/Create Root\n        let rootId = null;\n        const { data: existingRoot } = await supabase.from('categories').select('id').eq('slug', root.slug).single();\n\n        if (!existingRoot) {\n            console.log(`  Creating Root...`);\n            const { data: newRoot } = await supabase.from('categories').insert({ name: root.name, slug: root.slug }).select().single();\n            rootId = newRoot?.id;\n        } else {\n            rootId = existingRoot.id;\n        }\n\n        if (!rootId) continue;\n\n        for (const sub of root.subcategories) {\n            // Check/Create Level 2\n            let subId = null;\n            const { data: existingSub } = await supabase.from('categories').select('id').eq('slug', sub.slug).single();\n            if (!existingSub) {\n                console.log(`  Creating Sub: ${sub.name}`);\n                const { data: newSub } = await supabase.from('categories').insert({ name: sub.name, slug: sub.slug, parent_id: rootId }).select().single();\n                subId = newSub?.id;\n            } else {\n                subId = existingSub.id;\n            }\n\n            if (!subId) continue;\n\n            for (const item of sub.items) {\n                let itemId = null;\n                const { data: existingItem } = await supabase.from('categories').select('id').eq('slug', item.slug).single();\n                if (!existingItem) {\n                    console.log(`   Creating Item: ${item.name} (${item.slug})`);\n                    const { data: newItem } = await supabase.from('categories').insert({ name: item.name, slug: item.slug, parent_id: subId }).select().single();\n                    itemId = newItem?.id;\n                } else {\n                    itemId = existingItem.id;\n                }\n\n                if (itemId) {\n                    // SEED PRODUCTS\n                    // Check current count\n                    const { count } = await supabase.from('products').select('*', { count: 'exact', head: true }).eq('category_id', itemId);\n                    const currentCount = count || 0;\n\n                    if (currentCount < 5) {\n                        const needed = 5 - currentCount;\n                        console.log(`    Seeding ${needed} products for ${item.name}...`);\n\n                        const productsToInsert = [];\n                        for (let i = 0; i < needed; i++) {\n                            productsToInsert.push({\n                                name: `${item.name} Style ${i + 1 + currentCount}`,\n                                slug: `${item.slug}-style-${i + 1 + currentCount}-${Date.now()}`,\n                                category_id: itemId,\n                                price: getRandomInt(29, 99),\n                                stock_status: 'in_stock',\n                                metadata: {\n                                    colors: getRandomSubset(COLORS),\n                                    sizes: getRandomSubset(SIZES)\n                                }\n                            });\n                        }\n\n                        if (productsToInsert.length > 0) {\n                            const { error } = await supabase.from('products').insert(productsToInsert);\n                            if (error) console.error('    Error inserting products:', error);\n                        }\n                    } else {\n                        // console.log(`    ${item.name} has ${currentCount} products.`);\n                    }\n                }\n            }\n        }\n    }\n    console.log('--- Seed Complete ---');\n}\n\nseed();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/scripts/test-pdf.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/actions/adminActions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'usingServiceRole' is assigned a value but never used.","line":54,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":54,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'poppedItem' is assigned a value but never used.","line":306,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":306,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":363,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":363,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12815,12818],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12815,12818],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\n\nimport { createServerClient } from '@supabase/ssr';\nimport { createClient } from '@supabase/supabase-js';\nimport { cookies } from 'next/headers';\nimport { isAdmin } from '@/utils/admin';\n\nexport async function updateOrderStatus(orderId: string, newStatus: string) {\n    const cookieStore = await cookies();\n\n    // 1. Authenticate User (Standard Client)\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) {\n                    return cookieStore.get(name)?.value\n                },\n            },\n        }\n    );\n\n    const { data: { user }, error: authError } = await supabaseAuth.auth.getUser();\n\n    if (authError || !user) {\n        return { success: false, error: 'Unauthorized' };\n    }\n\n    // 2. Verify Admin Role\n    const adminCheck = isAdmin(user.email);\n\n    if (!adminCheck) {\n        return { success: false, error: 'Access Denied: Not an Admin' };\n    }\n\n\n    // 3. Determine Client (Service Role or User Context)\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    let supabaseClient = supabaseAuth;\n    let usingServiceRole = false;\n\n    if (serviceRoleKey) {\n        supabaseClient = createClient(\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\n            serviceRoleKey,\n            {\n                auth: {\n                    autoRefreshToken: false,\n                    persistSession: false\n                }\n            }\n        );\n        usingServiceRole = true;\n    } else {\n        // console.warn(\"[ServerAction] Missing SUPABASE_SERVICE_ROLE_KEY. Fallback to User Context.\");\n    }\n\n    // 4. Update Status with History\n    // First, fetch current history\n    const { data: currentOrder, error: fetchError } = await supabaseClient\n        .from('orders')\n        .select('status_history')\n        .eq('id', orderId)\n        .single();\n\n    if (fetchError) {\n        console.error(\"Error fetching order history:\", fetchError);\n        return { success: false, error: 'Failed to fetch order history' };\n    }\n\n    const currentHistory = currentOrder?.status_history || [];\n    // If mixed types exist or it's null, ensure it's an array\n    const historyArray = Array.isArray(currentHistory) ? currentHistory : [];\n\n    const newHistoryEntry = {\n        status: newStatus,\n        timestamp: new Date().toISOString(),\n        updated_by: user.email // Optional: track who updated it\n    };\n\n    const updatedHistory = [...historyArray, newHistoryEntry];\n\n    const { error: updateError } = await supabaseClient\n        .from('orders')\n        .update({\n            status: newStatus,\n            status_history: updatedHistory\n        })\n        .eq('id', orderId);\n\n    if (updateError) {\n        console.error(\"Order Update Error:\", updateError);\n        return { success: false, error: 'Database Update Failed: ' + updateError.message };\n    }\n\n    // 5. Wallet Cashback Logic (5% on Delivery)\n    if (newStatus === 'delivered') {\n        const { processWalletTransaction } = await import('./walletActions');\n\n        // Fetch order total to calculate 5%\n        // NOTE: We should exclude shipping/tax if possible, but 'total_amount' is usually inclusive.\n        // User requested \"exclude GST, shipping\". \n        // We might need to fetch items to calculate base value or store it separately.\n        // For now, let's use total_amount as a proxy or fetch items if we want strictness.\n        // Strict Rule: \"Exclude GST, shipping\".\n        // We'd need to re-sum `item.price * item.quantity` (assuming item.price is base).\n        // Let's do that for accuracy.\n\n        const { data: orderItems } = await supabaseClient\n            .from('order_items')\n            .select('price, quantity')\n            .eq('order_id', orderId);\n\n        let productValue = 0;\n        if (orderItems) {\n            productValue = orderItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n        }\n\n        // 5% Cashback\n        const cashbackAmount = parseFloat((productValue * 0.05).toFixed(2));\n\n        if (cashbackAmount > 0) {\n            // Get User ID from order (we need to fetch it if not in currentOrder)\n            const { data: orderUser } = await supabaseClient\n                .from('orders')\n                .select('user_id')\n                .eq('id', orderId)\n                .single();\n\n            if (orderUser && orderUser.user_id) {\n                await processWalletTransaction({\n                    userId: orderUser.user_id,\n                    amount: cashbackAmount,\n                    type: 'credit',\n                    reason: 'purchase_cashback',\n                    referenceId: orderId,\n                    expiryDays: 30 // 30 days expiry\n                });\n            }\n        }\n    } else if (newStatus === 'cancelled' || newStatus === 'returned') {\n        // Reverse Wallet if previously credited?\n        // Logic: if we credited for this order, we should debit it back.\n        // But usually cancellation happens before delivery, so no credit yet.\n        // Returns happen after delivery.\n\n        if (newStatus === 'returned') {\n            // TODO: Implement reversal logic if needed. \n            // Search ledger for 'purchase_cashback' with this orderId and reverse it.\n        }\n    }\n\n    // 6. Auto-Cleanup: Delete personalization images\n    if (newStatus === 'delivered' || newStatus === 'cancelled') {\n        const { data: items } = await supabaseClient\n            .from('order_items')\n            .select('metadata')\n            .eq('order_id', orderId);\n\n        console.log(`[Admin] Cleanup: Found ${items?.length || 0} items for order ${orderId}`);\n\n        if (items && items.length > 0) {\n            const BUCKET_NAME = 'personalization-uploads';\n            const pathsToDelete: string[] = [];\n\n            items.forEach(item => {\n                const url = item.metadata?.image_url;\n                if (url && typeof url === 'string' && url.includes(`/${BUCKET_NAME}/`)) {\n                    const parts = url.split(`/${BUCKET_NAME}/`);\n                    if (parts.length === 2) {\n                        const filePath = decodeURIComponent(parts[1]);\n                        pathsToDelete.push(filePath);\n                        console.log(`[Admin] Cleanup: Scheduled for deletion: ${filePath}`);\n                    }\n                }\n            });\n\n            if (pathsToDelete.length > 0) {\n                console.log(`[Admin] Cleanup: Deleting ${pathsToDelete.length} images...`);\n                // Use the same client (User or Admin) for storage deletion\n                const { data: deleteData, error: storageError } = await supabaseClient\n                    .storage\n                    .from(BUCKET_NAME)\n                    .remove(pathsToDelete);\n\n                if (storageError) {\n                    console.error(\"[Admin] Image Cleanup Failed:\", storageError);\n                    // Do not fail the whole action, just log\n                } else {\n                    console.log(\"[Admin] Image Cleanup Success:\", deleteData);\n                }\n            } else {\n                console.log(\"[Admin] Cleanup: No matching images found to delete.\");\n            }\n        }\n    }\n\n    return { success: true };\n}\n\nexport async function updatePaymentStatus(orderId: string, newStatus: string) {\n    const cookieStore = await cookies();\n\n    // 1. Authenticate User (Standard Client)\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) {\n                    return cookieStore.get(name)?.value\n                },\n            },\n        }\n    );\n\n    const { data: { user }, error: authError } = await supabaseAuth.auth.getUser();\n\n    if (authError || !user) {\n        return { success: false, error: 'Unauthorized' };\n    }\n\n    // 2. Verify Admin Role\n    if (!isAdmin(user.email)) {\n        return { success: false, error: 'Access Denied: Not an Admin' };\n    }\n\n    // 3. Determine Client (Service Role for Bypass)\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    let supabaseClient = supabaseAuth;\n\n    if (serviceRoleKey) {\n        supabaseClient = createClient(\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\n            serviceRoleKey,\n            { auth: { autoRefreshToken: false, persistSession: false } }\n        );\n    } else {\n        console.warn(\"Missing SUPABASE_SERVICE_ROLE_KEY. Performing actions with User Context (RLS applies).\");\n    }\n\n    // 4. Update Payment Status\n    const { error: updateError } = await supabaseClient\n        .from('orders')\n        .update({ payment_status: newStatus })\n        .eq('id', orderId);\n\n    if (updateError) {\n        console.error(\"Payment Update Error:\", updateError);\n        return { success: false, error: 'Database Update Failed: ' + updateError.message };\n    }\n\n    return { success: true };\n}\n\nexport async function undoLastStatusUpdate(orderId: string) {\n    const cookieStore = await cookies();\n\n    // 1. Authenticate & Verify Admin\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) { return cookieStore.get(name)?.value },\n            },\n        }\n    );\n    const { data: { user }, error: authError } = await supabaseAuth.auth.getUser();\n    if (authError || !user) return { success: false, error: 'Unauthorized' };\n    if (!isAdmin(user.email)) return { success: false, error: 'Access Denied' };\n\n    // 2. Setup Client (Service Role)\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    let supabaseClient = supabaseAuth;\n    if (serviceRoleKey) {\n        supabaseClient = createClient(\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\n            serviceRoleKey,\n            { auth: { autoRefreshToken: false, persistSession: false } }\n        );\n    }\n\n    // 3. Fetch Current History\n    const { data: order, error: fetchError } = await supabaseClient\n        .from('orders')\n        .select('status, status_history')\n        .eq('id', orderId)\n        .single();\n\n    if (fetchError || !order) return { success: false, error: 'Fetch failed' };\n\n    const history = Array.isArray(order.status_history) ? order.status_history : [];\n\n    // 4. Validate Undo Capability\n    // We need at least 1 entry in history to \"undo\" (by removing it). \n    // Ideally we should have > 0 history.\n    // If history has 1 item, removing it -> empty -> status 'pending' (default)\n    // If history has > 1 items, remove last -> status becomes the new last item's status.\n\n    if (history.length === 0) {\n        return { success: false, error: 'No history to undo' };\n    }\n\n    const poppedItem = history[history.length - 1];\n    const newHistory = history.slice(0, -1);\n\n    let newStatus = 'pending'; // Default fallback\n    if (newHistory.length > 0) {\n        newStatus = newHistory[newHistory.length - 1].status;\n    }\n\n    // 5. Update DB\n    const { error: updateError } = await supabaseClient\n        .from('orders')\n        .update({\n            status: newStatus,\n            status_history: newHistory\n        })\n        .eq('id', orderId);\n\n    if (updateError) {\n        return { success: false, error: updateError.message };\n    }\n\n    return { success: true, newStatus };\n}\n\nexport async function manualWalletAdjustment(userId: string, amount: number, type: 'credit' | 'debit', reason: string) {\n    const cookieStore = await cookies();\n\n    // 1. Authenticate & Verify Admin\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) { return cookieStore.get(name)?.value },\n            },\n        }\n    );\n    const { data: { user }, error: authError } = await supabaseAuth.auth.getUser();\n    if (authError || !user) return { success: false, error: 'Unauthorized' };\n    if (!isAdmin(user.email)) return { success: false, error: 'Access Denied' };\n\n    // 2. Perform Transaction\n    try {\n        const { processWalletTransaction } = await import('./walletActions');\n        const result = await processWalletTransaction({\n            userId,\n            amount,\n            type,\n            reason: reason || 'admin_adjustment',\n            // referenceId: `admin_${user.id}_${Date.now()}` // Optional reference\n        });\n\n        if (!result.success) {\n            return { success: false, error: result.error };\n        }\n\n        return { success: true };\n    } catch (err: any) {\n        console.error(\"Manual Wallet Adjustment Failed:\", err);\n        return { success: false, error: err.message || 'Internal Server Error' };\n    }\n}\n\nexport async function toggleBlockUser(userId: string, shouldBlock: boolean, reason: string = '') {\n    const cookieStore = await cookies();\n\n    // 1. Authenticate & Verify Admin\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) { return cookieStore.get(name)?.value },\n            },\n        }\n    );\n    const { data: { user }, error: authError } = await supabaseAuth.auth.getUser();\n    if (authError || !user) return { success: false, error: 'Unauthorized' };\n    if (!isAdmin(user.email)) return { success: false, error: 'Access Denied' };\n\n    // 2. Setup Client (Service Role)\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!serviceRoleKey) return { success: false, error: 'Server Configuration Error: Missing Service Role' };\n\n    const supabaseAdmin = createClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        serviceRoleKey,\n        { auth: { autoRefreshToken: false, persistSession: false } }\n    );\n\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    if (!uuidRegex.test(userId)) {\n        return { success: false, error: 'Invalid User ID format. Cannot block non-registered users.' };\n    }\n\n    if (shouldBlock) {\n        // Block - Explicitly specify onConflict to ensure it updates if exists (though usually we just want to ensure it's there)\n        const { error } = await supabaseAdmin\n            .from('blocked_users')\n            .upsert(\n                { user_id: userId, reason: reason, blocked_by: user.id },\n                { onConflict: 'user_id' }\n            )\n            .select();\n\n        if (error) {\n            console.error(\"Block User Failed:\", error);\n            return { success: false, error: error.message };\n        }\n    } else {\n        // Unblock\n        const { error } = await supabaseAdmin\n            .from('blocked_users')\n            .delete()\n            .eq('user_id', userId);\n\n        if (error) {\n            console.error(\"Unblock User Failed:\", error);\n            return { success: false, error: error.message };\n        }\n    }\n\n    return { success: true };\n}\n\nexport async function getBlockedUsers() {\n    // 1. Authenticate & Verify Admin (Standard check)\n    // Actually, we can just allow public read if we set RLS properly, but fetch here is safer.\n    const cookieStore = await cookies();\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: { get(name: string) { return cookieStore.get(name)?.value } },\n        }\n    );\n    const { data: { user } } = await supabaseAuth.auth.getUser();\n    if (!user || !isAdmin(user.email)) return { success: false, error: 'Unauthorized' };\n\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    const supabaseAdmin = createClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        serviceRoleKey!,\n        { auth: { autoRefreshToken: false, persistSession: false } }\n    );\n\n    const { data, error } = await supabaseAdmin\n        .from('blocked_users')\n        .select('user_id, reason, created_at');\n\n    if (error) {\n        console.error(\"Fetch Blocked Users Failed:\", error);\n        return { success: false, error: error.message };\n    }\n\n    return { success: true, data };\n}\n\nexport async function getAllProfiles() {\n    const cookieStore = await cookies();\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: { get(name: string) { return cookieStore.get(name)?.value } },\n        }\n    );\n    const { data: { user } } = await supabaseAuth.auth.getUser();\n    if (!user || !isAdmin(user.email)) return { success: false, error: 'Unauthorized' };\n\n    const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    const supabaseAdmin = createClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        serviceRoleKey!,\n        { auth: { autoRefreshToken: false, persistSession: false } }\n    );\n\n    const { data, error } = await supabaseAdmin\n        .from('profiles')\n        .select('id, email, phone, full_name');\n\n    if (error) {\n        console.error(\"Fetch Profiles Failed:\", error);\n        return { success: false, error: error.message };\n    }\n\n    return { success: true, data };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/actions/categoryActions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":49,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1413,1416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1413,1416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1455,1458],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1455,1458],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1861,1864],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1861,1864],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2083,2086],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2083,2086],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2207,2210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2207,2210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":89,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2481,2484],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2481,2484],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":101,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2922,2925],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2922,2925],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\n\nimport { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\nimport { isAdmin } from '@/utils/admin';\n\n// Helper to get authenticated admin client\nasync function getAdminClient() {\n    const cookieStore = await cookies();\n    const supabaseAuth = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) { return cookieStore.get(name)?.value }\n            }\n        }\n    );\n\n    const { data: { user }, error } = await supabaseAuth.auth.getUser();\n    if (error || !user || !isAdmin(user.email)) {\n        throw new Error('Unauthorized');\n    }\n\n    return supabaseAuth;\n}\n\nexport async function getCategoryTree() {\n    const cookieStore = await cookies();\n    const supabase = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) { return cookieStore.get(name)?.value }\n            }\n        }\n    );\n\n    // Fetch all categories (Public Read is enabled, so no need for strict admin check just to view)\n    const { data, error } = await supabase\n        .from('categories')\n        .select('*')\n        .order('name');\n\n    if (error) throw new Error(error.message);\n\n    // Build Tree\n    const roots: any[] = [];\n    const map: Record<string, any> = {};\n\n    data.forEach((cat) => {\n        map[cat.id] = { ...cat, children: [] };\n    });\n\n    data.forEach((cat) => {\n        if (cat.parent_id) {\n            if (map[cat.parent_id]) {\n                map[cat.parent_id].children.push(map[cat.id]);\n            }\n        } else {\n            roots.push(map[cat.id]);\n        }\n    });\n\n    return roots;\n}\n\nexport async function createCategory(data: any) {\n    try {\n        const supabase = await getAdminClient();\n        const { error } = await supabase.from('categories').insert(data);\n        if (error) throw error;\n        return { success: true };\n    } catch (e: any) {\n        return { success: false, error: e.message };\n    }\n}\n\nexport async function updateCategory(id: string, data: any) {\n    try {\n        const supabase = await getAdminClient();\n        const { error } = await supabase\n            .from('categories')\n            .update(data)\n            .eq('id', id);\n        if (error) throw error;\n        return { success: true };\n    } catch (e: any) {\n        return { success: false, error: e.message };\n    }\n}\n\nexport async function deleteCategory(id: string) {\n    try {\n        const supabase = await getAdminClient();\n        // Check for children? Database ON DELETE CASCADE handles it, but maybe warn user in UI.\n        const { error } = await supabase.from('categories').delete().eq('id', id);\n        if (error) throw error;\n        return { success: true };\n    } catch (e: any) {\n        return { success: false, error: e.message };\n    }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/actions/couponActions.ts","messages":[{"ruleId":"prefer-const","severity":2,"message":"'type' is never reassigned. Use 'const' instead.","line":52,"column":9,"nodeType":"Identifier","messageId":"useConst","endLine":52,"endColumn":13,"fix":{"range":[1835,1867],"text":"const type = coupon.discount_type;"}}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"'use server';\n\nimport { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\n\nexport interface CouponValidationResult {\n    valid: boolean;\n    discountAmount: number;\n    couponCode?: string;\n    couponType?: 'percentage' | 'fixed_amount' | 'free_shipping';\n    message?: string;\n}\n\nexport async function validateCoupon(code: string, cartTotal: number): Promise<CouponValidationResult> {\n    const cookieStore = await cookies();\n    const supabase = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) {\n                    return cookieStore.get(name)?.value;\n                },\n            },\n        }\n    );\n\n    // 1. Fetch Coupon\n    const { data: coupon, error } = await supabase\n        .from('coupons')\n        .select('*')\n        .eq('code', code.toUpperCase()) // Case insensitive search usually better, but let's stick to upper\n        .eq('is_active', true)\n        .single();\n\n    if (error || !coupon) {\n        return { valid: false, discountAmount: 0, message: 'Invalid or expired coupon code.' };\n    }\n\n    // 2. Check Usage Limit\n    if (coupon.usage_limit !== null && coupon.usage_count >= coupon.usage_limit) {\n        return { valid: false, discountAmount: 0, message: 'Coupon usage limit reached.' };\n    }\n\n    // 3. Check Expiry (if you have expiry_date column, currently schema didn't show it but good practice)\n    // Assuming schema from view_file: id, code, discount_type, discount_value, usage_count, usage_limit, is_active\n    // No expiry_date seen in previous view_file of admin/coupons/page.tsx, but I should check if it exists or add it.\n    // For now, reliance on is_active.\n\n    // 4. Calculate Discount\n    let discount = 0;\n    let type = coupon.discount_type;\n\n    if (coupon.discount_type === 'percentage') {\n        discount = (cartTotal * coupon.discount_value) / 100;\n        if (discount > cartTotal) discount = cartTotal;\n    } else if (coupon.discount_type === 'fixed_amount') {\n        discount = coupon.discount_value;\n        if (discount > cartTotal) discount = cartTotal;\n    } else if (coupon.discount_type === 'free_shipping') {\n        // Discount is handled in checkout logic (shipping becomes 0)\n        // We set discount value to 0 here to avoid double counting, \n        // or we could try to calculate shipping here but we don't have shipping const in this function easily.\n        // Better to return type and let checkout handle it.\n        discount = 0;\n    }\n\n    return {\n        valid: true,\n        discountAmount: parseFloat(discount.toFixed(2)),\n        couponCode: coupon.code,\n        couponType: type, // Add this to interface!\n        message: type === 'free_shipping' ? 'Free Shipping Applied!' : 'Coupon applied successfully!'\n    };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/actions/orderActions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[341,344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[341,344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'processWalletTransaction' is assigned a value but never used.","line":92,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":92,"endColumn":59},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'histError' is assigned a value but never used.","line":243,"column":40,"nodeType":"Identifier","messageId":"unusedVar","endLine":243,"endColumn":49}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\n\nimport { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\n\ninterface CartItem {\n    id: string; // The specific Cart ID (e.g. pid-size)\n    productId: string; // The real DB Product ID\n    name: string;\n    price: number;\n    qty: number;\n    size?: string;\n    image: string;\n    metadata?: any;\n}\n\ninterface ShippingAddress {\n    firstName: string;\n    lastName: string;\n    phone: string;\n    address: string;\n    landmark?: string;\n    city: string;\n    state?: string;\n    pincode: string;\n    email?: string;\n    secondaryPhone?: string;\n}\n\n// Updated signature to handle coupons\nexport async function createOrder(\n    items: CartItem[],\n    address: ShippingAddress,\n    total: number,\n    paymentMethod: string,\n    walletAmount: number = 0,\n    couponCode: string | null = null,\n    discountAmount: number = 0\n) {\n    const cookieStore = await cookies();\n\n    const supabase = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) {\n                    return cookieStore.get(name)?.value\n                },\n            },\n        }\n    );\n\n    // 1. Get User\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (!user) {\n        return { success: false, error: 'You must be logged in to place an order.' };\n    }\n\n    // 1.1 Check if User is Blocked\n    const { data: blockedEntry } = await supabase\n        .from('blocked_users')\n        .select('reason')\n        .eq('user_id', user.id)\n        .maybeSingle();\n\n    if (blockedEntry) {\n        return { success: false, error: 'Your account has been restricted. Please contact support.' };\n    }\n\n    // 1.5 Validate Coupon (Server-side safety check)\n    if (couponCode) {\n        const { data: coupon, error: couponError } = await supabase\n            .from('coupons')\n            .select('*')\n            .eq('code', couponCode)\n            .single();\n\n        if (couponError || !coupon || !coupon.is_active) {\n            return { success: false, error: 'Invalid or expired coupon.' };\n        }\n\n        if (coupon.usage_limit && coupon.usage_count >= coupon.usage_limit) {\n            return { success: false, error: 'Coupon usage limit reached.' };\n        }\n    }\n\n    // 2. Validate Wallet Usage\n    if (walletAmount > 0) {\n        // Import dynamically to avoid circular deps if any, or just use direct\n        const { getWalletBalance, processWalletTransaction } = await import('./walletActions');\n\n        const { balance } = await getWalletBalance();\n        // Recalculate eligible amount based on total (which includes everything)\n        // NOTE: calculateEligibleWalletUsage expects cartTotal. Here 'total' is final amount.\n        // We trust the frontend passed a valid breakdown, but let's double check max 10%\n\n        // Allowed: 10% of (Total pre-wallet). \n        // Logic: The 'total' passed here is actually the FINAL amount to be paid (e.g. Total - Wallet).\n        // OR is it the CART Total? Usually creating order sends the Final Payable.\n        // Let's assume 'total' is PAYABLE.\n        // Actually, for safety, we should re-calculate from items... but that's complex.\n\n        // Let's assume the client sends the *original* total in a separate field or we re-verify constraints.\n        // For now, strict check: \n        // Min Order constraint: \n        // We don't have the original cart total readily available without summing items + shipping + tax again.\n        // Let's rely on basic checks:\n\n        if (walletAmount > balance) {\n            return { success: false, error: 'Insufficient wallet balance.' };\n        }\n    }\n\n    // 3. Insert Order\n    const { data: order, error: orderError } = await supabase\n        .from('orders')\n        .insert({\n            user_id: user.id,\n            total_amount: total, // CAPTURE: Final amount user pays (or is this Grand Total?)\n            // Usually 'total_amount' in DB is Grand Total before discounts? \n            // If we want to show \"Wallet Discount\", we should add that column.\n            wallet_amount_used: walletAmount,\n            coupon_code: couponCode,\n            discount_amount: discountAmount,\n            status: 'pending',\n            payment_status: paymentMethod === 'upi' ? 'paid' : 'pending',\n            payment_method: paymentMethod,\n            shipping_address: address,\n        })\n        .select()\n        .single();\n\n    if (orderError) {\n        console.error(\"Order Creation Error:\", orderError);\n        return { success: false, error: 'Failed to create order.' };\n    }\n\n    // 3b. Increment Coupon Usage\n    if (couponCode) {\n        const { error: incError } = await supabase.rpc('increment_coupon_usage', { code_input: couponCode });\n        if (incError) {\n            // Fallback if RPC fails or doesn't exist yet (soft fail)\n            console.error(\"Failed to increment coupon usage:\", incError);\n        }\n    }\n\n    // 3. Insert Order Items\n    const orderItems = items.map(item => ({\n        order_id: order.id,\n        product_id: item.productId, // Ensure this relies on the real UUID\n        name: item.name,\n        quantity: item.qty,\n        price: item.price,\n        size: item.size,\n        image_url: item.image,\n        metadata: item.metadata // Pass metadata\n    }));\n\n    const { error: itemsError } = await supabase\n        .from('order_items')\n        .insert(orderItems);\n\n    if (itemsError) {\n        console.error(\"Order Items Error:\", itemsError);\n        // Optional: Delete the order if items fail? Or keep for manual check.\n        return { success: false, error: 'Failed to save order items.' };\n    }\n\n    // 4. Debit Wallet\n    if (walletAmount > 0) {\n        const { processWalletTransaction } = await import('./walletActions');\n        const res = await processWalletTransaction({\n            userId: user.id,\n            amount: -walletAmount, // Negative for debit\n            type: 'debit',\n            reason: 'order_redemption',\n            referenceId: order.id\n        });\n\n        if (!res.success) {\n            console.error(\"Wallet Debit Failed for Order:\", order.id, res.error);\n            // Non-blocking but critical error. Admin might need to fix.\n        }\n    }\n\n    return { success: true, orderId: order.id };\n}\n\nexport async function cancelOrder(orderId: string) {\n    const cookieStore = await cookies();\n    const supabase = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) {\n                    return cookieStore.get(name)?.value\n                },\n            },\n        }\n    );\n\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n        return { success: false, error: 'Unauthorized' };\n    }\n\n    // Fetch order to check time\n    const { data: order, error } = await supabase\n        .from('orders')\n        .select('created_at, status, user_id')\n        .eq('id', orderId)\n        .single();\n\n    if (error || !order) {\n        return { success: false, error: 'Order not found' };\n    }\n\n    if (order.user_id !== user.id) {\n        return { success: false, error: 'Unauthorized access to order' };\n    }\n\n    if (order.status === 'cancelled') {\n        return { success: false, error: 'Order is already cancelled' };\n    }\n\n    if (['shipped', 'delivered'].includes(order.status)) {\n        return { success: false, error: 'Cannot cancel shipped or delivered orders' };\n    }\n\n    // Check 6-hour window\n    const createdTime = new Date(order.created_at).getTime();\n    const currentTime = new Date().getTime();\n    const hoursDifference = (currentTime - createdTime) / (1000 * 60 * 60);\n\n    if (hoursDifference > 6) {\n        return { success: false, error: 'Cancellation window (6 hours) has expired' };\n    }\n\n    // Fetch current history first (it wasn't selected above)\n    const { data: currentOrder, error: histError } = await supabase\n        .from('orders')\n        .select('status_history')\n        .eq('id', orderId)\n        .single();\n\n    const currentHistory = currentOrder?.status_history || [];\n    const historyArray = Array.isArray(currentHistory) ? currentHistory : [];\n\n    const newHistoryEntry = {\n        status: 'cancelled',\n        timestamp: new Date().toISOString(),\n        updated_by: 'Customer'\n    };\n\n    const updatedHistory = [...historyArray, newHistoryEntry];\n\n    // Proceed to cancel with history\n    const { error: updateError } = await supabase\n        .from('orders')\n        .update({\n            status: 'cancelled',\n            status_history: updatedHistory\n        })\n        .eq('id', orderId);\n\n    if (updateError) {\n        return { success: false, error: 'Failed to update order status' };\n    }\n\n    return { success: true };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/actions/securityActions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[548,551],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[548,551],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[685,688],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[685,688],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":54,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":54,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":78,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2415,2418],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2415,2418],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":78,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2423,2426],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2423,2426],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\n\nimport { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\n\n// Helper to get Supabase client\nconst getSupabase = async () => {\n    const cookieStore = await cookies();\n    return createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                get(name: string) {\n                    return cookieStore.get(name)?.value\n                },\n                set(name: string, value: string, options: any) {\n                    cookieStore.set({ name, value, ...options })\n                },\n                remove(name: string, options: any) {\n                    cookieStore.set({ name, value: '', ...options })\n                },\n            },\n        }\n    );\n};\n\n// --- Password Management ---\n\nexport async function updatePassword(password: string) {\n    const supabase = await getSupabase();\n    const { error } = await supabase.auth.updateUser({ password });\n\n    if (error) return { success: false, error: error.message };\n    return { success: true };\n}\n\n// --- MFA Management (TOTP) ---\n\nexport async function enrollMFA() {\n    const supabase = await getSupabase();\n    const { data, error } = await supabase.auth.mfa.enroll({\n        factorType: 'totp'\n    });\n\n    if (error) return { success: false, error: error.message };\n\n    // Returns id, type, totp: { qr_code, secret, uri }\n    return { success: true, factorId: data.id, qrCode: data.totp.qr_code, secret: data.totp.secret };\n}\n\nexport async function verifyMFA(factorId: string, code: string) {\n    const supabase = await getSupabase();\n    const { data, error } = await supabase.auth.mfa.challengeAndVerify({\n        factorId,\n        code\n    });\n\n    if (error) return { success: false, error: error.message };\n    return { success: true };\n}\n\nexport async function unenrollMFA(factorId: string) {\n    const supabase = await getSupabase();\n    const { error } = await supabase.auth.mfa.unenroll({ factorId });\n\n    if (error) return { success: false, error: error.message };\n    return { success: true };\n}\n\nexport async function getMFAFactors() {\n    const supabase = await getSupabase();\n    const { data, error } = await supabase.auth.mfa.listFactors();\n\n    if (error) return { success: false, error: error.message };\n\n    // Sort by created_at desc\n    const sorted = data?.all?.sort((a: any, b: any) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime()) || [];\n    return { success: true, factors: sorted };\n}\n\n// --- Session Management ---\n\nexport async function getActiveSessions() {\n    // Requires specialized client or just listing from auth.sessions via SQL? \n    // Std client doesn't expose listSessions easily for *current* user beyond current session.\n    // However, Supabase Auth has `auth.sessions` table but it's not exposed to public/anon usually.\n    // \n    // Workaround: Use Service Role to fetch all sessions for this user?\n    // OR see if `supabase.auth.getSession()` return helpful info? No, only current.\n    //\n    // Actually, `supabase.auth.admin.listUserSessions(uid)` exists but needs Service Role.\n    // We can use Service Role here safely since we verify the caller IS the user first.\n\n    const supabase = await getSupabase();\n    const { data: { user } } = await supabase.auth.getUser();\n\n    if (!user) return { success: false, error: 'Unauthorized' };\n\n    // For now, we only return an empty list because listing all sessions \n    // requires Service Role permissions which might be missing in some environments.\n    // The UI handles empty list gracefully.\n    return { success: true, sessions: [] };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/actions/seedCategories.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":87,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3650,3653],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3650,3653],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\n\nimport { createClient } from '@supabase/supabase-js';\nimport { CATEGORY_TAXONOMY } from '@/data/categories';\n\nexport async function seedCategories() {\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\n    const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;\n\n    if (!supabaseServiceKey) {\n        return { success: false, error: 'Missing SUPABASE_SERVICE_ROLE_KEY' };\n    }\n\n    const supabase = createClient(supabaseUrl, supabaseServiceKey, {\n        auth: { autoRefreshToken: false, persistSession: false }\n    });\n\n    console.log(\"Starting Category Seed...\");\n\n    try {\n        // Option A: Wipe existing Categories? \n        // Ideally checking first. For this task, user wants \"perfect control\", implying we set the state.\n        // BE CAREFUL: Deleting categories might cascade delete products if foreign keys are strict.\n        // Let's assume we Upsert based on Slug to be safer, or verify.\n        // But hierarchy is tricky with upsert if IDs change.\n        // Decision: We will attempt to UPSERT worlds, then subcats, then items.\n\n        for (const worldKey in CATEGORY_TAXONOMY) {\n            const world = CATEGORY_TAXONOMY[worldKey as keyof typeof CATEGORY_TAXONOMY];\n            console.log(`Processing World: ${world.name}`);\n\n            // 1. Upsert World\n            const { data: worldData, error: worldError } = await supabase\n                .from('categories')\n                .upsert({\n                    slug: world.slug,\n                    name: world.name,\n                    description: world.description,\n                    image_url: world.image,\n                    parent_id: null\n                }, { onConflict: 'slug' })\n                .select()\n                .single();\n\n            if (worldError) throw new Error(`Failed to upsert world ${world.name}: ${worldError.message}`);\n            const worldId = worldData.id;\n\n            // 2. Process Subcategories\n            if (world.subcategories) {\n                for (const sub of world.subcategories) {\n                    console.log(`  - Sub: ${sub.name}`);\n                    const { data: subData, error: subError } = await supabase\n                        .from('categories')\n                        .upsert({\n                            slug: sub.slug,\n                            name: sub.name,\n                            parent_id: worldId\n                            // description? image? mostly null in current data\n                        }, { onConflict: 'slug' })\n                        .select()\n                        .single();\n\n                    if (subError) throw new Error(`Failed to upsert sub ${sub.name}: ${subError.message}`);\n                    const subId = subData.id;\n\n                    // 3. Process Items\n                    if (sub.items) {\n                        for (const item of sub.items) {\n                            console.log(`    - Item: ${item.name}`);\n                            const { error: itemError } = await supabase\n                                .from('categories')\n                                .upsert({\n                                    slug: item.slug,\n                                    name: item.name,\n                                    parent_id: subId\n                                }, { onConflict: 'slug' });\n\n                            if (itemError) throw new Error(`Failed to upsert item ${item.name}: ${itemError.message}`);\n                        }\n                    }\n                }\n            }\n        }\n\n        return { success: true, message: 'Taxonomy migrated successfully!' };\n\n    } catch (err: any) {\n        console.error(\"Seeding Error:\", err);\n        return { success: false, error: err.message };\n    }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/actions/walletActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/HomeClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ProductShowcase' is defined but never used.","line":8,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":23,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ProductShowcase"},"fix":{"range":[319,383],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":9,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[384,413],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MobileCategoryRail' is defined but never used.","line":10,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":26,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"MobileCategoryRail"},"fix":{"range":[414,484],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[875,878],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[875,878],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1258,1261],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1258,1261],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1319,1322],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1319,1322],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2174,2177],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2174,2177],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":77,"column":6,"nodeType":"ArrayExpression","endLine":77,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[2641,2643],"text":"[supabase]"}}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport DepartmentBentoGrid from '@/components/Home/DepartmentBentoGrid';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { Sparkles, Heart, ShieldCheck } from 'lucide-react';\nimport GlassCard from '@/components/UI/GlassCard';\nimport ProductShowcase from '@/components/Home/ProductShowcase';\nimport Link from 'next/link';\nimport MobileCategoryRail from '@/components/Home/MobileCategoryRail';\nimport HeroVideo from '@/components/Home/HeroVideo';\n\nimport CuratedGrid from '@/components/Home/CuratedGrid';\n\nimport MasonryProductGrid from '@/components/Home/MasonryProductGrid';\nimport DiscoverMore from '@/components/Home/DiscoverMore';\nimport { createClient } from '@/utils/supabase/client';\nimport { useToast } from '@/context/ToastContext';\n\n// Mapped helper\nconst mapProduct = (p: any) => ({\n  id: p.id,\n  name: p.name,\n  brand: 'BroncStudio',\n  price: p.price,\n  originalPrice: p.compare_at_price,\n  image: p.images?.[0] || '/images/placeholder.jpg',\n  secondaryImage: p.images?.[1], // Pass 2nd image for hover\n  badge: undefined, // Logic can be added later\n});\n\nexport default function HomeClient() {\n  const [featuredProducts, setFeaturedProducts] = useState<any[]>([]);\n  const [newArrivals, setNewArrivals] = useState<any[]>([]);\n  const supabase = createClient();\n  const { addToast } = useToast();\n\n  useEffect(() => {\n    const checkLoginSuccess = () => {\n      const params = new URLSearchParams(window.location.search);\n      if (params.get('login') === 'success') {\n        setTimeout(() => {\n          addToast('Welcome back! Login successful.', 'success');\n        }, 500); // Small delay to ensure Toast provider is ready\n        window.history.replaceState({}, '', '/');\n      }\n    };\n    checkLoginSuccess();\n  }, [addToast]);\n\n  useEffect(() => {\n    async function fetchData() {\n      // Fetch New Arrivals (Manual Priority)\n      const { data: newProds } = await supabase\n        .from('products')\n        .select('*')\n        .contains('metadata', { is_new_arrival: true })\n        .limit(12);\n\n      if (newProds) {\n        setNewArrivals(newProds.map((p: any) => ({ ...mapProduct(p), badge: 'New' })));\n      }\n\n      // Fetch Featured (Random 25 or just general list)\n      // Since we don't have a 'featured' flag, we'll just take 25.\n      const { data: featProds } = await supabase\n        .from('products')\n        .select('*')\n        .contains('metadata', { is_featured: true })\n        .limit(28);\n\n      if (featProds) {\n        setFeaturedProducts(featProds.map(mapProduct));\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <main className=\"min-h-screen bg-black overflow-x-hidden\">\n      <AmbientBackground />\n\n      <HeroVideo />\n\n      {/* Department BentoGrid */}\n      <div id=\"worlds\" className=\"relative pt-6 pb-4 text-center scroll-mt-[var(--header-height)]\">\n        <h1 className=\"text-3xl font-cursive md:font-sans md:text-sm md:font-bold md:tracking-[0.2em] md:uppercase text-[#891d12] mb-4 animate-fade-in-up\">\n          Shop By Categories\n        </h1>\n        <DepartmentBentoGrid />\n      </div>\n\n      {/* New Arrivals Section */}\n      {newArrivals.length > 0 && (\n        <MasonryProductGrid\n          products={newArrivals}\n          title=\"Fresh Drops\"\n          subtitle=\"The latest additions to our collection. Get them before they're gone.\"\n        />\n      )}\n\n      {/* Featured Collection - Masonry Layout */}\n      <MasonryProductGrid products={featuredProducts} />\n\n      {/* Unified Curated Grid (Mobile & Desktop) */}\n      <CuratedGrid />\n\n      {/* Discover More / Random Feed */}\n      <DiscoverMore />\n\n      {/* Premium Features / Trust Signals */}\n      <section className=\"py-16 px-6\">\n        <div className=\"max-w-[1440px] mx-auto\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <GlassCard className=\"p-8 rounded-2xl text-center\" disableTilt>\n              <div className=\"w-12 h-12 mx-auto bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 mb-4\">\n                <Sparkles size={24} />\n              </div>\n              <h3 className=\"text-xl font-heading text-navy-900 dark:text-white mb-2\">Curated Collections</h3>\n              <p className=\"text-gray-500 dark:text-gray-400\">Handpicked items that tell a story and spark joy.</p>\n            </GlassCard>\n            <GlassCard className=\"p-8 rounded-2xl text-center\" disableTilt>\n              <div className=\"w-12 h-12 mx-auto bg-rose-100 dark:bg-rose-900/30 rounded-full flex items-center justify-center text-rose-600 dark:text-rose-400 mb-4\">\n                <Heart size={24} />\n              </div>\n              <h3 className=\"text-xl font-heading text-navy-900 dark:text-white mb-2\">Emotionally Crafted</h3>\n              <p className=\"text-gray-500 dark:text-gray-400\">Designs that connect with your personal style and moments.</p>\n            </GlassCard>\n            <GlassCard className=\"p-8 rounded-2xl text-center\" disableTilt>\n              <div className=\"w-12 h-12 mx-auto bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center text-emerald-600 dark:text-emerald-400 mb-4\">\n                <ShieldCheck size={24} />\n              </div>\n              <h3 className=\"text-xl font-heading text-navy-900 dark:text-white mb-2\">Premium Quality</h3>\n              <p className=\"text-gray-500 dark:text-gray-400\">Materials and finish that feel as good as they look.</p>\n            </GlassCard>\n          </div>\n        </div>\n      </section>\n    </main>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/about/AboutClient.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":36,"column":21,"nodeType":"JSXOpeningElement","endLine":40,"endColumn":23},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":44,"column":106,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the &quot;Treehouse Test\" â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the &ldquo;Treehouse Test\" â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the &#34;Treehouse Test\" â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the &rdquo;Treehouse Test\" â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":44,"column":121,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the \"Treehouse Test&quot; â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the \"Treehouse Test&ldquo; â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the \"Treehouse Test&#34; â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2498,2600],"text":"Every piece we make passes the \"Treehouse Test&rdquo; â€” durable enough for adventures, soft enough for naps."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":88,"column":95,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5917,5964],"text":"Hand-drawn prints you won&apos;t find anywhere else."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5917,5964],"text":"Hand-drawn prints you won&lsquo;t find anywhere else."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5917,5964],"text":"Hand-drawn prints you won&#39;t find anywhere else."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5917,5964],"text":"Hand-drawn prints you won&rsquo;t find anywhere else."},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":107,"column":21,"nodeType":"JSXOpeningElement","endLine":111,"endColumn":23},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":113,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[7341,7537],"text":"\n                        &quot;We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[7341,7537],"text":"\n                        &ldquo;We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[7341,7537],"text":"\n                        &#34;We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[7341,7537],"text":"\n                        &rdquo;We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":113,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren&apos;t just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren&lsquo;t just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren&#39;t just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren&rsquo;t just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":113,"column":60,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we&apos;re dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we&lsquo;re dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we&#39;re dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we&rsquo;re dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":113,"column":174,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.&quot;\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.&ldquo;\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.&#34;\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[7341,7537],"text":"\n                        \"We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.&rdquo;\n                    "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { motion } from 'framer-motion';\nimport { Heart, Globe, PenTool, Sparkles } from 'lucide-react';\nimport Link from 'next/link';\n\nexport default function AboutClient() {\n    return (\n        <div className=\"min-h-screen bg-[#FAF9F7] pb-20\">\n            <AmbientBackground />\n\n            {/* 1. Hero Section */}\n            <div className=\"relative pt-[var(--header-height)] pb-12 overflow-hidden\">\n                <div className=\"container-premium max-w-[1000px] mx-auto px-6 text-center z-10 relative\">\n                    <motion.div\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        transition={{ duration: 0.8 }}\n                    >\n                        <span className=\"text-coral-500 font-bold tracking-widest uppercase text-xs mb-4 block\">The Broncstudio Story</span>\n                        <h1 className=\"text-5xl md:text-7xl font-heading font-bold text-navy-900 mb-6 leading-[1.1]\">\n                            Stories, Style,<br />& Smiles.\n                        </h1>\n                        <p className=\"text-lg md:text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed\">\n                            We believe childhood is a story waiting to be written. Weâ€™re here to add a little color, comfort, and magic to those pages.\n                        </p>\n                    </motion.div>\n                </div>\n            </div>\n\n            {/* 2. Brand Image / Manifesto */}\n            <div className=\"container-premium max-w-[1200px] mx-auto px-6 mb-24\">\n                <div className=\"relative aspect-video md:aspect-[21/9] rounded-3xl overflow-hidden bg-gray-200 shadow-xl\">\n                    <img\n                        src=\"https://images.unsplash.com/photo-1503919545874-86c477cc25a9?q=80&w=2000&auto=format&fit=crop\"\n                        alt=\"Kids playing and laughing\"\n                        className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-navy-900/20 mix-blend-multiply\" />\n                    <div className=\"absolute bottom-6 left-6 md:bottom-12 md:left-12 text-white max-w-lg\">\n                        <h3 className=\"text-2xl md:text-3xl font-heading font-bold mb-2\">Designed for Play, Crafted for Love.</h3>\n                        <p className=\"text-white/90 text-sm md:text-base\">Every piece we make passes the \"Treehouse Test\" â€” durable enough for adventures, soft enough for naps.</p>\n                    </div>\n                </div>\n            </div>\n\n            {/* 3. Our Values */}\n            <div className=\"container-premium max-w-[1000px] mx-auto px-6 mb-24\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-12 items-center\">\n                    <div>\n                        <h2 className=\"text-3xl md:text-4xl font-heading font-bold text-navy-900 mb-6\">Rooted in India.<br />Made for the World.</h2>\n                        <div className=\"space-y-6\">\n                            <p className=\"text-gray-600 leading-relaxed\">\n                                Broncstudio started with a simple idea: why choose between style and comfort? We wanted to create a brand that celebrates the vibrant spirit of Indian craftsmanship while delivering the modern aesthetics that parents love.\n                            </p>\n                            <p className=\"text-gray-600 leading-relaxed\">\n                                From sourcing the softest cottons in Southern India to working with skilled artisans who pour their heart into every stitch, our journey is one of community and care.\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center text-center gap-4 hover:shadow-md transition-shadow\">\n                            <div className=\"w-12 h-12 rounded-full bg-rose-50 text-rose-500 flex items-center justify-center\">\n                                <Heart size={24} />\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-navy-900 mb-1\">Made with Love</h4>\n                                <p className=\"text-xs text-gray-500\">Ethically crafted in safe, happy environments.</p>\n                            </div>\n                        </div>\n                        <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center text-center gap-4 hover:shadow-md transition-shadow\">\n                            <div className=\"w-12 h-12 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center\">\n                                <Globe size={24} />\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-navy-900 mb-1\">Sustainable</h4>\n                                <p className=\"text-xs text-gray-500\">Eco-friendly materials and plastic-free packaging.</p>\n                            </div>\n                        </div>\n                        <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center text-center gap-4 hover:shadow-md transition-shadow\">\n                            <div className=\"w-12 h-12 rounded-full bg-amber-50 text-amber-600 flex items-center justify-center\">\n                                <PenTool size={24} />\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-navy-900 mb-1\">Original Design</h4>\n                                <p className=\"text-xs text-gray-500\">Hand-drawn prints you won't find anywhere else.</p>\n                            </div>\n                        </div>\n                        <div className=\"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm flex flex-col items-center text-center gap-4 hover:shadow-md transition-shadow\">\n                            <div className=\"w-12 h-12 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center\">\n                                <Sparkles size={24} />\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-navy-900 mb-1\">Quality First</h4>\n                                <p className=\"text-xs text-gray-500\">Fabrics that stay soft, wash after wash.</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* 4. Founder's Note */}\n            <div className=\"bg-white border-y border-gray-100 py-20\">\n                <div className=\"container-premium max-w-[800px] mx-auto px-6 text-center\">\n                    <img\n                        src=\"/BroncStudio (2).png\"\n                        alt=\"Broncstudio Logo\"\n                        className=\"h-16 w-auto mx-auto mb-8\"\n                    />\n                    <blockquote className=\"text-2xl md:text-3xl font-heading font-medium text-navy-900 leading-normal mb-8\">\n                        \"We aren't just selling clothes; we're dressing memories. Every birthday, every playdate, every quiet reading cornerâ€”we want to be a cozy part of it.\"\n                    </blockquote>\n                    <div className=\"flex flex-col items-center\">\n                        <div className=\"w-16 h-16 rounded-full bg-gray-200 overflow-hidden mb-3\">\n                            {/* Placeholder for founder image */}\n                            <div className=\"w-full h-full bg-navy-900 flex items-center justify-center text-white font-bold\">D</div>\n                        </div>\n                        <div className=\"font-bold text-navy-900\">DHANUSH J</div>\n                        <div className=\"text-sm text-gray-500\">Founder, Broncstudio</div>\n                    </div>\n                </div>\n            </div>\n\n            {/* 5. CTA */}\n            <div className=\"py-20 text-center px-6\">\n                <h2 className=\"text-3xl font-heading font-bold text-navy-900 mb-6\">Ready to make memories?</h2>\n                <Link href=\"/\" className=\"inline-flex h-12 items-center justify-center rounded-full bg-navy-900 px-8 text-sm font-bold text-white transition-all hover:bg-coral-500 hover:scale-105\">\n                    Start Exploring\n                </Link>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/about/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/analytics/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DollarSign' is defined but never used.","line":6,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":32,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"DollarSign"},"fix":{"range":[257,269],"text":""},"desc":"Remove unused variable \"DollarSign\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[400,403],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[400,403],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchAnalytics` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/analytics/page.tsx:18:9\n  16 |\n  17 |     useEffect(() => {\n> 18 |         fetchAnalytics();\n     |         ^^^^^^^^^^^^^^ `fetchAnalytics` accessed before it is declared\n  19 |     }, []);\n  20 |\n  21 |     const fetchAnalytics = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/analytics/page.tsx:21:5\n  19 |     }, []);\n  20 |\n> 21 |     const fetchAnalytics = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 22 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 23 |         // Simple analytics: Group last 7 days revenue\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 52 |     };\n     | ^^^^^^^ `fetchAnalytics` is declared here\n  53 |\n  54 |     return (\n  55 |         <div className=\"space-y-6\">","line":18,"column":9,"nodeType":null,"endLine":18,"endColumn":23},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAnalytics'. Either include it or remove the dependency array.","line":19,"column":8,"nodeType":"ArrayExpression","endLine":19,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAnalytics]","fix":{"range":[666,668],"text":"[fetchAnalytics]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":89,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4561,4564],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4561,4564],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport { TrendingUp, DollarSign, ShoppingBag } from 'lucide-react';\n\nexport default function AnalyticsPage() {\n    const [revenueData, setRevenueData] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchAnalytics();\n    }, []);\n\n    const fetchAnalytics = async () => {\n        setLoading(true);\n        // Simple analytics: Group last 7 days revenue\n        const { data: orders } = await supabase\n            .from('orders')\n            .select('created_at, total_amount')\n            .order('created_at', { ascending: true });\n\n        if (orders) {\n            // Process data for charts\n            // This is a naive client-side aggregation suitable for small-medium scale\n            const last7Days = [...Array(7)].map((_, i) => {\n                const d = new Date();\n                d.setDate(d.getDate() - i);\n                return d.toISOString().split('T')[0];\n            }).reverse();\n\n            const chartData = last7Days.map(date => {\n                const dayOrders = orders.filter(o => o.created_at.startsWith(date));\n                const revenue = dayOrders.reduce((sum, o) => sum + o.total_amount, 0);\n                const count = dayOrders.length;\n                return {\n                    date: new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n                    revenue,\n                    orders: count\n                };\n            });\n\n            setRevenueData(chartData);\n        }\n        setLoading(false);\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Analytics Dashboard</h1>\n\n            {loading ? (\n                <div className=\"p-12 text-center text-gray-400\">Loading analytics...</div>\n            ) : (\n                <div className=\"space-y-8\">\n                    {/* Revenue Chart */}\n                    <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                        <div className=\"flex items-center justify-between mb-6\">\n                            <div>\n                                <h2 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                                    <TrendingUp size={20} className=\"text-emerald-500\" />\n                                    Revenue Trends\n                                </h2>\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Last 7 Days Performance</p>\n                            </div>\n                        </div>\n                        <div className=\"h-[300px] w-full\">\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <AreaChart data={revenueData}>\n                                    <defs>\n                                        <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                            <stop offset=\"5%\" stopColor=\"#10B981\" stopOpacity={0.1} />\n                                            <stop offset=\"95%\" stopColor=\"#10B981\" stopOpacity={0} />\n                                        </linearGradient>\n                                    </defs>\n                                    <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#374151\" strokeOpacity={0.2} />\n                                    <XAxis dataKey=\"date\" axisLine={false} tickLine={false} tick={{ fill: '#9CA3AF', fontSize: 12 }} dy={10} />\n                                    <YAxis axisLine={false} tickLine={false} tick={{ fill: '#9CA3AF', fontSize: 12 }} tickFormatter={(value) => `â‚¹${value}`} />\n                                    <Tooltip\n                                        contentStyle={{ backgroundColor: '#1F2937', borderRadius: '12px', border: 'none', boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.3)', color: '#F3F4F6' }}\n                                        itemStyle={{ color: '#F3F4F6' }}\n                                        labelStyle={{ color: '#9CA3AF' }}\n                                        formatter={(value: any) => [`â‚¹${value}`, 'Revenue']}\n                                    />\n                                    <Area type=\"monotone\" dataKey=\"revenue\" stroke=\"#10B981\" strokeWidth={3} fillOpacity={1} fill=\"url(#colorRevenue)\" />\n                                </AreaChart>\n                            </ResponsiveContainer>\n                        </div>\n                    </div>\n\n                    {/* Order Volume */}\n                    <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                        <div className=\"mb-6\">\n                            <h2 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                                <ShoppingBag size={20} className=\"text-blue-500\" />\n                                Order Volume\n                            </h2>\n                        </div>\n                        <div className=\"h-[250px] w-full\">\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <BarChart data={revenueData}>\n                                    <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#374151\" strokeOpacity={0.2} />\n                                    <XAxis dataKey=\"date\" axisLine={false} tickLine={false} tick={{ fill: '#9CA3AF', fontSize: 12 }} dy={10} />\n                                    <YAxis axisLine={false} tickLine={false} allowDecimals={false} tick={{ fill: '#9CA3AF', fontSize: 12 }} />\n                                    <Tooltip\n                                        cursor={{ fill: '#374151', opacity: 0.1 }}\n                                        contentStyle={{ backgroundColor: '#1F2937', borderRadius: '12px', border: 'none', boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.3)', color: '#F3F4F6' }}\n                                        itemStyle={{ color: '#F3F4F6' }}\n                                        labelStyle={{ color: '#9CA3AF' }}\n                                    />\n                                    <Bar dataKey=\"orders\" fill=\"#3B82F6\" radius={[4, 4, 0, 0]} maxBarSize={50} />\n                                </BarChart>\n                            </ResponsiveContainer>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/categories/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":5,"column":75,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":76,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"X"},"fix":{"range":[248,251],"text":""},"desc":"Remove unused variable \"X\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4687,4690],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4687,4690],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":161,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":161,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7216,7219],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7216,7219],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":179,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":179,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7824,7827],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7824,7827],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/categories/page.tsx:191:9\n  189 |\n  190 |     useEffect(() => {\n> 191 |         setForm({\n      |         ^^^^^^^ Avoid calling setState() directly within an effect\n  192 |             name: '',\n  193 |             slug: '',\n  194 |             description: '',","line":191,"column":9,"nodeType":null,"endLine":191,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":203,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":203,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8452,8455],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8452,8455],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { getCategoryTree, createCategory, updateCategory, deleteCategory } from '@/actions/categoryActions';\nimport { Plus, Edit, Trash2, FolderTree, ChevronRight, ChevronDown, Save, X } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Types\ninterface Category {\n    id: string;\n    parent_id: string | null;\n    name: string;\n    slug: string;\n    description?: string;\n    image_url?: string;\n    children?: Category[];\n}\n\nexport default function AdminCategoriesPage() {\n    const [tree, setTree] = useState<Category[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [editingNode, setEditingNode] = useState<Category | null>(null);\n    const [isCreating, setIsCreating] = useState(false);\n    const [parentIdForCreate, setParentIdForCreate] = useState<string | null>(null);\n\n    const loadData = async () => {\n        setLoading(true);\n        try {\n            const data = await getCategoryTree();\n            setTree(data);\n        } catch (err) {\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        loadData();\n    }, []);\n\n    const handleDelete = async (id: string) => {\n        if (confirm('Are you sure? This will delete all subcategories and items under it.')) {\n            const res = await deleteCategory(id);\n            if (res.success) loadData();\n            else alert(res.error);\n        }\n    };\n\n    return (\n        <div className=\"p-8 max-w-6xl mx-auto\">\n            <div className=\"flex justify-between items-center mb-8\">\n                <div>\n                    <h1 className=\"text-3xl font-bold text-navy-900\">Categories</h1>\n                    <p className=\"text-gray-500\">Manage your product taxonomy hierarchy.</p>\n                </div>\n                <button\n                    onClick={() => {\n                        setEditingNode(null);\n                        setParentIdForCreate(null);\n                        setIsCreating(true);\n                    }}\n                    className=\"flex items-center gap-2 bg-navy-900 text-white px-4 py-2 rounded-lg hover:bg-coral-500 transition-colors\"\n                >\n                    <Plus size={18} /> New Root Category\n                </button>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Tree View */}\n                <div className=\"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-6 overflow-hidden\">\n                    {loading ? (\n                        <p>Loading tree...</p>\n                    ) : (\n                        <div className=\"space-y-2\">\n                            {tree.map(node => (\n                                <CategoryNode\n                                    key={node.id}\n                                    node={node}\n                                    onEdit={(n: Category) => { setIsCreating(false); setEditingNode(n); }}\n                                    onAddChild={(pid: string) => { setEditingNode(null); setParentIdForCreate(pid); setIsCreating(true); }}\n                                    onDelete={handleDelete}\n                                />\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                {/* Editor Panel */}\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6 h-fit sticky top-8\">\n                    <h2 className=\"text-xl font-bold mb-4\">\n                        {isCreating ? 'Create Category' : editingNode ? 'Edit Category' : 'Select a Category'}\n                    </h2>\n\n                    {(isCreating || editingNode) ? (\n                        <CategoryForm\n                            initialData={isCreating ? { parent_id: parentIdForCreate } : editingNode}\n                            isCreating={isCreating}\n                            onCancel={() => { setIsCreating(false); setEditingNode(null); }}\n                            onSuccess={() => { setIsCreating(false); setEditingNode(null); loadData(); }}\n                        />\n                    ) : (\n                        <div className=\"text-center py-10 text-gray-400\">\n                            <FolderTree size={48} className=\"mx-auto mb-4 opacity-50\" />\n                            <p>Select a category to edit or create a new one.</p>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\n// Recursive Node Component\nfunction CategoryNode({ node, level = 0, onEdit, onAddChild, onDelete }: any) {\n    const [expanded, setExpanded] = useState(true);\n    const hasChildren = node.children && node.children.length > 0;\n\n    return (\n        <div className=\"select-none\">\n            <div\n                className={`flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 group transition-colors ${level === 0 ? 'bg-gray-50/50 mb-1' : ''}`}\n                style={{ marginLeft: level * 20 }}\n            >\n                <div className=\"flex items-center gap-2 flex-1\">\n                    <button\n                        onClick={() => setExpanded(!expanded)}\n                        className={`p-1 rounded hover:bg-gray-200 text-gray-400 ${!hasChildren && 'invisible'}`}\n                    >\n                        {expanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}\n                    </button>\n                    <span className={`font-medium ${level === 0 ? 'text-navy-900 text-base' : 'text-gray-700 text-sm'}`}>\n                        {node.name}\n                    </span>\n                    <span className=\"text-xs text-gray-400 px-2 py-0.5 bg-gray-100 rounded-full\">{node.slug}</span>\n                </div>\n\n                <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    {level < 2 && ( // Limit depth to 3 levels (0, 1, 2)\n                        <button onClick={() => onAddChild(node.id)} title=\"Add Subcategory\" className=\"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded\">\n                            <Plus size={14} />\n                        </button>\n                    )}\n                    <button onClick={() => onEdit(node)} title=\"Edit\" className=\"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded\">\n                        <Edit size={14} />\n                    </button>\n                    <button onClick={() => onDelete(node.id)} title=\"Delete\" className=\"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded\">\n                        <Trash2 size={14} />\n                    </button>\n                </div>\n            </div>\n\n            <AnimatePresence>\n                {hasChildren && expanded && (\n                    <motion.div\n                        initial={{ height: 0, opacity: 0 }}\n                        animate={{ height: 'auto', opacity: 1 }}\n                        exit={{ height: 0, opacity: 0 }}\n                        className=\"overflow-hidden\"\n                    >\n                        {node.children.map((child: any) => (\n                            <CategoryNode\n                                key={child.id}\n                                node={child}\n                                level={level + 1}\n                                onEdit={onEdit}\n                                onAddChild={onAddChild}\n                                onDelete={onDelete}\n                            />\n                        ))}\n                    </motion.div>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n}\n\n// Form Component\nfunction CategoryForm({ initialData, isCreating, onCancel, onSuccess }: any) {\n    const [form, setForm] = useState({\n        name: '',\n        slug: '',\n        description: '',\n        image_url: '',\n        parent_id: null,\n        ...initialData\n    });\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        setForm({\n            name: '',\n            slug: '',\n            description: '',\n            image_url: '',\n            parent_id: null,\n            ...initialData\n        });\n    }, [initialData]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { name, value } = e.target;\n        setForm((prev: any) => ({\n            ...prev,\n            [name]: value,\n            // Auto-generate slug from name if creating and slug is empty\n            slug: (name === 'name' && isCreating && !prev.slug)\n                ? value.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '')\n                : (name === 'slug' ? value : prev.slug)\n        }));\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n\n        const payload = {\n            name: form.name,\n            slug: form.slug,\n            description: form.description,\n            image_url: form.image_url,\n            parent_id: form.parent_id\n        };\n\n        let res;\n        if (isCreating) {\n            res = await createCategory(payload);\n        } else {\n            res = await updateCategory(initialData.id, payload);\n        }\n\n        setLoading(false);\n        if (res.success) onSuccess();\n        else alert(res.error);\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n                <label className=\"block text-xs font-bold uppercase text-gray-500 mb-1\">Name</label>\n                <input\n                    name=\"name\"\n                    value={form.name}\n                    onChange={handleChange}\n                    className=\"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-navy-900 outline-none\"\n                    placeholder=\"e.g. Mens Wear\"\n                    required\n                />\n            </div>\n            <div>\n                <label className=\"block text-xs font-bold uppercase text-gray-500 mb-1\">Slug (URL)</label>\n                <input\n                    name=\"slug\"\n                    value={form.slug}\n                    onChange={handleChange}\n                    className=\"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-navy-900 outline-none font-mono bg-gray-50\"\n                    placeholder=\"e.g. mens-wear\"\n                    required\n                />\n            </div>\n            <div>\n                <label className=\"block text-xs font-bold uppercase text-gray-500 mb-1\">Description</label>\n                <textarea\n                    name=\"description\"\n                    value={form.description || ''}\n                    onChange={handleChange}\n                    className=\"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-navy-900 outline-none\"\n                    rows={3}\n                />\n            </div>\n            <div>\n                <label className=\"block text-xs font-bold uppercase text-gray-500 mb-1\">Image URL</label>\n                <input\n                    name=\"image_url\"\n                    value={form.image_url || ''}\n                    onChange={handleChange}\n                    className=\"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-navy-900 outline-none\"\n                    placeholder=\"https://...\"\n                />\n            </div>\n\n            <div className=\"flex gap-2 pt-4\">\n                <button\n                    type=\"button\"\n                    onClick={onCancel}\n                    className=\"flex-1 px-4 py-2 border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 text-sm font-bold\"\n                >\n                    Cancel\n                </button>\n                <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"flex-1 px-4 py-2 bg-navy-900 text-white rounded-lg hover:bg-coral-500 transition-colors text-sm font-bold flex items-center justify-center gap-2\"\n                >\n                    {loading ? 'Saving...' : <><Save size={16} /> Save</>}\n                </button>\n            </div>\n        </form>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/coupons/new/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/coupons/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":5,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":22,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[133,141],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":5,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":30,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Filter"},"fix":{"range":[141,149],"text":""},"desc":"Remove unused variable \"Filter\"."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchCoupons` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/coupons/page.tsx:48:9\n  46 |\n  47 |     useEffect(() => {\n> 48 |         fetchCoupons();\n     |         ^^^^^^^^^^^^ `fetchCoupons` accessed before it is declared\n  49 |     }, []);\n  50 |\n  51 |     const fetchCoupons = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/coupons/page.tsx:51:5\n  49 |     }, []);\n  50 |\n> 51 |     const fetchCoupons = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 52 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 53 |         const { data, error } = await supabase\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 65 |     };\n     | ^^^^^^^ `fetchCoupons` is declared here\n  66 |\n  67 |     const toggleStatus = async (id: string, currentStatus: boolean, quiet = false) => {\n  68 |         const { error } = await supabase","line":48,"column":9,"nodeType":null,"endLine":48,"endColumn":21},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchCoupons'. Either include it or remove the dependency array.","line":49,"column":8,"nodeType":"ArrayExpression","endLine":49,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchCoupons]","fix":{"range":[1362,1364],"text":"[fetchCoupons]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Plus, Search, Filter, Trash2, Tag, Loader2 } from 'lucide-react';\nimport Link from 'next/link';\nimport { useToast } from '@/context/ToastContext';\nimport ConfirmationModal from '@/components/admin/ConfirmationModal';\n\ninterface Coupon {\n    id: string;\n    code: string;\n    discount_type: 'percentage' | 'fixed_amount';\n    discount_value: number;\n    usage_count: number;\n    usage_limit: number | null;\n    is_active: boolean;\n}\n\nexport default function AdminCouponsPage() {\n    const [coupons, setCoupons] = useState<Coupon[]>([]);\n    const [loading, setLoading] = useState(true);\n    const { addToast } = useToast();\n\n    // Modal State\n    const [modalConfig, setModalConfig] = useState<{\n        isOpen: boolean;\n        title: string;\n        message: string;\n        action: () => Promise<void>;\n        isDanger: boolean;\n        confirmText: string;\n    }>({\n        isOpen: false,\n        title: '',\n        message: '',\n        action: async () => { },\n        isDanger: false,\n        confirmText: 'Confirm'\n    });\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchCoupons();\n    }, []);\n\n    const fetchCoupons = async () => {\n        setLoading(true);\n        const { data, error } = await supabase\n            .from('coupons')\n            .select('*')\n            .order('created_at', { ascending: false });\n\n        if (error) {\n            console.error('Error fetching coupons:', error);\n            // Don't alert here as it might just be the table missing initially\n        } else {\n            setCoupons(data || []);\n        }\n        setLoading(false);\n    };\n\n    const toggleStatus = async (id: string, currentStatus: boolean, quiet = false) => {\n        const { error } = await supabase\n            .from('coupons')\n            .update({ is_active: !currentStatus })\n            .eq('id', id);\n\n        if (error) {\n            addToast('Failed to update status: ' + error.message, 'error');\n        } else {\n            setCoupons(coupons.map(c => c.id === id ? { ...c, is_active: !currentStatus } : c));\n            if (!quiet) addToast(`Coupon ${!currentStatus ? 'activated' : 'deactivated'} successfully`, 'success');\n        }\n    };\n\n    const executeDelete = async (id: string, code: string) => {\n        const { error } = await supabase.from('coupons').delete().eq('id', id);\n\n        if (error) {\n            if (error.code === '23503') { // Foreign Key Violation\n                // Close current modal and open the \"Deactivate\" suggestion modal\n                setModalConfig({\n                    isOpen: true,\n                    title: 'Cannot Delete Coupon',\n                    message: `The coupon \"${code}\" cannot be deleted because it has been used in existing orders.\\n\\nWould you like to deactivate it instead? This will prevent future use.`,\n                    confirmText: 'Deactivate Coupon',\n                    isDanger: false,\n                    action: async () => {\n                        await toggleStatus(id, true, true);\n                        addToast(`Coupon \"${code}\" deactivated successfully.`, 'success');\n                    }\n                });\n            } else {\n                addToast('Failed to delete: ' + error.message, 'error');\n            }\n        } else {\n            setCoupons(coupons.filter(c => c.id !== id));\n            addToast('Coupon deleted successfully', 'success');\n        }\n    };\n\n    const confirmDelete = (id: string, code: string) => {\n        setModalConfig({\n            isOpen: true,\n            title: 'Delete Coupon?',\n            message: `Are you sure you want to delete \"${code}\"? This action cannot be undone.`,\n            confirmText: 'Delete',\n            isDanger: true,\n            action: () => executeDelete(id, code)\n        });\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Coupons</h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Manage discounts and promotions</p>\n                </div>\n                <Link href=\"/admin/coupons/new\">\n                    <button className=\"bg-navy-900 dark:bg-coral-500 text-white hover:bg-navy-800 dark:hover:bg-coral-600 font-bold py-2.5 px-5 rounded-xl flex items-center gap-2 shadow-lg shadow-navy-900/20 dark:shadow-coral-500/20 transition-all\">\n                        <Plus size={20} />\n                        Create Coupon\n                    </button>\n                </Link>\n            </div>\n\n            {loading ? (\n                <div className=\"p-12 flex justify-center\"><Loader2 className=\"animate-spin text-navy-900 dark:text-white\" /></div>\n            ) : coupons.length === 0 ? (\n                <div className=\"p-12 text-center text-gray-400 bg-white dark:bg-slate-900 rounded-xl border border-dashed border-gray-200 dark:border-white/10\">\n                    <Tag size={48} className=\"mx-auto mb-4 opacity-20\" />\n                    <p>No coupons found. Create your first one!</p>\n                </div>\n            ) : (\n                <div className=\"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 overflow-x-auto custom-scrollbar\">\n                    <table className=\"w-full text-sm text-left\">\n                        <thead className=\"bg-[#FAF9F7] dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs border-b border-gray-100 dark:border-white/5\">\n                            <tr>\n                                <th className=\"px-6 py-4\">Code</th>\n                                <th className=\"px-6 py-4\">Discount</th>\n                                <th className=\"px-6 py-4\">Usage</th>\n                                <th className=\"px-6 py-4\">Status</th>\n                                <th className=\"px-6 py-4 text-right\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                            {coupons.map((coupon) => (\n                                <tr key={coupon.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors\">\n                                    <td className=\"px-6 py-4 font-mono font-bold text-gray-900 dark:text-white\">{coupon.code}</td>\n                                    <td className=\"px-6 py-4 text-gray-700 dark:text-gray-300\">\n                                        {coupon.discount_type === 'percentage'\n                                            ? `${coupon.discount_value}%`\n                                            : coupon.discount_type === 'fixed_amount'\n                                                ? `â‚¹${coupon.discount_value}`\n                                                : 'Free Shipping'\n                                        }\n                                    </td>\n                                    <td className=\"px-6 py-4 self-center text-gray-600 dark:text-gray-400\">\n                                        {coupon.usage_count} / {coupon.usage_limit || 'âˆž'}\n                                    </td>\n                                    <td className=\"px-6 py-4\">\n                                        <button\n                                            onClick={() => toggleStatus(coupon.id, coupon.is_active)}\n                                            className={`px-3 py-1 rounded-full text-xs font-bold transition-all ${coupon.is_active\n                                                ? 'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/50'\n                                                : 'bg-gray-100 dark:bg-white/10 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/20'\n                                                }`}\n                                        >\n                                            {coupon.is_active ? 'Active' : 'Inactive'}\n                                        </button>\n                                    </td>\n                                    <td className=\"px-6 py-4 text-right\">\n                                        <button\n                                            onClick={() => confirmDelete(coupon.id, coupon.code)}\n                                            className=\"text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg\"\n                                            title=\"Delete Coupon\"\n                                        >\n                                            <Trash2 size={18} />\n                                        </button>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            )}\n\n            <ConfirmationModal\n                isOpen={modalConfig.isOpen}\n                onClose={() => setModalConfig({ ...modalConfig, isOpen: false })}\n                onConfirm={modalConfig.action}\n                title={modalConfig.title}\n                message={modalConfig.message}\n                confirmText={modalConfig.confirmText}\n                isDanger={modalConfig.isDanger}\n            />\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/curated/[id]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":6,"column":73,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":78,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Check"},"fix":{"range":[246,253],"text":""},"desc":"Remove unused variable \"Check\"."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/curated/[id]/page.tsx:49:9\n  47 |\n  48 |     useEffect(() => {\n> 49 |         fetchData();\n     |         ^^^^^^^^^ `fetchData` accessed before it is declared\n  50 |     }, [id]);\n  51 |\n  52 |     const fetchData = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/curated/[id]/page.tsx:52:5\n  50 |     }, [id]);\n  51 |\n> 52 |     const fetchData = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 53 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 81 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |     };\n     | ^^^^^^^ `fetchData` is declared here\n  83 |\n  84 |     const handleSaveDetails = async (e: React.FormEvent) => {\n  85 |         e.preventDefault();","line":49,"column":9,"nodeType":null,"endLine":49,"endColumn":18},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":50,"column":8,"nodeType":"ArrayExpression","endLine":50,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData, id]","fix":{"range":[1382,1386],"text":"[fetchData, id]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { useParams, useRouter } from 'next/navigation';\nimport { ArrowLeft, Save, Loader2, Image as ImageIcon, Search, Plus, X, Check } from 'lucide-react';\nimport Link from 'next/link';\nimport { useToast } from '@/context/ToastContext';\nimport Image from 'next/image';\n\ninterface Product {\n    id: string;\n    name: string;\n    images: string[];\n    price: number;\n    metadata?: {\n        curated_section_ids?: string[];\n    };\n}\n\nexport default function EditCollectionPage() {\n    const params = useParams();\n    const router = useRouter();\n    const { addToast } = useToast();\n    const id = params.id as string;\n\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n\n    // Collection Data\n    const [formData, setFormData] = useState({\n        title: '',\n        description: '',\n        image_url: '',\n        is_active: true,\n        display_order: 0\n    });\n\n    // Product Management\n    const [allProducts, setAllProducts] = useState<Product[]>([]);\n    const [searchQuery, setSearchQuery] = useState('');\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchData();\n    }, [id]);\n\n    const fetchData = async () => {\n        setLoading(true);\n\n        // 1. Fetch Collection\n        const { data: collection, error: collError } = await supabase\n            .from('curated_sections')\n            .select('*')\n            .eq('id', id)\n            .single();\n\n        if (collError) {\n            addToast('Error loading collection', 'error');\n            router.push('/admin/curated');\n            return;\n        }\n\n        setFormData(collection);\n\n        // 2. Fetch All Products (for selection)\n        // Optimization: In a real large app, you'd search server-side. \n        // For < 1000 products, client-side filtering is instant and better UX.\n        const { data: products } = await supabase\n            .from('products')\n            .select('id, name, images, price, metadata');\n\n        if (products) {\n            setAllProducts(products);\n        }\n\n        setLoading(false);\n    };\n\n    const handleSaveDetails = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setSaving(true);\n\n        const { error } = await supabase\n            .from('curated_sections')\n            .update(formData)\n            .eq('id', id);\n\n        if (error) {\n            addToast(`Error: ${error.message}`, 'error');\n        } else {\n            addToast('Collection details saved', 'success');\n        }\n        setSaving(false);\n    };\n\n    // --- Product Assignment Logic ---\n\n    // Derived state: Products currently in this collection\n    const assignedProducts = allProducts.filter(p =>\n        p.metadata?.curated_section_ids?.includes(id)\n    );\n\n    // Derived state: Products NOT in this collection (filtered by search)\n    const availableProducts = allProducts.filter(p =>\n        !p.metadata?.curated_section_ids?.includes(id) &&\n        p.name.toLowerCase().includes(searchQuery.toLowerCase())\n    ).slice(0, 10); // Show top 10 matches\n\n\n    const addProductToCollection = async (product: Product) => {\n        const currentIds = product.metadata?.curated_section_ids || [];\n        if (currentIds.includes(id)) return;\n\n        const newIds = [...currentIds, id];\n\n        // Optimistic Update\n        updateLocalProduct(product.id, newIds);\n\n        const { error } = await supabase\n            .from('products')\n            .update({\n                metadata: {\n                    ...product.metadata,\n                    curated_section_ids: newIds\n                }\n            })\n            .eq('id', product.id);\n\n        if (error) {\n            addToast('Failed to add product', 'error');\n            updateLocalProduct(product.id, currentIds); // Revert\n        } else {\n            addToast('Product added to collection', 'success');\n        }\n    };\n\n    const removeProductFromCollection = async (product: Product) => {\n        const currentIds = product.metadata?.curated_section_ids || [];\n        const newIds = currentIds.filter(cid => cid !== id);\n\n        // Optimistic Update\n        updateLocalProduct(product.id, newIds);\n\n        const { error } = await supabase\n            .from('products')\n            .update({\n                metadata: {\n                    ...product.metadata,\n                    curated_section_ids: newIds\n                }\n            })\n            .eq('id', product.id);\n\n        if (error) {\n            addToast('Failed to remove product', 'error');\n            updateLocalProduct(product.id, currentIds); // Revert\n        } else {\n            addToast('Product removed', 'success');\n        }\n    };\n\n    const updateLocalProduct = (pid: string, newIds: string[]) => {\n        setAllProducts(prev => prev.map(p =>\n            p.id === pid\n                ? { ...p, metadata: { ...p.metadata, curated_section_ids: newIds } }\n                : p\n        ));\n    };\n\n    if (loading) return <div className=\"flex justify-center py-20\"><Loader2 className=\"animate-spin\" /></div>;\n\n    return (\n        <div className=\"max-w-6xl mx-auto space-y-8\">\n            {/* Header */}\n            <div className=\"flex items-center gap-4\">\n                <Link href=\"/admin/curated\">\n                    <button className=\"p-2 hover:bg-white rounded-full transition-colors text-gray-500\">\n                        <ArrowLeft size={24} />\n                    </button>\n                </Link>\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900\">Edit Collection</h1>\n                    <p className=\"text-gray-500 text-sm\">Update details and manage products.</p>\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* LEFT: Details Form */}\n                <div className=\"lg:col-span-1 space-y-6\">\n                    <form onSubmit={handleSaveDetails} className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100/50 space-y-4 sticky top-6\">\n                        <h3 className=\"font-bold text-lg text-gray-900 border-b border-gray-100 pb-2\">Details</h3>\n\n                        {/* Title */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-gray-900 uppercase mb-1\">Title</label>\n                            <input\n                                type=\"text\"\n                                value={formData.title}\n                                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                                className=\"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 font-bold text-gray-900\"\n                            />\n                        </div>\n\n                        {/* Subtitle */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-gray-900 uppercase mb-1\">Subtitle</label>\n                            <input\n                                type=\"text\"\n                                value={formData.description}\n                                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                                className=\"w-full px-3 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900\"\n                            />\n                        </div>\n\n                        {/* Image */}\n                        <div>\n                            <label className=\"block text-xs font-bold text-gray-900 uppercase mb-1\">Image URL</label>\n                            <div className=\"space-y-2\">\n                                <div className=\"aspect-[4/5] bg-gray-100 rounded-lg overflow-hidden relative border border-gray-200\">\n                                    {formData.image_url ? (\n                                        <Image src={formData.image_url} alt=\"Preview\" fill className=\"object-cover\" />\n                                    ) : (\n                                        <div className=\"flex items-center justify-center w-full h-full text-gray-300\">\n                                            <ImageIcon size={32} />\n                                        </div>\n                                    )}\n                                </div>\n                                <input\n                                    type=\"text\"\n                                    value={formData.image_url}\n                                    onChange={(e) => setFormData({ ...formData, image_url: e.target.value })}\n                                    className=\"w-full px-3 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg text-xs\"\n                                    placeholder=\"https://...\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* Toggles */}\n                        <div className=\"flex items-center justify-between py-2\">\n                            <label className=\"flex items-center gap-2 cursor-pointer\">\n                                <input\n                                    type=\"checkbox\"\n                                    checked={formData.is_active}\n                                    onChange={(e) => setFormData({ ...formData, is_active: e.target.checked })}\n                                    className=\"rounded text-coral-500 focus:ring-coral-500\"\n                                />\n                                <span className=\"text-sm font-medium\">Active</span>\n                            </label>\n                            <div className=\"flex items-center gap-2\">\n                                <span className=\"text-xs font-bold text-gray-900 uppercase\">Order</span>\n                                <input\n                                    type=\"number\"\n                                    value={formData.display_order}\n                                    onChange={(e) => setFormData({ ...formData, display_order: parseInt(e.target.value) || 0 })}\n                                    className=\"w-16 px-2 py-1 bg-white text-gray-900 border border-gray-200 rounded text-sm text-center\"\n                                />\n                            </div>\n                        </div>\n\n                        <button\n                            type=\"submit\"\n                            disabled={saving}\n                            className=\"w-full bg-navy-900 hover:bg-navy-800 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-all\"\n                        >\n                            {saving ? <Loader2 className=\"animate-spin\" size={18} /> : <Save size={18} />}\n                            Save Details\n                        </button>\n                    </form>\n                </div>\n\n                {/* RIGHT: Product Management */}\n                <div className=\"lg:col-span-2 space-y-6\">\n\n                    {/* Assigned Products List */}\n                    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100/50 overflow-hidden\">\n                        <div className=\"p-4 border-b border-gray-100 flex items-center justify-between\">\n                            <h3 className=\"font-bold text-lg text-gray-900\">\n                                Assigned Products\n                                <span className=\"ml-2 bg-coral-100 text-coral-600 px-2 py-0.5 rounded-full text-xs align-middle\">\n                                    {assignedProducts.length}\n                                </span>\n                            </h3>\n                        </div>\n\n                        {assignedProducts.length === 0 ? (\n                            <div className=\"p-8 text-center text-gray-400 bg-gray-50/50\">\n                                <p>No products in this collection yet.</p>\n                                <p className=\"text-sm\">Search and add products below.</p>\n                            </div>\n                        ) : (\n                            <div className=\"divide-y divide-gray-50\">\n                                {assignedProducts.map(product => (\n                                    <div key={product.id} className=\"p-3 flex items-center justify-between hover:bg-gray-50 group transition-colors\">\n                                        <div className=\"flex items-center gap-3\">\n                                            <div className=\"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden relative border border-gray-200\">\n                                                {product.images?.[0] && (\n                                                    <Image src={product.images[0]} alt={product.name} fill className=\"object-cover\" />\n                                                )}\n                                            </div>\n                                            <div>\n                                                <div className=\"font-bold text-gray-900 text-sm\">{product.name}</div>\n                                                <div className=\"text-gray-500 text-xs\">â‚¹{product.price}</div>\n                                            </div>\n                                        </div>\n                                        <button\n                                            onClick={() => removeProductFromCollection(product)}\n                                            className=\"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\n                                            title=\"Remove from collection\"\n                                        >\n                                            <X size={18} />\n                                        </button>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Add Products */}\n                    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100/50 overflow-hidden\">\n                        <div className=\"p-4 border-b border-gray-100 bg-gray-50/50\">\n                            <h3 className=\"font-bold text-gray-900 mb-3\">Add Products</h3>\n                            <div className=\"relative\">\n                                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Search products by name...\"\n                                    value={searchQuery}\n                                    onChange={(e) => setSearchQuery(e.target.value)}\n                                    className=\"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-xl focus:outline-none focus:border-navy-900 transition-colors\"\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"divide-y divide-gray-50 max-h-[400px] overflow-y-auto\">\n                            {searchQuery.length > 0 && availableProducts.length === 0 ? (\n                                <div className=\"p-4 text-center text-gray-400\">No matching products found.</div>\n                            ) : availableProducts.length === 0 && searchQuery.length === 0 ? (\n                                <div className=\"p-4 text-center text-gray-400 text-sm\">Start typing to search products...</div>\n                            ) : (\n                                availableProducts.map(product => (\n                                    <div key={product.id} className=\"p-3 flex items-center justify-between hover:bg-blue-50/50 group transition-colors cursor-pointer\" onClick={() => addProductToCollection(product)}>\n                                        <div className=\"flex items-center gap-3\">\n                                            <div className=\"w-10 h-10 bg-gray-100 rounded-lg overflow-hidden relative border border-gray-200\">\n                                                {product.images?.[0] && (\n                                                    <Image src={product.images[0]} alt={product.name} fill className=\"object-cover\" />\n                                                )}\n                                            </div>\n                                            <div className=\"font-medium text-gray-900 text-sm\">{product.name}</div>\n                                        </div>\n                                        <button\n                                            className=\"p-1.5 bg-blue-100 text-blue-600 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity\"\n                                        >\n                                            <Plus size={16} />\n                                        </button>\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/curated/new/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/curated/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":5,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":22,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[133,141],"text":""},"desc":"Remove unused variable \"Search\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ExternalLink' is defined but never used.","line":5,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":50,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ExternalLink"},"fix":{"range":[155,169],"text":""},"desc":"Remove unused variable \"ExternalLink\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'GlassCard' is defined but never used.","line":9,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"GlassCard"},"fix":{"range":[337,387],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchSections` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/curated/page.tsx:31:9\n  29 |\n  30 |     useEffect(() => {\n> 31 |         fetchSections();\n     |         ^^^^^^^^^^^^^ `fetchSections` accessed before it is declared\n  32 |     }, []);\n  33 |\n  34 |     const fetchSections = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/curated/page.tsx:34:5\n  32 |     }, []);\n  33 |\n> 34 |     const fetchSections = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 35 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 36 |         const { data, error } = await supabase\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 48 |     };\n     | ^^^^^^^ `fetchSections` is declared here\n  49 |\n  50 |     const handleDelete = async (id: string) => {\n  51 |         if (!confirm('Are you sure you want to delete this collection?')) return;","line":31,"column":9,"nodeType":null,"endLine":31,"endColumn":22},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchSections'. Either include it or remove the dependency array.","line":32,"column":8,"nodeType":"ArrayExpression","endLine":32,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchSections]","fix":{"range":[956,958],"text":"[fetchSections]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":102,"column":122,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4107,4206],"text":"Create themed collections like &quot;Summer Vibes\" or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like &ldquo;Summer Vibes\" or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4107,4206],"text":"Create themed collections like &#34;Summer Vibes\" or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like &rdquo;Summer Vibes\" or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":102,"column":135,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes&quot; or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes&ldquo; or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes&#34; or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes&rdquo; or \"Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":102,"column":140,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or &quot;Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or &ldquo;Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or &#34;Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or &rdquo;Gift Guide\" to showcase products on the homepage."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":102,"column":151,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or \"Gift Guide&quot; to showcase products on the homepage."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or \"Gift Guide&ldquo; to showcase products on the homepage."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or \"Gift Guide&#34; to showcase products on the homepage."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4107,4206],"text":"Create themed collections like \"Summer Vibes\" or \"Gift Guide&rdquo; to showcase products on the homepage."},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Plus, Search, Edit, Trash2, ExternalLink, Loader2, Sparkles, LayoutGrid } from 'lucide-react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useToast } from '@/context/ToastContext';\nimport GlassCard from '@/components/UI/GlassCard';\n\ninterface CuratedSection {\n    id: string;\n    title: string;\n    description: string;\n    image_url: string;\n    is_active: boolean;\n    display_order: number;\n}\n\nexport default function AdminCuratedPage() {\n    const [sections, setSections] = useState<CuratedSection[]>([]);\n    const [loading, setLoading] = useState(true);\n    const { addToast } = useToast();\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchSections();\n    }, []);\n\n    const fetchSections = async () => {\n        setLoading(true);\n        const { data, error } = await supabase\n            .from('curated_sections')\n            .select('*')\n            .order('display_order', { ascending: true });\n\n        if (error) {\n            console.error('Error fetching sections:', error);\n            addToast('Failed to load collections', 'error');\n        } else {\n            setSections(data || []);\n        }\n        setLoading(false);\n    };\n\n    const handleDelete = async (id: string) => {\n        if (!confirm('Are you sure you want to delete this collection?')) return;\n\n        const { error } = await supabase.from('curated_sections').delete().eq('id', id);\n\n        if (error) {\n            addToast(`Failed to delete: ${error.message}`, 'error');\n        } else {\n            setSections(sections.filter(s => s.id !== id));\n            addToast('Collection deleted', 'success');\n        }\n    };\n\n    const handleToggleActive = async (section: CuratedSection) => {\n        const { error } = await supabase\n            .from('curated_sections')\n            .update({ is_active: !section.is_active })\n            .eq('id', section.id);\n\n        if (error) {\n            addToast('Failed to update status', 'error');\n        } else {\n            setSections(sections.map(s => s.id === section.id ? { ...s, is_active: !s.is_active } : s));\n            addToast(`Collection ${!section.is_active ? 'Activated' : 'Deactivated'}`, 'success');\n        }\n    };\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h1 className=\"text-3xl font-heading font-bold text-gray-900 dark:text-white\">Curated Collections</h1>\n                    <p className=\"text-gray-500 dark:text-gray-400\">Manage your special product showcases.</p>\n                </div>\n                <Link href=\"/admin/curated/new\">\n                    <button className=\"bg-coral-500 hover:bg-coral-600 text-white font-bold py-3 px-6 rounded-xl flex items-center gap-2 shadow-lg shadow-coral-500/20 transition-all\">\n                        <Plus size={20} />\n                        Create Collection\n                    </button>\n                </Link>\n            </div>\n\n            {loading ? (\n                <div className=\"flex justify-center py-20\">\n                    <Loader2 className=\"animate-spin text-navy-900 dark:text-white\" size={40} />\n                </div>\n            ) : sections.length === 0 ? (\n                <div className=\"text-center py-20 bg-white dark:bg-slate-900 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm\">\n                    <div className=\"w-16 h-16 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300 dark:text-gray-400\">\n                        <Sparkles size={32} />\n                    </div>\n                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">No collections yet</h3>\n                    <p className=\"text-gray-500 dark:text-gray-400 max-w-md mx-auto mb-6\">Create themed collections like \"Summer Vibes\" or \"Gift Guide\" to showcase products on the homepage.</p>\n                    <Link href=\"/admin/curated/new\">\n                        <button className=\"text-coral-500 font-bold hover:underline\">Create your first collection</button>\n                    </Link>\n                </div>\n            ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {sections.map((section) => (\n                        <div key={section.id} className=\"group bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden hover:shadow-xl transition-all duration-300\">\n                            {/* Card Image Header */}\n                            <div className=\"relative h-48 w-full bg-gray-100 dark:bg-slate-800 overflow-hidden\">\n                                {section.image_url ? (\n                                    <Image\n                                        src={section.image_url}\n                                        alt={section.title}\n                                        fill\n                                        className=\"object-cover transition-transform duration-700 group-hover:scale-105\"\n                                    />\n                                ) : (\n                                    <div className=\"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600\">\n                                        <LayoutGrid size={32} />\n                                    </div>\n                                )}\n                                <div className=\"absolute top-4 right-4\">\n                                    <span className={`px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md ${section.is_active\n                                        ? 'bg-green-500/90 text-white'\n                                        : 'bg-gray-500/90 text-white'\n                                        }`}>\n                                        {section.is_active ? 'Active' : 'Draft'}\n                                    </span>\n                                </div>\n                            </div>\n\n                            {/* Content */}\n                            <div className=\"p-6\">\n                                <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">{section.title}</h3>\n                                <p className=\"text-gray-500 dark:text-gray-400 text-sm line-clamp-2 mb-6 min-h-[40px]\">\n                                    {section.description || \"No description provided.\"}\n                                </p>\n\n                                <div className=\"flex items-center justify-between border-t border-gray-50 dark:border-white/5 pt-4 mt-auto\">\n                                    <div className=\"flex gap-2\">\n                                        <Link href={`/admin/curated/${section.id}`}>\n                                            <button className=\"flex items-center gap-1.5 px-3 py-2 rounded-lg bg-gray-100 dark:bg-white/10 text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-white/20 font-bold text-xs transition-colors\">\n                                                <Edit size={16} />\n                                                Manage\n                                            </button>\n                                        </Link>\n                                    </div>\n                                    <div className=\"flex gap-2\">\n                                        <button\n                                            onClick={() => handleToggleActive(section)}\n                                            className={`p-2 rounded-lg transition-colors ${section.is_active ? 'text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20' : 'text-gray-400 dark:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800'}`}\n                                            title=\"Toggle Visibility\"\n                                        >\n                                            <div className={`w-3 h-3 rounded-full ${section.is_active ? 'bg-green-500' : 'bg-gray-300 dark:bg-gray-600'}`} />\n                                        </button>\n                                        <button\n                                            onClick={() => handleDelete(section.id)}\n                                            className=\"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:text-gray-500 dark:hover:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                                        >\n                                            <Trash2 size={18} />\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/customers/[id]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":5,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":25,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[138,144],"text":""},"desc":"Remove unused variable \"User\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ShoppingBag' is defined but never used.","line":5,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":53,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ShoppingBag"},"fix":{"range":[159,172],"text":""},"desc":"Remove unused variable \"ShoppingBag\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[398,401],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[398,401],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchCustomerHistory` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/customers/[id]/page.tsx:37:13\n  35 |     useEffect(() => {\n  36 |         if (params.id) {\n> 37 |             fetchCustomerHistory();\n     |             ^^^^^^^^^^^^^^^^^^^^ `fetchCustomerHistory` accessed before it is declared\n  38 |         }\n  39 |     }, [params.id]);\n  40 |\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/customers/[id]/page.tsx:41:5\n  39 |     }, [params.id]);\n  40 |\n> 41 |     const fetchCustomerHistory = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 42 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |         // We are using user_id or guest ID. Since we don't have a rigid profiles table yet,\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 79 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 80 |     };\n     | ^^^^^^^ `fetchCustomerHistory` is declared here\n  81 |\n  82 |     if (loading) return <div className=\"p-12 text-center text-gray-500\">Loading customer profile...</div>;\n  83 |     if (!customer) return <div className=\"p-12 text-center text-gray-500\">Customer not found or no orders history.</div>;","line":37,"column":13,"nodeType":null,"endLine":37,"endColumn":33},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchCustomerHistory'. Either include it or remove the dependency array.","line":39,"column":8,"nodeType":"ArrayExpression","endLine":39,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [fetchCustomerHistory, params.id]","fix":{"range":[991,1002],"text":"[fetchCustomerHistory, params.id]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":66,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":66,"endColumn":36}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { ArrowLeft, User, Phone, MapPin, ShoppingBag, Calendar } from 'lucide-react';\nimport { useParams } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface Order {\n    id: string;\n    created_at: string;\n    total_amount: number;\n    status: string;\n    items?: any[];\n}\n\ninterface CustomerProfile {\n    id: string;\n    name: string;\n    phone?: string;\n    location?: string;\n    orders: Order[];\n}\n\nexport default function CustomerDetailPage() {\n    const params = useParams();\n    const [customer, setCustomer] = useState<CustomerProfile | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        if (params.id) {\n            fetchCustomerHistory();\n        }\n    }, [params.id]);\n\n    const fetchCustomerHistory = async () => {\n        setLoading(true);\n        // We are using user_id or guest ID. Since we don't have a rigid profiles table yet,\n        // we will fetch ALL orders for this user_id to rebuild the profile view.\n        // NOTE: In the URL, if it's a guest, we might have passed a complex ID. \n        // For simplicity, let's assume we are linking from the Customer List which uses user_id if available.\n\n        const customerId = decodeURIComponent(params.id as string);\n        const isGuest = customerId.startsWith('guest-');\n\n        let query = supabase.from('orders').select('*').order('created_at', { ascending: false });\n\n        if (isGuest) {\n            // This is tricky without a unique guest ID. \n            // We'll rely on our previous logic or just filter by user_id if it's a real user.\n            // Realistically, for this demo, we'll assume we are looking up by user_id.\n            // If it's a guest, we might not be able to reliably group without email.\n            // Let's try to find by user_id = customerId\n            query = query.eq('user_id', customerId); // This won't work for 'guest-Name'.\n            // Fallback: If it starts with guest-Name, maybe we can't fetch perfectly unique history.\n            // Let's stick to real users or just show the orders we can find.\n        } else {\n            query = query.eq('user_id', customerId);\n        }\n\n        const { data: orders, error } = await query;\n\n        if (orders && orders.length > 0) {\n            const latest = orders[0];\n            const profile: CustomerProfile = {\n                id: customerId,\n                name: `${latest.shipping_address?.firstName} ${latest.shipping_address?.lastName}`,\n                phone: latest.shipping_address?.phone,\n                location: `${latest.shipping_address?.city}, ${latest.shipping_address?.pincode}`,\n                orders: orders\n            };\n            setCustomer(profile);\n        }\n        setLoading(false);\n    };\n\n    if (loading) return <div className=\"p-12 text-center text-gray-500\">Loading customer profile...</div>;\n    if (!customer) return <div className=\"p-12 text-center text-gray-500\">Customer not found or no orders history.</div>;\n\n    const totalSpent = customer.orders.reduce((sum, o) => sum + o.total_amount, 0);\n\n    return (\n        <div className=\"max-w-5xl mx-auto space-y-6 pb-20\">\n            <div className=\"flex items-center gap-4 text-gray-500 mb-4\">\n                <Link href=\"/admin/customers\" className=\"hover:text-navy-900 transition-colors flex items-center gap-1\">\n                    <ArrowLeft size={18} /> Back to Customers\n                </Link>\n            </div>\n\n            {/* Header Card */}\n            <div className=\"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-8 items-start\">\n                <div className=\"w-24 h-24 bg-navy-50 text-navy-600 rounded-full flex items-center justify-center text-3xl font-bold\">\n                    {customer.name[0]}\n                </div>\n                <div className=\"flex-1\">\n                    <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{customer.name}</h1>\n                    <div className=\"flex flex-wrap gap-4 text-gray-500 text-sm\">\n                        <div className=\"flex items-center gap-1\">\n                            <Phone size={16} /> {customer.phone || 'N/A'}\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                            <MapPin size={16} /> {customer.location}\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                            <Calendar size={16} /> First Order: {new Date(customer.orders[customer.orders.length - 1].created_at).toLocaleDateString()}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"text-right\">\n                    <p className=\"text-sm text-gray-500 mb-1\">Lifetime Value</p>\n                    <p className=\"text-3xl font-bold text-green-600\">\n                        {new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR' }).format(totalSpent)}\n                    </p>\n                    <p className=\"text-sm text-gray-500 mt-1\">{customer.orders.length} Orders</p>\n                </div>\n            </div>\n\n            {/* Order History */}\n            <h2 className=\"text-xl font-bold text-gray-900 mt-8\">Order History</h2>\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\">\n                <table className=\"w-full text-sm text-left\">\n                    <thead className=\"bg-[#FAF9F7] text-gray-500 font-bold uppercase text-xs border-b border-gray-100\">\n                        <tr>\n                            <th className=\"px-6 py-4\">Order ID</th>\n                            <th className=\"px-6 py-4\">Date</th>\n                            <th className=\"px-6 py-4\">Amount</th>\n                            <th className=\"px-6 py-4\">Status</th>\n                            <th className=\"px-6 py-4 text-right\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-gray-100\">\n                        {customer.orders.map((order) => (\n                            <tr key={order.id} className=\"hover:bg-gray-50/50 transition-colors\">\n                                <td className=\"px-6 py-4 font-mono text-gray-900\">\n                                    #{order.id.slice(0, 8)}\n                                </td>\n                                <td className=\"px-6 py-4 text-gray-500\">\n                                    {new Date(order.created_at).toLocaleDateString()}\n                                </td>\n                                <td className=\"px-6 py-4 font-bold text-gray-900\">\n                                    â‚¹{order.total_amount}\n                                </td>\n                                <td className=\"px-6 py-4\">\n                                    <span className={`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide border ${order.status === 'delivered' ? 'bg-green-50 border-green-100 text-green-700' :\n                                        order.status === 'cancelled' ? 'bg-red-50 border-red-100 text-red-700' :\n                                            'bg-amber-50 border-amber-100 text-amber-700'\n                                        }`}>\n                                        {order.status}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4 text-right\">\n                                    <Link href={`/admin/orders/${order.id}`} className=\"text-blue-600 hover:underline font-bold\">\n                                        View\n                                    </Link>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/customers/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":5,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Calendar"},"fix":{"range":[146,156],"text":""},"desc":"Remove unused variable \"Calendar\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":5,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":49,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[156,168],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":7,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[258,287],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":39,"column":8,"nodeType":"ArrayExpression","endLine":39,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData]","fix":{"range":[1301,1303],"text":"[fetchData]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":49,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1684,1687],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1684,1687],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":55,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1915,1918],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1915,1918],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2019,2022],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2019,2022],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":232,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9503,9506],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9503,9506],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { User, ShoppingBag, Calendar, ArrowRight, Search, Mail, Phone, Download } from 'lucide-react';\nimport { format } from 'date-fns';\nimport Link from 'next/link';\n\ninterface CustomerMetrics {\n    user_id: string;\n    name: string;\n    email: string;\n    phone: string;\n    secondary_phone?: string;\n    total_spent: number;\n    orders_count: number;\n    last_order_date: string;\n    first_order_date: string;\n    is_blocked?: boolean;\n}\n\nimport WalletAdjustmentModal from '@/components/admin/WalletAdjustmentModal';\n\nexport default function CustomersPage() {\n    const [customers, setCustomers] = useState<CustomerMetrics[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selectedCustomer, setSelectedCustomer] = useState<CustomerMetrics | null>(null);\n    const [isWalletModalOpen, setIsWalletModalOpen] = useState(false);\n    const [blockedUsers, setBlockedUsers] = useState<Set<string>>(new Set());\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    const fetchData = async () => {\n        setLoading(true);\n\n        // Fetch Blocked Users\n        const { getBlockedUsers, getAllProfiles } = await import('@/actions/adminActions');\n        const blockedRes = await getBlockedUsers();\n        const blockedSet = new Set<string>();\n        if (blockedRes.success && blockedRes.data) {\n            blockedRes.data.forEach((b: any) => blockedSet.add(b.user_id));\n        }\n        setBlockedUsers(blockedSet);\n\n        // Fetch Profiles (for correct email/phone)\n        const profilesRes = await getAllProfiles();\n        const profileMap = new Map<string, any>();\n        if (profilesRes.success && profilesRes.data) {\n            profilesRes.data.forEach((p: any) => profileMap.set(p.id, p));\n        }\n\n        // Fetch all orders\n        const { data: orders, error } = await supabase\n            .from('orders')\n            .select('*')\n            .order('created_at', { ascending: false });\n\n        if (error) {\n            console.error('Error fetching orders:', error);\n            setLoading(false);\n            return;\n        }\n\n        if (orders) {\n            const customerMap = new Map<string, CustomerMetrics>();\n\n            orders.forEach(order => {\n                const userId = order.user_id || order.shipping_address?.email || 'guest';\n                // Skip if really no ID\n                if (!userId) return;\n\n                const profile = profileMap.get(userId);\n\n                // Priority: Profile -> Order Shipping Address -> Defaults\n                const email = profile?.email || order.shipping_address?.email || 'N/A';\n                const phone = profile?.phone || order.shipping_address?.phone || 'N/A';\n                const name = profile?.full_name || `${order.shipping_address?.firstName || ''} ${order.shipping_address?.lastName || ''}`.trim() || 'Unknown';\n\n                const current = customerMap.get(userId) || {\n                    user_id: userId,\n                    name: name,\n                    email: email,\n                    phone: phone,\n                    secondary_phone: order.shipping_address?.secondaryPhone,\n                    total_spent: 0,\n                    orders_count: 0,\n                    last_order_date: order.created_at,\n                    first_order_date: order.created_at,\n                    is_blocked: blockedSet.has(userId)\n                };\n\n                // Update Stats\n                current.total_spent += order.total_amount;\n                current.orders_count += 1;\n                current.is_blocked = blockedSet.has(userId);\n\n                // If profile data was missing initially but found in later orders (unlikely if profile exists, but good fallback)\n                if (current.email === 'N/A' && order.shipping_address?.email) current.email = order.shipping_address.email;\n                if (current.phone === 'N/A' && order.shipping_address?.phone) current.phone = order.shipping_address.phone;\n\n\n                // Track Dates\n                if (new Date(order.created_at) > new Date(current.last_order_date)) {\n                    current.last_order_date = order.created_at;\n                    // Update latest contact info from most recent order IF profile didn't provide it\n                    if (!profile?.phone && order.shipping_address?.phone) current.phone = order.shipping_address.phone;\n                    if (order.shipping_address?.secondaryPhone) current.secondary_phone = order.shipping_address.secondaryPhone;\n                }\n                if (new Date(order.created_at) < new Date(current.first_order_date)) {\n                    current.first_order_date = order.created_at;\n                }\n\n                // Fallback: If we still don't have a secondary phone, check this older order\n                if (!current.secondary_phone && order.shipping_address?.secondaryPhone) {\n                    current.secondary_phone = order.shipping_address.secondaryPhone;\n                }\n\n                customerMap.set(userId, current);\n            });\n\n            setCustomers(Array.from(customerMap.values()));\n        }\n        setLoading(false);\n    };\n\n    const handleOpenWalletModal = (customer: CustomerMetrics) => {\n        if (customer.user_id === 'guest' || !customer.user_id.includes('-')) {\n            alert(\"This seems to be a guest user. Wallets are only for registered accounts.\");\n            return;\n        }\n        setSelectedCustomer(customer);\n        setIsWalletModalOpen(true);\n    };\n\n    const handleToggleBlock = async (customer: CustomerMetrics) => {\n        if (customer.user_id === 'guest' || !customer.user_id.includes('-')) {\n            alert(\"Cannot block guest users (Invalid ID).\");\n            return;\n        }\n\n        const isBlocked = blockedUsers.has(customer.user_id);\n        const action = isBlocked ? 'Unblock' : 'Block';\n\n        if (!confirm(`Are you sure you want to ${action} ${customer.name}?`)) return;\n\n        const { toggleBlockUser } = await import('@/actions/adminActions');\n        const res = await toggleBlockUser(customer.user_id, !isBlocked, 'Admin Manual Block');\n\n        if (res.success) {\n            // Update local state\n            const newSet = new Set(blockedUsers);\n            if (isBlocked) newSet.delete(customer.user_id);\n            else newSet.add(customer.user_id);\n            setBlockedUsers(newSet);\n\n            // Update customer list\n            setCustomers(prev => prev.map(c =>\n                c.user_id === customer.user_id ? { ...c, is_blocked: !isBlocked } : c\n            ));\n\n            alert(`User successfully ${isBlocked ? 'unblocked' : 'blocked'}.`);\n        } else {\n            console.error(\"Block/Unblock Failed:\", res.error);\n            alert(`Failed to ${action} user (ID: ${customer.user_id}): ${res.error}`);\n        }\n    };\n\n    const handleExportCustomerCSV = () => {\n        try {\n            if (!customers.length) {\n                alert(\"No customers to export\");\n                return;\n            }\n\n            const headers = ['Customer Name', 'Email', 'Phone', 'Alt Phone', 'Total Spent', 'Orders Count', 'Last Order Date', 'First Order Date', 'Status'];\n\n            const escapeCsv = (str: string | number | boolean | null | undefined) => {\n                if (str === null || str === undefined) return '\"\"';\n                const stringValue = String(str);\n                // Replace newlines with spaces to prevent breaking CSV structure\n                const cleanValue = stringValue.replace(/[\\r\\n]+/g, ' ');\n                const escaped = cleanValue.replace(/\"/g, '\"\"');\n                return `\"${escaped}\"`;\n            };\n\n            const safeFormatDate = (dateStr: string) => {\n                try {\n                    const d = new Date(dateStr);\n                    if (isNaN(d.getTime())) return 'N/A';\n                    return format(d, 'yyyy-MM-dd');\n                } catch {\n                    return 'N/A';\n                }\n            };\n\n            const rows = customers.map(c => [\n                c.name,\n                c.email,\n                c.phone,\n                c.secondary_phone || '',\n                c.total_spent,\n                c.orders_count,\n                safeFormatDate(c.last_order_date),\n                safeFormatDate(c.first_order_date),\n                c.is_blocked ? 'Blocked' : 'Active'\n            ]);\n\n            const csvContent = [\n                headers.map(escapeCsv).join(','),\n                ...rows.map(row => row.map(escapeCsv).join(','))\n            ].join('\\n');\n\n            // Use Uint8Array for BOM to ensure correct encoding without string manipulation issues\n            const bom = new Uint8Array([0xEF, 0xBB, 0xBF]); // UTF-8 BOM\n            const blob = new Blob([bom, csvContent], { type: 'text/csv' });\n            const url = URL.createObjectURL(blob);\n\n            const link = document.createElement(\"a\");\n            link.setAttribute(\"href\", url);\n            link.setAttribute(\"download\", `customers_export_${format(new Date(), 'yyyyMMdd_HHmm')}.csv`);\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        } catch (err: any) {\n            console.error(\"Export Failed:\", err);\n            alert(\"Failed to export CSV: \" + err.message);\n        }\n    };\n\n    const filteredCustomers = customers.filter(c =>\n        c.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        c.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        c.phone.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    const sortedCustomers = [...filteredCustomers].sort((a, b) => b.total_spent - a.total_spent); // High value customers first\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                        <User size={24} className=\"text-navy-900 dark:text-white\" />\n                        Customer Insights\n                    </h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1\">Analyze customer value and purchase history.</p>\n                </div>\n                <button\n                    onClick={handleExportCustomerCSV}\n                    className=\"flex items-center gap-2 px-4 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-all text-sm shadow-sm\"\n                >\n                    <Download size={18} /> Export Data\n                </button>\n            </div>\n\n            {/* Search */}\n            <div className=\"relative\">\n                <Search size={20} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n                <input\n                    type=\"text\"\n                    placeholder=\"Search customers by name, email, or phone...\"\n                    className=\"w-full pl-10 pr-4 py-3 bg-white dark:bg-slate-900 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-navy-900/10 dark:focus:ring-white/20 shadow-sm placeholder-gray-500 dark:placeholder-gray-400\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                />\n            </div>\n\n            {loading ? (\n                <div className=\"p-12 text-center text-gray-400\">Loading customer data...</div>\n            ) : (\n                <div className=\"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden\">\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-gray-50 dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs\">\n                                <tr>\n                                    <th className=\"px-6 py-4\">Customer</th>\n                                    <th className=\"px-6 py-4\">Contact Info</th>\n                                    <th className=\"px-6 py-4\">Orders</th>\n                                    <th className=\"px-6 py-4\">Total Spent</th>\n                                    <th className=\"px-6 py-4\">Last Order</th>\n                                    <th className=\"px-6 py-4\">Status</th>\n                                    <th className=\"px-6 py-4 text-right\">Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                                {sortedCustomers.length === 0 ? (\n                                    <tr><td colSpan={7} className=\"p-8 text-center text-gray-400\">No customers found.</td></tr>\n                                ) : (\n                                    sortedCustomers.map((customer, idx) => (\n                                        <tr key={idx} className={`hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors ${customer.is_blocked ? 'bg-red-50 dark:bg-red-900/10' : ''}`}>\n                                            <td className=\"px-6 py-4\">\n                                                <div className=\"flex items-center gap-3\">\n                                                    <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs ${customer.is_blocked ? 'bg-red-100 text-red-600' : 'bg-navy-900 dark:bg-coral-500 text-white'}`}>\n                                                        {customer.name[0]}\n                                                    </div>\n                                                    <div>\n                                                        <p className=\"font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                                                            {customer.name}\n                                                            {customer.is_blocked && <span className=\"text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded font-bold uppercase\">Blocked</span>}\n                                                        </p>\n                                                    </div>\n                                                </div>\n                                            </td>\n                                            <td className=\"px-6 py-4\">\n                                                <div className=\"flex flex-col gap-1.5\">\n                                                    <div className=\"flex items-center gap-2 text-gray-900 dark:text-white font-medium text-sm\">\n                                                        <Mail size={14} className=\"text-gray-400\" />\n                                                        {customer.email}\n                                                    </div>\n                                                    <div className=\"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-300\">\n                                                        <Phone size={14} className=\"text-gray-400\" />\n                                                        {customer.phone}\n                                                    </div>\n                                                    {customer.secondary_phone && (\n                                                        <div className=\"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 pl-6\">\n                                                            <span className=\"text-[10px] uppercase font-bold tracking-wider opacity-70\">Alt</span>\n                                                            {customer.secondary_phone}\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            </td>\n                                            <td className=\"px-6 py-4\">\n                                                <div className=\"flex items-center gap-1 font-medium text-gray-900 dark:text-white\">\n                                                    <ShoppingBag size={14} className=\"text-gray-400\" />\n                                                    {customer.orders_count}\n                                                </div>\n                                            </td>\n                                            <td className=\"px-6 py-4 font-bold text-emerald-600 dark:text-emerald-400\">\n                                                â‚¹{customer.total_spent.toLocaleString('en-IN', { minimumFractionDigits: 2 })}\n                                            </td>\n                                            <td className=\"px-6 py-4 text-gray-500 dark:text-gray-400\">\n                                                {format(new Date(customer.last_order_date), 'MMM d, yyyy')}\n                                            </td>\n                                            <td className=\"px-6 py-4\">\n                                                <span className={`px-2 py-1 rounded text-xs font-bold ${customer.is_blocked ? 'bg-red-100 text-red-600' : 'bg-green-100 text-green-600'}`}>\n                                                    {customer.is_blocked ? 'Blocked' : 'Active'}\n                                                </span>\n                                            </td>\n                                            <td className=\"px-6 py-4 text-right flex items-center justify-end gap-2\">\n                                                <button\n                                                    onClick={() => handleOpenWalletModal(customer)}\n                                                    className=\"text-navy-900 dark:text-white hover:text-navy-700 dark:hover:text-gray-300 font-medium text-xs bg-gray-100 dark:bg-white/10 hover:bg-gray-200 dark:hover:bg-white/20 px-3 py-1.5 rounded-lg transition-colors inline-flex items-center gap-1\"\n                                                >\n                                                    Wallet\n                                                </button>\n                                                <button\n                                                    onClick={() => handleToggleBlock(customer)}\n                                                    className={`font-medium text-xs px-3 py-1.5 rounded-lg transition-colors ${customer.is_blocked\n                                                        ? 'bg-green-100 text-green-700 hover:bg-green-200'\n                                                        : 'bg-red-100 text-red-700 hover:bg-red-200'\n                                                        }`}\n                                                >\n                                                    {customer.is_blocked ? 'Unblock' : 'Block'}\n                                                </button>\n                                            </td>\n                                        </tr>\n                                    ))\n                                )}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            )}\n\n            <WalletAdjustmentModal\n                isOpen={isWalletModalOpen}\n                onClose={() => setIsWalletModalOpen(false)}\n                customer={selectedCustomer}\n                onSuccess={() => {\n                    // Refresh if needed, but here we just made a wallet adjustment which doesn't affect the order stats explicitly displayed here immediately unless we fetch balances.\n                    // But good for UX\n                }}\n            />\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/finance/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'History' is defined but never used.","line":5,"column":51,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":58,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"History"},"fix":{"range":[157,166],"text":""},"desc":"Remove unused variable \"History\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowUpRight' is defined but never used.","line":5,"column":60,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":72,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowUpRight"},"fix":{"range":[166,180],"text":""},"desc":"Remove unused variable \"ArrowUpRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowDownLeft' is defined but never used.","line":5,"column":74,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":87,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowDownLeft"},"fix":{"range":[180,195],"text":""},"desc":"Remove unused variable \"ArrowDownLeft\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Wallet, Search, PlusCircle, MinusCircle, History, ArrowUpRight, ArrowDownLeft } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { manualWalletAdjustment } from '@/actions/adminActions';\nimport { useToast } from '@/context/ToastContext';\n\ninterface WalletUser {\n    user_id: string; // The ID from wallet_balances\n    balance: number;\n    updated_at: string;\n    email?: string; // Fetched separately or joined\n    name?: string;\n}\n\nexport default function FinancePage() {\n    const [searchQuery, setSearchQuery] = useState('');\n    const [walletUsers, setWalletUsers] = useState<WalletUser[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [selectedUser, setSelectedUser] = useState<WalletUser | null>(null);\n    const [amount, setAmount] = useState('');\n    const [reason, setReason] = useState('');\n    const { addToast } = useToast();\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    const handleSearch = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n\n        // Search logic: \n        // 1. Search users table by email/name to get ID\n        // 2. Fetch wallet balance for that ID\n        // Note: Supabase Auth users table is not directly queryable by standard client usually unless exposed via public view.\n        // Assuming we have a 'public.users' table or similar from previous context?\n        // If not, we can only search by User ID if we dont have a public users table synchronised.\n        // Let's assume we search `orders` to find users for now (hacky but works if they have orders)\n        // OR: We just listed 'wallet_balances' directly if we want to see who has money.\n\n        // Strategy: List top wallet holders if empty search. If search, try to find user.\n\n        let query = supabase.from('wallet_balances').select('*');\n\n        if (searchQuery) {\n            // Ideally we join with a users table. \n            // Since I don't know if 'public.users' exists and is synced with auth.users, \n            // I will try to fetch by ID if it looks like a UUID, else warn.\n            if (searchQuery.includes('-')) {\n                query = query.eq('user_id', searchQuery);\n            } else {\n                // Try to find user ID from orders table by email (hacky fallback)\n                const { data: orderUser } = await supabase.from('orders').select('user_id').ilike('shipping_address->>email', `%${searchQuery}%`).limit(1);\n                if (orderUser && orderUser.length > 0) {\n                    query = query.eq('user_id', orderUser[0].user_id);\n                } else {\n                    addToast('User not found (Try User ID)', 'error');\n                    setLoading(false);\n                    return;\n                }\n            }\n        } else {\n            query = query.order('balance', { ascending: false }).limit(20);\n        }\n\n        const { data, error } = await query;\n\n        if (error) {\n            console.error(error);\n            addToast('Search failed', 'error');\n        } else if (data) {\n            setWalletUsers(data);\n        }\n        setLoading(false);\n    };\n\n    const handleAdjustWallet = async (type: 'credit' | 'debit') => {\n        if (!selectedUser || !amount || !reason) {\n            addToast('Please fill all fields', 'error');\n            return;\n        }\n\n        const numericAmount = parseFloat(amount);\n        if (isNaN(numericAmount) || numericAmount <= 0) {\n            addToast('Invalid amount', 'error');\n            return;\n        }\n\n        const { success, error } = await manualWalletAdjustment(selectedUser.user_id, numericAmount, type, reason);\n\n        if (success) {\n            addToast(`Wallet ${type}ed successfully`, 'success');\n            // Refresh balance\n            const { data } = await supabase.from('wallet_balances').select('balance').eq('user_id', selectedUser.user_id).single();\n            if (data) {\n                setWalletUsers(prev => prev.map(u => u.user_id === selectedUser.user_id ? { ...u, balance: data.balance } : u));\n                setSelectedUser(prev => prev ? { ...prev, balance: data.balance } : null);\n            }\n            setAmount('');\n            setReason('');\n        } else {\n            addToast('Adjustment failed: ' + error, 'error');\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n                        <Wallet size={24} className=\"text-navy-900\" />\n                        Finance & Wallet\n                    </h1>\n                    <p className=\"text-gray-500 mt-1\">Manage user wallet balances and handle refunds.</p>\n                </div>\n            </div>\n\n            {/* Search */}\n            <form onSubmit={handleSearch} className=\"flex gap-2\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search by User ID (or Email via Orders)\"\n                    className=\"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-navy-900/10\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                />\n                <button type=\"submit\" disabled={loading} className=\"px-6 py-2 bg-navy-900 text-white font-bold rounded-lg hover:bg-navy-800 transition-colors\">\n                    {loading ? 'Searching...' : <Search size={20} />}\n                </button>\n            </form>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Users List */}\n                <div className=\"lg:col-span-2\">\n                    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                        <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-gray-50 text-gray-500 font-bold uppercase text-xs\">\n                                <tr>\n                                    <th className=\"px-6 py-4\">User ID</th>\n                                    <th className=\"px-6 py-4\">Current Balance</th>\n                                    <th className=\"px-6 py-4\">Updated</th>\n                                    <th className=\"px-6 py-4 text-right\">Action</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100\">\n                                {walletUsers.length === 0 ? (\n                                    <tr><td colSpan={4} className=\"p-8 text-center text-gray-400\">No users found or search to begin.</td></tr>\n                                ) : (\n                                    walletUsers.map(user => (\n                                        <tr key={user.user_id} className={`hover:bg-gray-50 cursor-pointer ${selectedUser?.user_id === user.user_id ? 'bg-blue-50' : ''}`} onClick={() => setSelectedUser(user)}>\n                                            <td className=\"px-6 py-4 font-mono text-gray-600\">{user.user_id.slice(0, 8)}...</td>\n                                            <td className=\"px-6 py-4 font-bold text-gray-900\">â‚¹{user.balance.toFixed(2)}</td>\n                                            <td className=\"px-6 py-4 text-gray-500\">{format(new Date(user.updated_at), 'MMM d, yyyy')}</td>\n                                            <td className=\"px-6 py-4 text-right\">\n                                                <button className=\"text-blue-600 font-bold text-xs hover:underline\">Select</button>\n                                            </td>\n                                        </tr>\n                                    ))\n                                )}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n                {/* Action Panel */}\n                <div>\n                    {selectedUser ? (\n                        <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 sticky top-6\">\n                            <h3 className=\"text-lg font-bold text-gray-900 mb-2\">Adjust Balance</h3>\n                            <p className=\"text-sm text-gray-500 mb-6\">User: <span className=\"font-mono text-gray-700\">{selectedUser.user_id.slice(0, 8)}</span></p>\n\n                            <div className=\"space-y-4\">\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Amount (â‚¹)</label>\n                                    <input\n                                        type=\"number\"\n                                        className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-navy-900/10\"\n                                        placeholder=\"0.00\"\n                                        value={amount}\n                                        onChange={(e) => setAmount(e.target.value)}\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Reason / Note</label>\n                                    <textarea\n                                        className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-navy-900/10\"\n                                        rows={3}\n                                        placeholder=\"e.g. Refund for Order #123\"\n                                        value={reason}\n                                        onChange={(e) => setReason(e.target.value)}\n                                    />\n                                </div>\n\n                                <div className=\"grid grid-cols-2 gap-4 pt-2\">\n                                    <button\n                                        onClick={() => handleAdjustWallet('credit')}\n                                        className=\"flex items-center justify-center gap-2 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-colors\"\n                                    >\n                                        <PlusCircle size={20} /> Credit\n                                    </button>\n                                    <button\n                                        onClick={() => handleAdjustWallet('debit')}\n                                        className=\"flex items-center justify-center gap-2 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-bold transition-colors\"\n                                    >\n                                        <MinusCircle size={20} /> Debit\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"bg-gray-50 p-8 rounded-2xl border border-gray-100 text-center border-dashed\">\n                            <Wallet size={48} className=\"mx-auto text-gray-300 mb-4\" />\n                            <p className=\"text-gray-500 font-medium\">Select a user to manage their wallet balance.</p>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/inventory/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":6,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[204,233],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchInventory` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/inventory/page.tsx:31:9\n  29 |\n  30 |     useEffect(() => {\n> 31 |         fetchInventory();\n     |         ^^^^^^^^^^^^^^ `fetchInventory` accessed before it is declared\n  32 |     }, []);\n  33 |\n  34 |     const fetchInventory = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/inventory/page.tsx:34:5\n  32 |     }, []);\n  33 |\n> 34 |     const fetchInventory = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 35 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 36 |         const { data, error } = await supabase\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 46 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |     };\n     | ^^^^^^^ `fetchInventory` is declared here\n  48 |\n  49 |     const handleStatusUpdate = (id: string, newStatus: string) => {\n  50 |         setProducts(products.map(p =>","line":31,"column":9,"nodeType":null,"endLine":31,"endColumn":23},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchInventory'. Either include it or remove the dependency array.","line":32,"column":8,"nodeType":"ArrayExpression","endLine":32,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchInventory]","fix":{"range":[933,935],"text":"[fetchInventory]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":163,"column":57,"nodeType":"JSXOpeningElement","endLine":163,"endColumn":146}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Search, Save, AlertTriangle, Check, Loader2, Layers } from 'lucide-react';\nimport Link from 'next/link';\n\ninterface ProductInventory {\n    id: string;\n    name: string;\n    price: number;\n    images: string[];\n    metadata?: {\n        stock_status?: string;\n    };\n}\n\nexport default function InventoryPage() {\n    const [products, setProducts] = useState<ProductInventory[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [filter, setFilter] = useState('all');\n    const [savingId, setSavingId] = useState<string | null>(null);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchInventory();\n    }, []);\n\n    const fetchInventory = async () => {\n        setLoading(true);\n        const { data, error } = await supabase\n            .from('products')\n            .select('*')\n            .order('name', { ascending: true });\n\n        if (error) {\n            console.error('Error fetching inventory:', error);\n        } else {\n            setProducts(data || []);\n        }\n        setLoading(false);\n    };\n\n    const handleStatusUpdate = (id: string, newStatus: string) => {\n        setProducts(products.map(p =>\n            p.id === id\n                ? { ...p, metadata: { ...p.metadata, stock_status: newStatus } }\n                : p\n        ));\n    };\n\n    const saveStock = async (id: string, currentStatus: string) => {\n        setSavingId(id);\n\n        // 1. Get current metadata to avoid overwriting other fields\n        const product = products.find(p => p.id === id);\n        if (!product) return;\n\n        const updatedMetadata = {\n            ...(product.metadata || {}),\n            stock_status: currentStatus\n        };\n\n        const { error } = await supabase\n            .from('products')\n            .update({ metadata: updatedMetadata })\n            .eq('id', id);\n\n        if (error) {\n            alert('Failed to update stock status');\n            console.error(error);\n        }\n        setSavingId(null);\n    };\n\n    const filteredProducts = products.filter(p => {\n        const matchesSearch = p.name.toLowerCase().includes(searchTerm.toLowerCase());\n        const status = p.metadata?.stock_status || 'in_stock';\n\n        if (filter === 'all') return matchesSearch;\n        return matchesSearch && status === filter;\n    });\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Inventory Management</h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Track and update product stock levels</p>\n                </div>\n            </div>\n\n            {/* Filters */}\n            <div className=\"flex flex-col md:flex-row gap-4\">\n                <div className=\"bg-white dark:bg-slate-900 p-1 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 flex gap-1 w-fit\">\n                    <button\n                        onClick={() => setFilter('all')}\n                        className={`px-4 py-2 rounded-lg text-sm font-bold transition-all ${filter === 'all' ? 'bg-navy-900 dark:bg-coral-500 text-white' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/10'}`}\n                    >\n                        All\n                    </button>\n                    <button\n                        onClick={() => setFilter('low_stock')}\n                        className={`px-4 py-2 rounded-lg text-sm font-bold transition-all ${filter === 'low_stock' ? 'bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/10'}`}\n                    >\n                        Low Stock\n                    </button>\n                    <button\n                        onClick={() => setFilter('out_of_stock')}\n                        className={`px-4 py-2 rounded-lg text-sm font-bold transition-all ${filter === 'out_of_stock' ? 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/10'}`}\n                    >\n                        Out of Stock\n                    </button>\n                </div>\n\n                <div className=\"relative flex-1 bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search products...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        className=\"w-full pl-10 pr-4 py-3 bg-transparent text-gray-900 dark:text-white rounded-lg focus:outline-none placeholder-gray-500 dark:placeholder-gray-400\"\n                    />\n                </div>\n            </div>\n\n            {/* Inventory Table */}\n            <div className=\"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden\">\n                {loading ? (\n                    <div className=\"p-12 flex flex-col items-center justify-center text-gray-400\">\n                        <Loader2 size={40} className=\"animate-spin mb-4 text-navy-900 dark:text-white\" />\n                        <p>Loading inventory...</p>\n                    </div>\n                ) : filteredProducts.length === 0 ? (\n                    <div className=\"p-12 text-center text-gray-400\">\n                        <Layers size={48} className=\"mx-auto mb-4 opacity-20\" />\n                        <p>No products found.</p>\n                    </div>\n                ) : (\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-[#FAF9F7] dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs border-b border-gray-100 dark:border-white/5\">\n                                <tr>\n                                    <th className=\"px-6 py-4\">Product</th>\n                                    <th className=\"px-6 py-4\">Stock Status</th>\n                                    <th className=\"px-6 py-4\">Visual Indicator</th>\n                                    <th className=\"px-6 py-4 text-right\">Action</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                                {filteredProducts.map((product) => (\n                                    <tr key={product.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"w-10 h-10 rounded-lg bg-gray-100 dark:bg-white/10 overflow-hidden border border-gray-200 dark:border-white/10\">\n                                                    {product.images?.[0] ? (\n                                                        <img src={product.images[0]} alt={product.name} className=\"w-full h-full object-cover\" />\n                                                    ) : (\n                                                        <div className=\"w-full h-full flex items-center justify-center text-xs text-gray-400\">IMG</div>\n                                                    )}\n                                                </div>\n                                                <div>\n                                                    <div className=\"font-bold text-gray-900 dark:text-white\">{product.name}</div>\n                                                    <div className=\"text-xs text-gray-400 dark:text-gray-500\">â‚¹{product.price}</div>\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <select\n                                                value={product.metadata?.stock_status || 'in_stock'}\n                                                onChange={(e) => handleStatusUpdate(product.id, e.target.value)}\n                                                className=\"px-3 py-1.5 border border-gray-200 dark:border-white/10 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-navy-900 dark:focus:border-coral-500 bg-white dark:bg-slate-900 cursor-pointer\"\n                                            >\n                                                <option value=\"in_stock\">In Stock</option>\n                                                <option value=\"low_stock\">Low Stock</option>\n                                                <option value=\"out_of_stock\">Out of Stock</option>\n                                            </select>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            {product.metadata?.stock_status === 'out_of_stock' ? (\n                                                <span className=\"inline-flex items-center gap-1 text-xs font-bold text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 px-2 py-1 rounded-full\">\n                                                    <AlertTriangle size={12} /> Out of Stock\n                                                </span>\n                                            ) : product.metadata?.stock_status === 'low_stock' ? (\n                                                <span className=\"inline-flex items-center gap-1 text-xs font-bold text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/30 px-2 py-1 rounded-full\">\n                                                    <AlertTriangle size={12} /> Low Stock\n                                                </span>\n                                            ) : (\n                                                <span className=\"inline-flex items-center text-xs font-bold text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/30 px-2 py-1 rounded-full\">\n                                                    <Check size={12} className=\"mr-1\" /> In Stock\n                                                </span>\n                                            )}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <button\n                                                onClick={() => saveStock(product.id, product.metadata?.stock_status || 'in_stock')}\n                                                disabled={savingId === product.id}\n                                                className=\"p-2 hover:bg-navy-50 dark:hover:bg-white/10 text-navy-900 dark:text-white rounded-lg transition-colors\"\n                                                title=\"Save Status\"\n                                            >\n                                                {savingId === product.id ? <Loader2 size={18} className=\"animate-spin\" /> : <Save size={18} />}\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/invoice-debug/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":4,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":26,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[32,42],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":4,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useState"},"fix":{"range":[28,53],"text":""},"desc":"Remove unused variable \"useState\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\n'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport dynamic from 'next/dynamic';\nimport { InvoicePDF, Order } from '@/components/Invoice/InvoicePDF';\n\nconst PDFViewer = dynamic(\n    () => import('@react-pdf/renderer').then((mod) => mod.PDFViewer),\n    {\n        ssr: false,\n        loading: () => <p>Loading PDF Viewer...</p>,\n    }\n);\n\nconst mockOrder: Order = {\n    id: 'debug-12345678',\n    created_at: new Date().toISOString(),\n    total_amount: 1500,\n    status: 'delivered',\n    payment_status: 'paid',\n    payment_method: 'cod',\n    user_id: 'debug_user',\n    shipping_address: {\n        firstName: 'Debug',\n        lastName: 'User',\n        address: '123 Debug St, Tech Park',\n        city: 'Bangalore',\n        pincode: '560001',\n        phone: '9999999999'\n    },\n    items: [\n        {\n            name: 'Debug T-Shirt Standard',\n            quantity: 1,\n            price: 500,\n            image_url: '',\n            size: 'M',\n            metadata: {\n                color: 'Black',\n                gst_percent: 12\n            }\n        },\n        {\n            name: 'Debug Personalized Mug',\n            quantity: 1,\n            price: 800,\n            image_url: '',\n            size: 'Standard',\n            metadata: {\n                is_custom: true,\n                base_price_unit: 600,\n                customization_cost_unit: 200,\n                gst_percent: 12,\n                print_gst_percent: 18,\n                placements: {\n                    front: { print_type: { name: 'DTF' } }\n                }\n            }\n        }\n    ]\n};\n\nexport default function InvoiceDebugPage() {\n    return (\n        <div className=\"h-screen w-full p-10 bg-gray-100\">\n            <h1 className=\"text-2xl font-bold mb-4 text-black\">Invoice PDF Debug Viewer</h1>\n            <div className=\"w-full h-[800px] border border-gray-300 shadow-lg bg-white\">\n                <PDFViewer width=\"100%\" height=\"100%\" className=\"w-full h-full\">\n                    <InvoicePDF order={mockOrder} />\n                </PDFViewer>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/orders/[id]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[873,876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[873,876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1007,1010],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1007,1010],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchOrderDetails` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/orders/[id]/page.tsx:56:13\n  54 |     useEffect(() => {\n  55 |         if (params.id) {\n> 56 |             fetchOrderDetails(params.id as string);\n     |             ^^^^^^^^^^^^^^^^^ `fetchOrderDetails` accessed before it is declared\n  57 |         }\n  58 |     }, [params.id]);\n  59 |\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/orders/[id]/page.tsx:60:5\n  58 |     }, [params.id]);\n  59 |\n> 60 |     const fetchOrderDetails = async (orderId: string) => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 61 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 62 |         // 1. Fetch Order\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 90 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 91 |     };\n     | ^^^^^^^ `fetchOrderDetails` is declared here\n  92 |\n  93 |     const handleUpdateStatus = async (newStatus: string) => {\n  94 |         if (!order) return;","line":56,"column":13,"nodeType":null,"endLine":56,"endColumn":30},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchOrderDetails'. Either include it or remove the dependency array.","line":58,"column":8,"nodeType":"ArrayExpression","endLine":58,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [fetchOrderDetails, params.id]","fix":{"range":[1932,1943],"text":"[fetchOrderDetails, params.id]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'itemsError' is assigned a value but never used.","line":78,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":78,"endColumn":51},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":268,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":268,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11933,11936],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11933,11936],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":272,"column":45,"nodeType":"JSXOpeningElement","endLine":272,"endColumn":128},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":296,"column":114,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":296,"endColumn":117,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14414,14417],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14414,14417],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":297,"column":79,"nodeType":"Identifier","messageId":"unusedVar","endLine":297,"endColumn":80},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":301,"column":81,"nodeType":"JSXOpeningElement","endLine":301,"endColumn":165},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":324,"column":94,"nodeType":"Identifier","messageId":"unusedVar","endLine":324,"endColumn":97},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":350,"column":128,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[20825,20826],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[20825,20826],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[20825,20826],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[20825,20826],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":350,"column":140,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[20837,20838],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[20837,20838],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[20837,20838],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[20837,20838],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":538,"column":129,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":538,"endColumn":132,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34722,34725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34722,34725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { ArrowLeft, CheckCircle, XCircle, Truck, Package, CreditCard, User, MapPin, Clock } from 'lucide-react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { updateOrderStatus, updatePaymentStatus, undoLastStatusUpdate } from '@/actions/adminActions';\nimport { useToast } from '@/context/ToastContext';\nimport InvoiceDownloadButton from '@/components/Invoice/InvoiceDownloadButton';\n\n\n\ninterface OrderItem {\n    id: string;\n    product_id: string; // ID only, we might need to fetch name if not joined, but let's assume simple fetch for now\n    name: string; // We stored name in order_items for snapshot\n    quantity: number;\n    price: number;\n    size?: string;\n    image_url: string;\n    metadata?: any;\n}\n\ninterface Order {\n    id: string;\n    created_at: string;\n    total_amount: number;\n    status: string;\n    shipping_address: any;\n    user_id: string;\n    payment_status: string;\n    payment_method: string;\n    wallet_amount_used: number;\n    discount_amount: number; // Added coupon discount field\n    status_history?: { status: string; timestamp: string; updated_by?: string }[];\n    items?: OrderItem[];\n}\n\nexport default function OrderDetailPage() {\n    const params = useParams();\n    const router = useRouter();\n    const { addToast } = useToast();\n    const [order, setOrder] = useState<Order | null>(null);\n    const [items, setItems] = useState<OrderItem[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [actionLoading, setActionLoading] = useState(false);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        if (params.id) {\n            fetchOrderDetails(params.id as string);\n        }\n    }, [params.id]);\n\n    const fetchOrderDetails = async (orderId: string) => {\n        setLoading(true);\n        // 1. Fetch Order\n        const { data: orderData, error: orderError } = await supabase\n            .from('orders')\n            .select('*')\n            .eq('id', orderId)\n            .single();\n\n        if (orderError) {\n            console.error('Error fetching order:', orderError);\n            setLoading(false);\n            return;\n        }\n\n        setOrder(orderData);\n\n        // 2. Fetch Items\n        const { data: itemsData, error: itemsError } = await supabase\n            .from('order_items')\n            .select('*')\n            .eq('order_id', orderId);\n\n        if (itemsData) {\n            setItems(itemsData);\n            // MERGE ITEMS INTO ORDER STATE FOR INVOICE\n            setOrder({ ...orderData, items: itemsData });\n        } else {\n            setOrder(orderData);\n        }\n        setLoading(false);\n    };\n\n    const handleUpdateStatus = async (newStatus: string) => {\n        if (!order) return;\n\n        // Only confirm for destructive actions\n        if (newStatus === 'cancelled' || newStatus === 'rejected') {\n            if (!confirm(`Are you sure you want to REJECT this order?`)) return;\n        }\n\n        setActionLoading(true);\n        const { success, error } = await updateOrderStatus(order.id, newStatus);\n\n        if (!success) {\n            addToast('Failed to update status: ' + error, 'error');\n        } else {\n            setOrder({ ...order, status: newStatus });\n            addToast(`Order marked as ${newStatus}`, 'success');\n            router.refresh();\n        }\n        setActionLoading(false);\n    };\n\n    const handleUndoStatus = async () => {\n        if (!order) return;\n        if (!confirm('Undo last status update?')) return;\n\n        setActionLoading(true);\n        const { success, error, newStatus } = await undoLastStatusUpdate(order.id);\n\n        if (!success) {\n            addToast('Failed to undo: ' + error, 'error');\n        } else {\n            setOrder({ ...order, status: newStatus as string });\n            addToast(`Reverted to ${newStatus}`, 'success');\n            router.refresh();\n        }\n        setActionLoading(false);\n    };\n\n    const handleMarkAsPaid = async () => {\n        if (!order) return;\n\n        setActionLoading(true);\n        const { success, error } = await updatePaymentStatus(order.id, 'paid');\n\n        if (!success) {\n            addToast('Failed to update payment: ' + error, 'error');\n        } else {\n            setOrder({ ...order, payment_status: 'paid' });\n            addToast('Payment marked as PAID', 'success');\n            router.refresh();\n        }\n        setActionLoading(false);\n    };\n\n    if (loading) {\n        return <div className=\"p-12 text-center text-gray-500\">Loading order details...</div>;\n    }\n\n    if (!order) {\n        return <div className=\"p-12 text-center text-red-500\">Order not found.</div>;\n    }\n\n    const isPending = order.status === 'pending';\n\n    // Calculations\n    // Calculations done in render now\n\n    return (\n        <div className=\"max-w-5xl mx-auto space-y-6 pb-20\">\n            {/* Header / Nav */}\n            <div className=\"flex items-center gap-4 text-gray-500 dark:text-gray-400 mb-4\">\n                <Link href=\"/admin/orders\" className=\"hover:text-navy-900 dark:hover:text-white transition-colors flex items-center gap-1\">\n                    <ArrowLeft size={18} /> Back to Orders\n                </Link>\n                <span>/</span>\n                <span className=\"font-mono text-gray-900 dark:text-white\">#{order.id.slice(0, 8)}</span>\n            </div>\n\n            {/* Title & Actions Header */}\n            <div className=\"flex flex-col md:flex-row md:items-start justify-between gap-4\">\n                <div>\n                    <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3\">\n                        Order #{order.id.slice(0, 8)}\n                        <span className={`text-base px-3 py-1 rounded-full border uppercase tracking-wider ${order.status === 'pending' ? 'bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700/30 text-amber-700 dark:text-amber-300' :\n                            order.status === 'processing' ? 'bg-purple-50 dark:bg-purple-900/30 border-purple-200 dark:border-purple-700/30 text-purple-700 dark:text-purple-300' :\n                                order.status === 'shipped' ? 'bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700/30 text-blue-700 dark:text-blue-300' :\n                                    order.status === 'delivered' ? 'bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-700/30 text-green-700 dark:text-green-300' :\n                                        'bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700/30 text-red-700 dark:text-red-300'\n                            }`}>\n                            {order.status}\n                        </span>\n                    </h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-2 flex items-center gap-2\" suppressHydrationWarning>\n                        <Clock size={16} /> Placed on {new Date(order.created_at).toLocaleString()}\n                    </p>\n                </div>\n\n                {/* ACTION BUTTONS */}\n                <div className=\"flex items-center gap-3\">\n                    <InvoiceDownloadButton order={order} variant=\"outline\" />\n\n                    {/* Undo Button - Only show if history exists or status is not pending */}\n                    {(order.status !== 'pending' || (order.status_history && order.status_history.length > 0)) && (\n                        <button\n                            onClick={handleUndoStatus}\n                            disabled={actionLoading}\n                            className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors\"\n                            title=\"Undo last status update\"\n                        >\n                            <Clock size={20} className=\"transform -scale-x-100\" />\n                        </button>\n                    )}\n\n                    {isPending && (\n                        <div className=\"flex gap-3\">\n                            <button\n                                onClick={() => handleUpdateStatus('cancelled')}\n                                disabled={actionLoading}\n                                className=\"bg-white dark:bg-slate-900 border border-gray-200 dark:border-white/10 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-200 dark:hover:border-red-900/30 font-bold py-3 px-6 rounded-xl flex items-center gap-2 transition-all\"\n                            >\n                                <XCircle size={20} />\n                                Reject Order\n                            </button>\n                            <button\n                                onClick={() => handleUpdateStatus('processing')}\n                                disabled={actionLoading}\n                                className=\"bg-navy-900 dark:bg-coral-500 text-white hover:bg-navy-800 dark:hover:bg-coral-600 font-bold py-3 px-6 rounded-xl flex items-center gap-2 shadow-lg shadow-navy-900/20 dark:shadow-coral-500/20 transition-all\"\n                            >\n                                <CheckCircle size={20} />\n                                Accept Order\n                            </button>\n                        </div>\n                    )}\n\n                    {order.status === 'processing' && (\n                        <div className=\"flex gap-3\">\n                            <button\n                                onClick={() => handleUpdateStatus('shipped')}\n                                disabled={actionLoading}\n                                className=\"bg-blue-600 text-white hover:bg-blue-700 font-bold py-3 px-6 rounded-xl flex items-center gap-2 shadow-lg shadow-blue-600/20 transition-all\"\n                            >\n                                <Truck size={20} />\n                                Mark as Shipped\n                            </button>\n                        </div>\n                    )}\n\n                    {order.status === 'shipped' && (\n                        <div className=\"flex gap-3\">\n                            <button\n                                onClick={() => handleUpdateStatus('delivered')}\n                                disabled={actionLoading}\n                                className=\"bg-green-600 text-white hover:bg-green-700 font-bold py-3 px-6 rounded-xl flex items-center gap-2 shadow-lg shadow-green-600/20 transition-all\"\n                            >\n                                <CheckCircle size={20} />\n                                Mark as Delivered\n                            </button>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Left Column: Items & Payment */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                    {/* Order Items */}\n                    <div className=\"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5 overflow-hidden\">\n                        <div className=\"p-6 border-b border-gray-100 dark:border-white/5\">\n                            <h2 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                                <Package size={20} className=\"text-gray-400\" />\n                                Order Items\n                            </h2>\n                        </div>\n                        <div className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                            {items.map((item, idx) => {\n                                const meta = item.metadata as any;\n                                return (\n                                    <div key={idx} className=\"p-6 flex items-start gap-4\">\n                                        <div className=\"w-20 h-20 bg-gray-100 dark:bg-white/5 rounded-lg overflow-hidden flex-shrink-0 border border-gray-200 dark:border-white/10 relative group\">\n                                            <img src={item.image_url} alt={item.name} className=\"w-full h-full object-cover\" />\n                                        </div>\n                                        <div className=\"flex-1\">\n                                            <h3 className=\"font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                                                {item.name}\n                                                {meta?.is_custom && (\n                                                    <span className=\"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-[10px] px-2 py-0.5 rounded font-bold uppercase tracking-wide\">\n                                                        Custom\n                                                    </span>\n                                                )}\n                                            </h3>\n                                            <div className=\"space-y-1 mt-1\">\n                                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                                    Size: <span className=\"font-medium text-gray-700 dark:text-gray-300\">{meta?.size || item.size || 'N/A'}</span>\n                                                    {meta?.color && (\n                                                        <> / Color: <span className=\"font-medium text-gray-700 dark:text-gray-300\">{meta.color}</span></>\n                                                    )}\n                                                </p>\n\n                                                {meta?.is_custom && (\n                                                    <div className=\"mt-4 space-y-4\">\n                                                        {/* PLACEMENTS GRID */}\n                                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                                                            {meta.placements ? (\n                                                                Object.entries(meta.placements as Record<string, any>)\n                                                                    .filter(([_, p]) => p.enabled && p.uploadedImage)\n                                                                    .map(([loc, p]) => (\n                                                                        <div key={loc} className=\"bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-100 dark:border-white/10 flex items-center gap-3\">\n                                                                            <div className=\"w-12 h-12 bg-white dark:bg-black/20 rounded border border-gray-200 dark:border-white/10 overflow-hidden flex-shrink-0\">\n                                                                                <img src={p.uploadedImage} alt={loc} className=\"w-full h-full object-contain p-1\" />\n                                                                            </div>\n                                                                            <div className=\"flex-1 min-w-0\">\n                                                                                <p className=\"text-gray-400 text-[10px] font-bold uppercase tracking-wider\">{loc}</p>\n                                                                                <p className=\"text-xs font-medium text-gray-900 dark:text-white truncate\">{p.printType}</p>\n                                                                            </div>\n                                                                            <button\n                                                                                onClick={async (e) => {\n                                                                                    e.preventDefault();\n                                                                                    try {\n                                                                                        const response = await fetch(p.uploadedImage);\n                                                                                        const blob = await response.blob();\n                                                                                        const blobUrl = window.URL.createObjectURL(blob);\n                                                                                        const link = document.createElement('a');\n                                                                                        link.href = blobUrl;\n                                                                                        const cleanName = item.name.replace(/[^a-zA-Z0-9]/g, '_');\n                                                                                        let ext = p.uploadedImage.split('.').pop()?.split('?')[0] || 'png';\n                                                                                        if (ext.length > 4) ext = 'png';\n                                                                                        link.download = `Order_${order.id.slice(0, 8)}_${loc}_${cleanName}.${ext}`;\n                                                                                        document.body.appendChild(link);\n                                                                                        link.click();\n                                                                                        document.body.removeChild(link);\n                                                                                        window.URL.revokeObjectURL(blobUrl);\n                                                                                    } catch (err) {\n                                                                                        addToast('Download failed', 'error');\n                                                                                    }\n                                                                                }}\n                                                                                className=\"p-2 hover:bg-white dark:hover:bg-white/10 rounded-lg text-blue-600 dark:text-blue-400 transition-colors\"\n                                                                                title=\"Download Artwork\"\n                                                                            >\n                                                                                <Package size={16} />\n                                                                            </button>\n                                                                        </div>\n                                                                    ))\n                                                            ) : (\n                                                                /* Legacy single placement fallback */\n                                                                <div className=\"bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-100 dark:border-white/10 flex items-center gap-3 col-span-2\">\n                                                                    <div className=\"flex-1\">\n                                                                        <p className=\"text-gray-400 text-[10px] font-bold uppercase tracking-wider\">Placement Detail (Legacy)</p>\n                                                                        <p className=\"text-xs font-medium text-gray-900 dark:text-white\">Type: {meta.print_type || 'N/A'}</p>\n                                                                        <p className=\"text-xs font-medium text-gray-900 dark:text-white\">Loc: {meta.placement || 'N/A'}</p>\n                                                                    </div>\n                                                                </div>\n                                                            )}\n                                                        </div>\n\n                                                        {meta.note && (\n                                                            <div className=\"bg-amber-50/50 dark:bg-amber-900/10 p-3 rounded-xl border border-amber-100/50 dark:border-amber-900/20\">\n                                                                <p className=\"text-[10px] text-amber-600 dark:text-amber-400 font-bold uppercase mb-1\">Customer Note</p>\n                                                                <p className=\"text-sm italic text-gray-700 dark:text-gray-300\">\"{meta.note}\"</p>\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                        <div className=\"text-right\">\n                                            <p className=\"font-bold text-gray-900 dark:text-white\">â‚¹{item.price * item.quantity}</p>\n                                            <p className=\"text-xs text-gray-400\">â‚¹{item.price} each</p>\n                                            <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                                                Qty: <span className=\"font-medium text-gray-700 dark:text-gray-300\">{item.quantity}</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                )\n                            })}\n                        </div>\n\n                        {/* Summary Section with GST & Wallet */}\n                        <div className=\"bg-gray-50 dark:bg-white/5 p-6 space-y-3 border-t border-gray-100 dark:border-white/5\">\n                            {(() => {\n                                // Detailed Bill Logic\n                                const itemsTotal = items.reduce((sum, item) => sum + (item.price * item.quantity), 0);\n                                const walletUsed = order.wallet_amount_used || 0;\n                                const couponDiscount = order.discount_amount || 0;\n                                const totalPaid = order.total_amount;\n\n                                // Derived Shipping\n                                const derivedShipping = Math.max(0, totalPaid - (itemsTotal - couponDiscount - walletUsed));\n\n                                // Tax Calculation (Estimated for display)\n                                // Assuming tax is inclusive in the Items Total for simplicity in this view, \n                                // or we can show tax breakdown of the subtotal.\n                                // Let's match the Invoice logic: Taxable Value + GST = Items Total\n                                const taxRate = 0.18;\n                                const taxableValue = itemsTotal / (1 + taxRate);\n                                const gstAmount = itemsTotal - taxableValue;\n\n                                return (\n                                    <>\n                                        <div className=\"flex justify-between items-center text-sm text-gray-600 dark:text-gray-400\">\n                                            <span>Items Subtotal</span>\n                                            <span>â‚¹{itemsTotal.toFixed(2)}</span>\n                                        </div>\n\n                                        {derivedShipping > 0 && (\n                                            <div className=\"flex justify-between items-center text-sm text-gray-600 dark:text-gray-400\">\n                                                <span>Shipping</span>\n                                                <span>â‚¹{derivedShipping.toFixed(2)}</span>\n                                            </div>\n                                        )}\n\n                                        {couponDiscount > 0 && (\n                                            <div className=\"flex justify-between items-center text-sm text-green-600 dark:text-green-400\">\n                                                <span>Coupon Discount</span>\n                                                <span>- â‚¹{couponDiscount.toFixed(2)}</span>\n                                            </div>\n                                        )}\n\n                                        {walletUsed > 0 && (\n                                            <div className=\"flex justify-between items-center text-sm text-emerald-600 dark:text-emerald-400 font-medium\">\n                                                <span>Wallet Credit Used</span>\n                                                <span>- â‚¹{walletUsed.toFixed(2)}</span>\n                                            </div>\n                                        )}\n\n                                        {/* GST Breakdown */}\n                                        <div className=\"border-t border-gray-200 dark:border-white/10 my-2 pt-2 pb-2\">\n                                            <div className=\"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400\">\n                                                <span>Taxable Value (Approx)</span>\n                                                <span>â‚¹{taxableValue.toFixed(2)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400\">\n                                                <span>GST (18%)</span>\n                                                <span>â‚¹{gstAmount.toFixed(2)}</span>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-white/10\">\n                                            <span className=\"font-bold text-gray-900 dark:text-white text-lg\">Total Paid</span>\n                                            <span className=\"text-2xl font-bold text-navy-900 dark:text-white\">â‚¹{totalPaid.toFixed(2)}</span>\n                                        </div>\n                                    </>\n                                );\n                            })()}\n                        </div>\n                    </div>\n\n                    {/* Payment Info */}\n                    <div className=\"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5 p-6\">\n                        <h2 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2 mb-4\">\n                            <CreditCard size={20} className=\"text-gray-400\" />\n                            Payment Information\n                        </h2>\n                        <div className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-white/5 rounded-xl border border-gray-100 dark:border-white/5\">\n                            <div>\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Payment Method</p>\n                                <p className=\"font-bold text-gray-900 dark:text-white capitalize\">{order.payment_method?.replace(/_/g, ' ') || 'N/A'}</p>\n                            </div>\n                            <div className=\"text-right\">\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">Payment Status</p>\n                                <div className=\"flex flex-col items-end gap-2\">\n                                    <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${order.payment_status === 'paid' ? 'bg-green-100 dark:bg-green-900/30 border-green-200 dark:border-green-700/30 text-green-700 dark:text-green-300' :\n                                        order.payment_status === 'failed' ? 'bg-red-100 dark:bg-red-900/30 border-red-200 dark:border-red-700/30 text-red-700 dark:text-red-300' :\n                                            order.payment_status === 'refunded' ? 'bg-indigo-100 dark:bg-indigo-900/30 border-indigo-200 dark:border-indigo-700/30 text-indigo-700 dark:text-indigo-300' :\n                                                'bg-amber-100 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700/30 text-amber-700 dark:text-amber-300'\n                                        }`}>\n                                        {order.payment_status}\n                                    </span>\n                                    {order.payment_status !== 'paid' && (\n                                        <button\n                                            onClick={handleMarkAsPaid}\n                                            disabled={actionLoading}\n                                            className=\"text-xs text-blue-600 dark:text-blue-400 font-bold hover:underline disabled:text-gray-400\"\n                                        >\n                                            Mark as Paid\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                        {order.status === 'pending' && order.payment_status === 'pending' && (\n                            <div className=\"mt-4 p-4 bg-amber-50 dark:bg-amber-900/10 rounded-xl border border-amber-100 dark:border-amber-700/30 text-sm text-amber-800 dark:text-amber-200 flex items-start gap-2\">\n                                <div className=\"min-w-[4px] h-[4px] bg-amber-500 rounded-full mt-2\" />\n                                <p>This order is waiting for admin approval. Since payment is pending (COD), verifying the customer via phone is recommended before accepting.</p>\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {/* Right Column: Customer & Shipping */}\n                <div className=\"space-y-6\">\n                    {/* Customer */}\n                    <div className=\"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5 p-6\">\n                        <h2 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2 mb-4\">\n                            <User size={20} className=\"text-gray-400\" />\n                            Customer Details\n                        </h2>\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-center gap-3 pb-4 border-b border-gray-100 dark:border-white/5\">\n                                <div className=\"w-10 h-10 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-bold\">\n                                    {order.shipping_address?.firstName?.[0]}\n                                </div>\n                                <div>\n                                    <p className=\"font-bold text-gray-900 dark:text-white\">\n                                        {order.shipping_address?.firstName} {order.shipping_address?.lastName}\n                                    </p>\n                                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Customer</p>\n                                </div>\n                            </div>\n\n                            <div>\n                                <p className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1\">Contact Info</p>\n                                <p className=\"text-sm text-gray-700 dark:text-gray-300 font-medium\">{order.shipping_address?.phone}</p>\n                                {/* We might want to store email in orders table too if not in address JSON */}\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Shipping Address */}\n                    <div className=\"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5 p-6\">\n                        <h2 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2 mb-4\">\n                            <MapPin size={20} className=\"text-gray-400\" />\n                            Shipping Address\n                        </h2>\n                        <address className=\"not-italic text-sm text-gray-600 dark:text-gray-400 space-y-1\">\n                            <p className=\"font-medium text-gray-900 dark:text-white\">{order.shipping_address?.address}</p>\n                            <p>{order.shipping_address?.city}, {order.shipping_address?.pincode}</p>\n                            <p>India</p>\n                        </address>\n\n                        <div className=\"mt-6 pt-6 border-t border-gray-100 dark:border-white/5\">\n                            <h3 className=\"text-sm font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2\">\n                                <Truck size={16} className=\"text-gray-400\" />\n                                Delivery Status\n                            </h3>\n                            {/* Tracking History Timeline */}\n                            <div className=\"relative pl-4 border-l-2 border-gray-100 dark:border-white/5 space-y-6\">\n                                {/* Always show Created At */}\n                                <div className=\"relative\">\n                                    <div className={`absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white dark:border-slate-900 box-content ${isPending && (!order.status_history || order.status_history.length === 0) ? 'bg-amber-500 shadow-[0_0_0_3px_rgba(245,158,11,0.2)]' : 'bg-gray-300 dark:bg-gray-600'\n                                        }`} />\n                                    <p className=\"text-sm font-medium text-gray-900 dark:text-white\">Order Placed</p>\n                                    <p className=\"text-xs text-gray-400\" suppressHydrationWarning>{new Date(order.created_at).toLocaleString()}</p>\n                                </div>\n\n                                {/* Render History Items */}\n                                {order.status_history && Array.isArray(order.status_history) && order.status_history.map((hist: any, idx: number) => {\n                                    // Determine color based on status\n                                    let colorClass = 'bg-gray-500';\n                                    let shadowClass = '';\n                                    if (hist.status === 'processing') { colorClass = 'bg-purple-500'; shadowClass = 'shadow-[0_0_0_3px_rgba(168,85,247,0.2)]'; }\n                                    else if (hist.status === 'shipped') { colorClass = 'bg-blue-500'; shadowClass = 'shadow-[0_0_0_3px_rgba(59,130,246,0.2)]'; }\n                                    else if (hist.status === 'delivered') { colorClass = 'bg-green-500'; shadowClass = 'shadow-[0_0_0_3px_rgba(34,197,94,0.2)]'; }\n                                    else if (hist.status === 'cancelled') { colorClass = 'bg-red-500'; shadowClass = 'shadow-[0_0_0_3px_rgba(239,68,68,0.2)]'; }\n\n                                    // Only show shadow on the LAST item (current state)\n                                    const isLast = idx === order.status_history!.length - 1;\n                                    const finalShadow = isLast ? shadowClass : '';\n\n                                    // Determine specific text for cancellation\n                                    let displayText = hist.status.replace(/_/g, ' ');\n                                    let subText = null;\n\n                                    if (hist.status === 'cancelled') {\n                                        if (hist.updated_by === 'Customer') {\n                                            displayText = 'Cancelled by Customer';\n                                        } else {\n                                            displayText = 'Cancelled by Bronc';\n                                            // Optional: Show which admin cancelled it if needed\n                                            if (hist.updated_by && hist.updated_by.includes('@')) {\n                                                subText = `by ${hist.updated_by}`;\n                                            }\n                                        }\n                                    } else if (hist.updated_by && hist.updated_by !== 'Customer') {\n                                        // For other statuses, show who updated it if available (and not Customer, just in case)\n                                        if (hist.updated_by.includes('@')) {\n                                            subText = `by ${hist.updated_by}`;\n                                        }\n                                    }\n\n                                    return (\n                                        <div key={idx} className=\"relative\">\n                                            <div className={`absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white dark:border-slate-900 box-content ${colorClass} ${finalShadow}`} />\n                                            <p className=\"text-sm font-medium text-gray-900 dark:text-white capitalize\">{displayText}</p>\n                                            <p className=\"text-xs text-gray-400\" suppressHydrationWarning>\n                                                {new Date(hist.timestamp).toLocaleString()}\n                                                {subText && <span className=\"block text-[10px] text-gray-400\">{subText}</span>}\n                                            </p>\n                                        </div>\n                                    );\n                                })}\n\n                                {/* Fallback for Old Orders (No History Array) but have status */}\n                                {(!order.status_history || order.status_history.length === 0) && order.status !== 'pending' && (\n                                    <div className=\"relative\">\n                                        <div className={`absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white dark:border-slate-900 box-content ${order.status === 'cancelled' ? 'bg-red-500' : 'bg-green-500'}`} />\n                                        <p className=\"text-sm font-medium text-gray-900 dark:text-white capitalize\">{order.status}</p>\n                                        <p className=\"text-xs text-gray-400\">Date unknown (Legacy)</p>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/orders/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[338,341],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[338,341],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":37,"column":8,"nodeType":"ArrayExpression","endLine":37,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1142,1144],"text":"[supabase]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":97,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3658,3661],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3658,3661],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport OrderTable from '@/components/admin/OrderTable';\nimport { Download } from 'lucide-react';\nimport { format } from 'date-fns';\n\nexport default function AdminOrdersPage() {\n    const [orders, setOrders] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        const fetchOrders = async () => {\n            setLoading(true);\n            // Fetch all orders - in production we should paginate server-side\n            const { data, error } = await supabase\n                .from('orders')\n                .select('*')\n                .order('created_at', { ascending: false });\n\n            if (data) {\n                setOrders(data);\n            }\n            if (error) {\n                console.error(\"Error fetching orders:\", error);\n            }\n            setLoading(false);\n        };\n\n        fetchOrders();\n    }, []);\n\n    const handleExportCSV = () => {\n        try {\n            if (!orders.length) {\n                alert(\"No orders to export\");\n                return;\n            }\n\n            const headers = ['Order ID', 'Date', 'Customer Name', 'Email', 'Phone', 'Amount', 'Status', 'Payment', 'City', 'State', 'Pincode'];\n\n            const escapeCsv = (str: string | number | null | undefined) => {\n                if (str === null || str === undefined) return '\"\"';\n                const stringValue = String(str);\n                // Replace newlines with spaces to prevent breaking CSV structure\n                const cleanValue = stringValue.replace(/[\\r\\n]+/g, ' ');\n                const escaped = cleanValue.replace(/\"/g, '\"\"');\n                return `\"${escaped}\"`;\n            };\n\n            const safeFormatDate = (dateStr: string) => {\n                try {\n                    const d = new Date(dateStr);\n                    if (isNaN(d.getTime())) return 'N/A';\n                    return format(d, 'yyyy-MM-dd HH:mm');\n                } catch {\n                    return 'N/A';\n                }\n            };\n\n            const rows = orders.map(o => [\n                o.id,\n                safeFormatDate(o.created_at),\n                `${o.shipping_address?.firstName || ''} ${o.shipping_address?.lastName || ''}`.trim(),\n                o.shipping_address?.email || 'N/A',\n                o.shipping_address?.phone || 'N/A',\n                o.total_amount,\n                o.status,\n                o.payment_method,\n                o.shipping_address?.city || '',\n                o.shipping_address?.state || '',\n                o.shipping_address?.pincode || ''\n            ]);\n\n            const csvContent = [\n                headers.map(escapeCsv).join(','),\n                ...rows.map(row => row.map(escapeCsv).join(','))\n            ].join('\\n');\n\n            // Use Uint8Array for BOM to ensure correct encoding without string manipulation issues\n            const bom = new Uint8Array([0xEF, 0xBB, 0xBF]); // UTF-8 BOM\n            const blob = new Blob([bom, csvContent], { type: 'text/csv' });\n            const url = URL.createObjectURL(blob);\n\n            const link = document.createElement(\"a\");\n            link.setAttribute(\"href\", url);\n            link.setAttribute(\"download\", `orders_export_${format(new Date(), 'yyyyMMdd_HHmm')}.csv`);\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        } catch (err: any) {\n            console.error(\"Orders Export Failed:\", err);\n            alert(\"Failed to export Orders CSV: \" + err.message);\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">All Orders</h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1\">Manage and track all customer orders.</p>\n                </div>\n                <button\n                    onClick={handleExportCSV}\n                    className=\"flex items-center gap-2 px-4 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-all text-sm shadow-sm\"\n                >\n                    <Download size={18} /> Export CSV\n                </button>\n            </div>\n\n            <OrderTable orders={orders} loading={loading} />\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Package' is defined but never used.","line":5,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":42,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Package"},"fix":{"range":[152,161],"text":""},"desc":"Remove unused variable \"Package\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowDownRight' is defined but never used.","line":5,"column":70,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":84,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowDownRight"},"fix":{"range":[187,203],"text":""},"desc":"Remove unused variable \"ArrowDownRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":5,"column":86,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":91,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Clock"},"fix":{"range":[203,210],"text":""},"desc":"Remove unused variable \"Clock\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RefreshCw' is defined but never used.","line":5,"column":114,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":123,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"RefreshCw"},"fix":{"range":[231,242],"text":""},"desc":"Remove unused variable \"RefreshCw\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CalendarIcon' is defined but never used.","line":5,"column":137,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":149,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CalendarIcon"},"fix":{"range":[242,268],"text":""},"desc":"Remove unused variable \"CalendarIcon\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isSameDay' is defined but never used.","line":9,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":27,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"isSameDay"},"fix":{"range":[490,501],"text":""},"desc":"Remove unused variable \"isSameDay\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'startOfDay' is defined but never used.","line":9,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":49,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"startOfDay"},"fix":{"range":[511,523],"text":""},"desc":"Remove unused variable \"startOfDay\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[900,903],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[900,903],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[965,968],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[965,968],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1028,1031],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1028,1031],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1094,1097],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1094,1097],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { DollarSign, ShoppingBag, Package, TrendingUp, ArrowUpRight, ArrowDownRight, Clock, AlertTriangle, Plus, RefreshCw, Calendar as CalendarIcon } from 'lucide-react';\nimport Link from 'next/link';\nimport { AdminDateProvider, useAdminDate } from '@/components/admin/AdminDateContext';\nimport AnalyticsCharts from '@/components/admin/AnalyticsCharts';\nimport { format, isSameDay, parseISO, startOfDay } from 'date-fns';\n\nfunction DashboardContent() {\n    const { rangeType, setRangeType, dateRange } = useAdminDate();\n\n    // Stats State\n    const [stats, setStats] = useState({\n        revenue: 0,\n        totalOrders: 0,\n        pendingOrders: 0,\n        lowStock: 0,\n        avgOrderValue: 0\n    });\n\n    // Chart Data State\n    const [dailyStats, setDailyStats] = useState<any[]>([]);\n    const [paymentStats, setPaymentStats] = useState<any[]>([]);\n    const [statusStats, setStatusStats] = useState<any[]>([]);\n\n    const [recentOrders, setRecentOrders] = useState<any[]>([]);\n    const [health, setHealth] = useState({ latency: 0, status: 'Checking...' });\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        const checkDatabaseHealth = async () => {\n            // Keep existing health check logic...\n            setHealth(prev => ({ ...prev, status: 'Checking...' }));\n            const start = performance.now();\n            await supabase.from('orders').select('id').limit(1);\n            const end = performance.now();\n            const latency = Math.round(end - start);\n            setHealth({\n                latency,\n                status: latency < 300 ? 'Healthy' : latency < 800 ? 'Moderate' : 'Degraded'\n            });\n        };\n\n        const fetchData = async () => {\n            setLoading(true);\n\n            // 1. Build Query with Date Filter\n            let query = supabase.from('orders').select('id, created_at, total_amount, status, payment_method, wallet_amount_used');\n\n            if (dateRange.from) {\n                query = query.gte('created_at', dateRange.from.toISOString());\n            }\n            if (dateRange.to) {\n                query = query.lte('created_at', dateRange.to.toISOString());\n            }\n\n            const { data: orders, error } = await query;\n            const { count: lowStockCount } = await supabase.from('products').select('*', { count: 'exact', head: true }).lt('stock_quantity', 10);\n\n            if (orders) {\n                // Key Stats\n                const totalRevenue = orders.reduce((sum, order) => sum + (order.total_amount || 0), 0);\n                const pending = orders.filter(o => o.status === 'pending' || o.status === 'processing').length;\n                const aov = orders.length > 0 ? totalRevenue / orders.length : 0;\n\n                setStats({\n                    revenue: totalRevenue,\n                    totalOrders: orders.length,\n                    pendingOrders: pending,\n                    lowStock: lowStockCount || 0,\n                    avgOrderValue: parseFloat(aov.toFixed(2))\n                });\n\n                // --- Process Chart Data ---\n\n                // 1. Daily Stats (Revenue & Orders)\n                // Map to dictionary to aggregate same days\n                const dailyMap: Record<string, { revenue: number, orders: number, date: string }> = {};\n\n                orders.forEach(order => {\n                    const dateKey = format(parseISO(order.created_at), 'yyyy-MM-dd');\n                    if (!dailyMap[dateKey]) {\n                        dailyMap[dateKey] = { date: dateKey, revenue: 0, orders: 0 };\n                    }\n                    dailyMap[dateKey].revenue += order.total_amount || 0;\n                    dailyMap[dateKey].orders += 1;\n                });\n\n                // Sort by date\n                const sortedDaily = Object.values(dailyMap).sort((a, b) => a.date.localeCompare(b.date));\n                setDailyStats(sortedDaily);\n\n                // 2. Payment Stats\n                const payMap: Record<string, number> = {};\n                orders.forEach(order => {\n                    const method = order.payment_method || 'Unknown';\n                    payMap[method] = (payMap[method] || 0) + 1;\n                });\n                setPaymentStats(Object.keys(payMap).map(key => ({ name: key, value: payMap[key] })));\n\n                // 3. Status Stats\n                const statusMap: Record<string, number> = {};\n                orders.forEach(order => {\n                    const s = order.status || 'Unknown';\n                    statusMap[s] = (statusMap[s] || 0) + 1;\n                });\n                setStatusStats(Object.keys(statusMap).map(key => ({ name: key, value: statusMap[key] })));\n            }\n\n            if (error) {\n                console.error(\"Dashboard Fetch Error:\", error);\n            }\n\n            // 2. Fetch Recent Orders (Limit 5, ignore date range for \"Recent\" context usually, but let's keep it global if desired. \n            // Actually \"Recent\" usually means absolute recent. Let's keep it absolute for now.)\n            const { data: recent } = await supabase.from('orders').select('*').order('created_at', { ascending: false }).limit(5);\n            if (recent) setRecentOrders(recent);\n\n            // 3. Check Health\n            await checkDatabaseHealth();\n\n            setLoading(false);\n        };\n\n        fetchData();\n    }, [dateRange, supabase]); // Re-fetch when dateRange changes\n\n    const formatCurrency = (amount: number) => {\n        return new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(amount);\n    };\n\n    return (\n        <div className=\"space-y-8 pb-10\">\n            {/* Header & Filters */}\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n                <div>\n                    <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white\">Dashboard Overview</h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\n                        {dateRange.label === 'All Time'\n                            ? 'Showing all time data.'\n                            : `Showing data for ${dateRange.label} (${dateRange.from ? format(dateRange.from, 'MMM d') : ''} - ${dateRange.to ? format(dateRange.to, 'MMM d') : ''})`}\n                    </p>\n                </div>\n\n                {/* Date Toggles */}\n                <div className=\"bg-white dark:bg-slate-900 p-1 rounded-xl border border-gray-200 dark:border-white/10 shadow-sm flex flex-wrap gap-1\">\n                    {(['today', 'yesterday', 'last7', 'thisMonth', 'all'] as const).map((type) => (\n                        <button\n                            key={type}\n                            onClick={() => setRangeType(type)}\n                            className={`px-3 py-1.5 text-xs font-bold rounded-lg transition-all ${rangeType === type\n                                ? 'bg-navy-900 dark:bg-coral-500 text-white shadow-md'\n                                : 'text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5'\n                                }`}\n                        >\n                            {type === 'last7' ? 'Last 7 Days' : type === 'thisMonth' ? 'This Month' : type.charAt(0).toUpperCase() + type.slice(1)}\n                        </button>\n                    ))}\n                </div>\n            </div>\n\n            {/* Stats Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                {/* Revenue */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                        <div className=\"w-12 h-12 rounded-xl flex items-center justify-center bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400\">\n                            <DollarSign size={24} />\n                        </div>\n                        {/* Example Trend indicator (static for now) */}\n                        <span className=\"flex items-center text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/30 px-2 py-1 rounded-full\">\n                            <TrendingUp size={12} className=\"mr-1\" /> +12%\n                        </span>\n                    </div>\n                    <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {loading ? '...' : formatCurrency(stats.revenue)}\n                    </h3>\n                    <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Revenue</p>\n                </div>\n\n                {/* Total Orders */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                        <div className=\"w-12 h-12 rounded-xl flex items-center justify-center bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400\">\n                            <ShoppingBag size={24} />\n                        </div>\n                    </div>\n                    <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {loading ? '...' : stats.totalOrders}\n                    </h3>\n                    <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Orders</p>\n                </div>\n\n                {/* Avg Order Value */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                        <div className=\"w-12 h-12 rounded-xl flex items-center justify-center bg-violet-50 dark:bg-violet-900/20 text-violet-600 dark:text-violet-400\">\n                            <ArrowUpRight size={24} />\n                        </div>\n                    </div>\n                    <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {loading ? '...' : formatCurrency(stats.avgOrderValue)}\n                    </h3>\n                    <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Avg. Order Value</p>\n                </div>\n\n                {/* Low Stock (Independent of date range usually) */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                        <div className=\"w-12 h-12 rounded-xl flex items-center justify-center bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400\">\n                            <AlertTriangle size={24} />\n                        </div>\n                    </div>\n                    <h3 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-1\">\n                        {loading ? '...' : stats.lowStock}\n                    </h3>\n                    <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Low Stock Items</p>\n                </div>\n            </div>\n\n            {/* Visual Analytics */}\n            <div>\n                <AnalyticsCharts\n                    dailyStats={dailyStats}\n                    paymentStats={paymentStats}\n                    statusStats={statusStats}\n                />\n            </div>\n\n            {/* Recent Orders & Quick Activity */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Recent Orders Table */}\n                <div className=\"lg:col-span-2 bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5 overflow-hidden\">\n                    <div className=\"p-6 border-b border-gray-100 dark:border-white/5 flex justify-between items-center\">\n                        <h2 className=\"text-lg font-bold text-gray-900 dark:text-white\">Recent Orders</h2>\n                        <Link href=\"/admin/orders\" className=\"bg-navy-900 dark:bg-coral-500 text-white px-5 py-2 rounded-lg text-sm font-bold hover:bg-navy-800 dark:hover:bg-coral-600 shadow-md transition-all\">\n                            View All Orders\n                        </Link>\n                    </div>\n                    {recentOrders.length === 0 && !loading ? (\n                        <div className=\"p-8 text-center text-gray-400\">No orders placed yet.</div>\n                    ) : (\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-sm text-left\">\n                                <thead className=\"bg-gray-50 dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs\">\n                                    <tr>\n                                        <th className=\"px-6 py-4\">Order ID</th>\n                                        <th className=\"px-6 py-4\">Customer</th>\n                                        <th className=\"px-6 py-4\">Amount</th>\n                                        <th className=\"px-6 py-4\">Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                                    {recentOrders.map((order) => (\n                                        <tr key={order.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors\">\n                                            <td className=\"px-6 py-4 font-bold text-gray-900 dark:text-white\">#{order.id.slice(0, 8)}</td>\n                                            <td className=\"px-6 py-4 text-gray-600 dark:text-gray-300\">\n                                                {order.shipping_address?.firstName || 'Guest'}\n                                            </td>\n                                            <td className=\"px-6 py-4 font-medium text-gray-900 dark:text-white\">{formatCurrency(order.total_amount)}</td>\n                                            <td className=\"px-6 py-4\">\n                                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold capitalize ${order.status === 'delivered' ? 'bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300' :\n                                                    order.status === 'shipped' ? 'bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300' :\n                                                        order.status === 'cancelled' ? 'bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300' :\n                                                            'bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300'\n                                                    }`}>\n                                                    {order.status}\n                                                </span>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    )}\n                </div>\n\n                {/* Quick Actions / Activity */}\n                <div className=\"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5 p-6\">\n                    <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-6\">Quick Actions</h2>\n                    <div className=\"space-y-4\">\n                        <Link href=\"/admin/products/new\">\n                            <button className=\"w-full py-3 px-4 bg-navy-900 dark:bg-coral-500 text-white font-bold rounded-xl hover:bg-navy-800 dark:hover:bg-coral-600 transition-all flex items-center justify-center gap-2 shadow-lg shadow-navy-900/20 dark:shadow-coral-500/20\">\n                                <Plus size={20} /> Add Product\n                            </button>\n                        </Link>\n                        <Link href=\"/admin/orders\">\n                            <button className=\"w-full py-3 px-4 bg-white dark:bg-white/5 border-2 border-gray-200 dark:border-white/10 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-all flex items-center justify-center gap-2\">\n                                <ShoppingBag size={18} /> View All Orders\n                            </button>\n                        </Link>\n                    </div>\n\n                    <div className=\"mt-8\">\n                        <h3 className=\"text-sm font-bold text-gray-900 dark:text-white mb-4 uppercase tracking-wider\">System Health</h3>\n                        <div className=\"space-y-4\">\n                            <div>\n                                <div className=\"flex justify-between text-xs font-medium text-gray-500 dark:text-gray-400 mb-1\">\n                                    <span>Database Latency</span>\n                                    <span className={`${health.status === 'Healthy' ? 'text-green-600 dark:text-green-400' : health.status === 'Moderate' ? 'text-amber-600 dark:text-amber-400' : 'text-red-600 dark:text-red-400'}`}>\n                                        {health.status} ({health.latency}ms)\n                                    </span>\n                                </div>\n                                <div className=\"h-2 w-full bg-gray-100 dark:bg-white/10 rounded-full overflow-hidden\">\n                                    <div\n                                        className={`h-full transition-all duration-500 ${health.status === 'Healthy' ? 'bg-green-500' : health.status === 'Moderate' ? 'bg-amber-500' : 'bg-red-500'}`}\n                                        style={{ width: health.status === 'Checking...' ? '0%' : '100%' }}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default function AdminDashboard() {\n    return (\n        <AdminDateProvider>\n            <DashboardContent />\n        </AdminDateProvider>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/payments/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CreditCard' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":20,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CreditCard"},"fix":{"range":[129,140],"text":""},"desc":"Remove unused variable \"CreditCard\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowUpRight' is defined but never used.","line":5,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":56,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowUpRight"},"fix":{"range":[161,175],"text":""},"desc":"Remove unused variable \"ArrowUpRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowDownRight' is defined but never used.","line":5,"column":58,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":72,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowDownRight"},"fix":{"range":[175,191],"text":""},"desc":"Remove unused variable \"ArrowDownRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":18,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":19},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchTransactions` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/payments/page.tsx:26:9\n  24 |\n  25 |     useEffect(() => {\n> 26 |         fetchTransactions();\n     |         ^^^^^^^^^^^^^^^^^ `fetchTransactions` accessed before it is declared\n  27 |     }, []);\n  28 |\n  29 |     const fetchTransactions = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/payments/page.tsx:29:5\n  27 |     }, []);\n  28 |\n> 29 |     const fetchTransactions = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 31 |         const { data: orders, error } = await supabase\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 48 |     };\n     | ^^^^^^^ `fetchTransactions` is declared here\n  49 |\n  50 |     const totalCollected = transactions\n  51 |         .filter(t => t.payment_status === 'paid')","line":26,"column":9,"nodeType":null,"endLine":26,"endColumn":26},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchTransactions'. Either include it or remove the dependency array.","line":27,"column":8,"nodeType":"ArrayExpression","endLine":27,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchTransactions]","fix":{"range":[790,792],"text":"[fetchTransactions]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":31,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":36}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { CreditCard, DollarSign, Download, ArrowUpRight, ArrowDownRight, Clock } from 'lucide-react';\n\ninterface Transaction {\n    id: string; // Order ID essentially\n    created_at: string;\n    total_amount: number;\n    payment_status: string;\n    payment_method: string;\n    user_name: string;\n}\n\nexport default function PaymentsPage() {\n    const [transactions, setTransactions] = useState<Transaction[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchTransactions();\n    }, []);\n\n    const fetchTransactions = async () => {\n        setLoading(true);\n        const { data: orders, error } = await supabase\n            .from('orders')\n            .select('*')\n            .order('created_at', { ascending: false });\n\n        if (orders) {\n            const txs = orders.map(o => ({\n                id: o.id,\n                created_at: o.created_at,\n                total_amount: o.total_amount,\n                payment_status: o.payment_status,\n                payment_method: o.payment_method,\n                user_name: `${o.shipping_address?.firstName} ${o.shipping_address?.lastName}`\n            }));\n            setTransactions(txs);\n        }\n        setLoading(false);\n    };\n\n    const totalCollected = transactions\n        .filter(t => t.payment_status === 'paid')\n        .reduce((sum, t) => sum + t.total_amount, 0);\n\n    const totalPending = transactions\n        .filter(t => t.payment_status === 'pending')\n        .reduce((sum, t) => sum + t.total_amount, 0);\n\n    const formatCurrency = (amount: number) => {\n        return new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR' }).format(amount);\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Payments & Transactions</h1>\n\n            {/* Stats */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl flex items-center justify-center\">\n                            <DollarSign size={24} />\n                        </div>\n                        <div>\n                            <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Collected</p>\n                            <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white\">{formatCurrency(totalCollected)}</h3>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 rounded-xl flex items-center justify-center\">\n                            <Clock size={24} />\n                        </div>\n                        <div>\n                            <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Pending Amount</p>\n                            <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white\">{formatCurrency(totalPending)}</h3>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Transaction List */}\n            <div className=\"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden\">\n                <div className=\"p-4 border-b border-gray-100 dark:border-white/5 flex justify-between items-center\">\n                    <h2 className=\"font-bold text-gray-900 dark:text-white\">Recent Transactions</h2>\n                    <button className=\"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-1 hover:underline\">\n                        <Download size={14} /> Export CSV\n                    </button>\n                </div>\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-sm text-left\">\n                        <thead className=\"bg-[#FAF9F7] dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs border-b border-gray-100 dark:border-white/5\">\n                            <tr>\n                                <th className=\"px-6 py-4\">Transaction ID</th>\n                                <th className=\"px-6 py-4\">Date</th>\n                                <th className=\"px-6 py-4\">Customer</th>\n                                <th className=\"px-6 py-4\">Method</th>\n                                <th className=\"px-6 py-4\">Amount</th>\n                                <th className=\"px-6 py-4\">Status</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                            {transactions.map((tx) => (\n                                <tr key={tx.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors\">\n                                    <td className=\"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400\">\n                                        {tx.id.slice(0, 8)}...\n                                    </td>\n                                    <td className=\"px-6 py-4 text-gray-600 dark:text-gray-300\">\n                                        {new Date(tx.created_at).toLocaleDateString()}\n                                    </td>\n                                    <td className=\"px-6 py-4 font-medium text-gray-900 dark:text-white\">\n                                        {tx.user_name}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-gray-600 dark:text-gray-300 capitalize\">\n                                        {tx.payment_method}\n                                    </td>\n                                    <td className=\"px-6 py-4 font-bold text-gray-900 dark:text-white\">\n                                        {formatCurrency(tx.total_amount)}\n                                    </td>\n                                    <td className=\"px-6 py-4\">\n                                        <span className={`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide border ${tx.payment_status === 'paid' ? 'bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-900/30 text-green-700 dark:text-green-400' :\n                                            tx.payment_status === 'failed' ? 'bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900/30 text-red-700 dark:text-red-400' :\n                                                'bg-amber-50 dark:bg-amber-900/20 border-amber-100 dark:border-amber-900/30 text-amber-700 dark:text-amber-400'\n                                            }`}>\n                                            {tx.payment_status}\n                                        </span>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/[id]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertTriangle' is defined but never used.","line":5,"column":60,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":73,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertTriangle"},"fix":{"range":[177,192],"text":""},"desc":"Remove unused variable \"AlertTriangle\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1778,1781],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1778,1781],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1831,1834],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1831,1834],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchDeviceCatalog` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/[id]/page.tsx:94:19\n  92 |     useEffect(() => {\n  93 |         const init = async () => {\n> 94 |             await fetchDeviceCatalog();\n     |                   ^^^^^^^^^^^^^^^^^^ `fetchDeviceCatalog` accessed before it is declared\n  95 |             if (id) await fetchProduct(id);\n  96 |         };\n  97 |         init();\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/[id]/page.tsx:100:5\n   98 |     }, [id]);\n   99 |\n> 100 |     const fetchDeviceCatalog = async () => {\n      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 101 |         const [bRes, mRes] = await Promise.all([\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 102 |             supabase.from('brands').select('*').order('name'),\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 103 |             supabase.from('device_models').select('*').order('name')\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 104 |         ]);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 105 |         if (bRes.data) setBrands(bRes.data);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 106 |         if (mRes.data) setModels(mRes.data);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 107 |     };\n      | ^^^^^^^ `fetchDeviceCatalog` is declared here\n  108 |\n  109 |     const fetchProduct = async (productId: string) => {\n  110 |         setFetching(true);","line":94,"column":19,"nodeType":null,"endLine":94,"endColumn":37},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchProduct` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/[id]/page.tsx:95:27\n  93 |         const init = async () => {\n  94 |             await fetchDeviceCatalog();\n> 95 |             if (id) await fetchProduct(id);\n     |                           ^^^^^^^^^^^^ `fetchProduct` accessed before it is declared\n  96 |         };\n  97 |         init();\n  98 |     }, [id]);\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/[id]/page.tsx:109:5\n  107 |     };\n  108 |\n> 109 |     const fetchProduct = async (productId: string) => {\n      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 110 |         setFetching(true);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 111 |         const [prodReq, compReq] = await Promise.all([\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 180 |         setFetching(false);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 181 |     };\n      | ^^^^^^^ `fetchProduct` is declared here\n  182 |\n  183 |     // Helpers\n  184 |     const toggleArrayItem = (array: string[], item: string) => {","line":95,"column":27,"nodeType":null,"endLine":95,"endColumn":39},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchDeviceCatalog' and 'fetchProduct'. Either include them or remove the dependency array.","line":98,"column":8,"nodeType":"ArrayExpression","endLine":98,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchDeviceCatalog, fetchProduct, id]","fix":{"range":[3246,3250],"text":"[fetchDeviceCatalog, fetchProduct, id]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4222,4225],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4222,4225],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4262,4265],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4262,4265],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":188,"column":86,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":188,"endColumn":89,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6976,6979],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6976,6979],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":276,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":276,"endColumn":28},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":307,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":307,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[11111,11124],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { ArrowLeft, Save, Loader2, ChevronDown, ChevronUp, AlertTriangle, Image as ImageIcon, Trash2 } from 'lucide-react';\nimport { useRouter, useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { PERSONALIZATION_TAXONOMY } from '@/lib/personalization';\n\nconst BASE_PRODUCT_TYPES = [\n    'T-Shirt', 'Hoodie', 'Sweatshirt', 'Mug', 'Bottle', 'Cap', 'Tote Bag', 'Phone Case', 'Mouse Pad', 'Other'\n];\n\nconst PREDEFINED_COLORS = ['White', 'Black', 'Navy', 'Olive', 'Grey', 'Red', 'Blue', 'Yellow', 'Pink', 'Beige', 'Maroon'];\nconst PREDEFINED_SIZES = ['XS', 'S', 'M', 'L', 'XL', 'XXL', '3XL', '4XL', 'Standard'];\nconst PLACEMENTS = ['Front', 'Back', 'Left Pocket', 'Right Pocket', 'Left Sleeve', 'Right Sleeve', 'Wrap Around'];\nconst PRINT_TYPES = ['DTG Printing', 'Embroidery'];\n\ninterface PrintTypeConfig {\n    enabled: boolean;\n    price: number;\n}\n\ninterface PlacementConfig {\n    enabled: boolean;\n    price: number;\n    max_width: number;\n    max_height: number;\n}\n\nexport default function EditPersonalizationProductPage() {\n    const router = useRouter();\n    const params = useParams();\n    const id = params.id as string;\n\n    const [loading, setLoading] = useState(false);\n    const [fetching, setFetching] = useState(true);\n\n    // Collapsible Sections State\n    const [sections, setSections] = useState({\n        identity: true,\n        customization: true,\n        compatibility: true,\n        printing: true,\n        pricing: true\n    });\n\n    const toggleSection = (key: keyof typeof sections) => setSections(prev => ({ ...prev, [key]: !prev[key] }));\n\n    const [brands, setBrands] = useState<any[]>([]);\n    const [models, setModels] = useState<any[]>([]);\n    const [compatibility, setCompatibility] = useState<Record<string, { enabled: boolean; stock: number; sku: string }>>({});\n\n    const [formData, setFormData] = useState({\n        name: '', // Internal Admin Name\n        product_type: 'T-Shirt',\n        description: '', // Optional\n        price: '', // Base Price\n\n        images: [] as string[],\n\n        // Customization Rules\n        personalization: {\n            enabled: true,\n            colors: [] as string[],\n            sizes: [] as string[],\n            print_types: {} as Record<string, PrintTypeConfig>,\n\n            // Rich Placement Config\n            placements: {} as Record<string, PlacementConfig>,\n\n            // Tax Configuration\n            gst_percent: 12,\n            print_gst_percent: 18,\n\n            image_requirements: {\n                min_dpi: 300,\n                max_size_mb: 20,\n                allowed_formats: ['png', 'jpg', 'pdf']\n            }\n        }\n    });\n\n    const [imageInput, setImageInput] = useState('');\n    const [customColor, setCustomColor] = useState(''); // New State\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        const init = async () => {\n            await fetchDeviceCatalog();\n            if (id) await fetchProduct(id);\n        };\n        init();\n    }, [id]);\n\n    const fetchDeviceCatalog = async () => {\n        const [bRes, mRes] = await Promise.all([\n            supabase.from('brands').select('*').order('name'),\n            supabase.from('device_models').select('*').order('name')\n        ]);\n        if (bRes.data) setBrands(bRes.data);\n        if (mRes.data) setModels(mRes.data);\n    };\n\n    const fetchProduct = async (productId: string) => {\n        setFetching(true);\n        const [prodReq, compReq] = await Promise.all([\n            supabase.from('products').select('*').eq('id', productId).single(),\n            supabase.from('product_compatibility').select('*').eq('product_id', productId)\n        ]);\n\n        const { data, error } = prodReq;\n        const compData = compReq.data || [];\n\n        if (error || !data) {\n            alert('Error loading product');\n            router.push('/admin/personalization');\n            return;\n        }\n\n        // Map compatibility\n        const compMap: Record<string, any> = {};\n        compData.forEach((c: any) => {\n            compMap[c.device_model_id] = { enabled: true, stock: c.stock, sku: c.sku };\n        });\n        setCompatibility(compMap);\n\n        const meta = data.metadata || {};\n        const pConfig = meta.personalization || {};\n\n        // Migrate old simple placements array to new object structure if needed\n        let placements = pConfig.placements || {};\n        if (Array.isArray(placements)) {\n            const newPlacements: Record<string, PlacementConfig> = {};\n            placements.forEach((p: string) => {\n                newPlacements[p] = { enabled: true, price: pConfig.print_prices?.[p] || 199, max_width: 10, max_height: 10 };\n            });\n            placements = newPlacements;\n        }\n\n        // Migrate Print Types (String Array -> Record)\n        let printTypes = pConfig.print_types || {};\n        if (Array.isArray(printTypes)) {\n            const newPrintTypes: Record<string, PrintTypeConfig> = {};\n            printTypes.forEach((t: string) => {\n                // Check if it's one of the supported ones (or map old names if needed)\n                // For now, naive mapping. Old 'DTG' might need mapping to 'DTG Printing' but let's assume standard\n                // Actually, user renamed them just now. \n                // We will just enable it if it matches, default price 50\n                if (PRINT_TYPES.includes(t)) {\n                    newPrintTypes[t] = { enabled: true, price: 50 };\n                } else if (t === 'DTG') {\n                    newPrintTypes['DTG Printing'] = { enabled: true, price: 50 };\n                }\n            });\n            printTypes = newPrintTypes;\n        }\n\n        setFormData({\n            name: data.name,\n            product_type: meta.product_type || 'T-Shirt',\n            description: data.description || '',\n            price: data.price.toString(),\n            images: data.images || [],\n            personalization: {\n                enabled: true,\n                colors: pConfig.colors || [],\n                sizes: pConfig.sizes || [],\n                print_types: printTypes,\n                placements: placements,\n                gst_percent: pConfig.gst_percent ?? 12,\n                print_gst_percent: pConfig.print_gst_percent ?? 18,\n                image_requirements: pConfig.image_requirements || { min_dpi: 300, max_size_mb: 20, allowed_formats: ['png', 'jpg', 'pdf'] }\n            }\n        });\n        setFetching(false);\n    };\n\n    // Helpers\n    const toggleArrayItem = (array: string[], item: string) => {\n        return array.includes(item) ? array.filter(i => i !== item) : [...array, item];\n    };\n\n    const updatePlacement = (placement: string, field: keyof PlacementConfig, value: any) => {\n        const current = formData.personalization.placements[placement] || { enabled: false, price: 199, max_width: 10, max_height: 10 };\n\n        if (field === 'enabled' && value === false) {\n            // Remove if disabled\n            const newPlacements = { ...formData.personalization.placements };\n            delete newPlacements[placement];\n            setFormData({\n                ...formData,\n                personalization: { ...formData.personalization, placements: newPlacements }\n            });\n            return;\n        }\n\n        const updated = { ...current, [field]: value, enabled: true };\n        setFormData({\n            ...formData,\n            personalization: {\n                ...formData.personalization,\n                placements: { ...formData.personalization.placements, [placement]: updated }\n            }\n        });\n    };\n\n    const handleAddImage = () => {\n        if (!imageInput.trim()) return;\n        setFormData({ ...formData, images: [...formData.images, imageInput.trim()] });\n        setImageInput('');\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n\n        const { name, price, product_type, personalization, images } = formData;\n\n        if (!name || !price) {\n            alert('Please complete Section 1 & 4 (Name & Price).');\n            setLoading(false);\n            return;\n        }\n\n        // if (personalization.colors.length === 0) {\n        //     alert('Please select at least one color in Section 2.');\n        //     setLoading(false);\n        //     return;\n        // }\n\n        if (Object.keys(personalization.print_types).length === 0) {\n            alert('Please select at least one Print Method in Section 3.');\n            setLoading(false);\n            return;\n        }\n\n        if (Object.keys(personalization.placements).length === 0) {\n            alert('Please enable at least one print placement in Section 3.');\n            setLoading(false);\n            return;\n        }\n\n        // Update Product\n        const { error: prodError } = await supabase.from('products').update({\n            name: name,\n            description: formData.description,\n            price: parseFloat(price),\n            images: images,\n            metadata: {\n                type: 'personalization_base',\n                product_type: product_type,\n                gender_supported: [],\n                personalization: personalization\n            }\n        }).eq('id', id);\n\n        if (prodError) {\n            console.error(prodError);\n            alert('Failed to update base product: ' + prodError.message);\n            setLoading(false);\n            return;\n        }\n\n        // Update Compatibility if Phone Case\n        if (product_type === 'Phone Case') {\n            // Clear existing\n            await supabase.from('product_compatibility').delete().eq('product_id', id);\n\n            // Insert new\n            const compToInsert = Object.entries(compatibility)\n                .filter(([_, cfg]) => cfg.enabled)\n                .map(([modelId, cfg]) => ({\n                    product_id: id,\n                    device_model_id: modelId,\n                    stock: cfg.stock || 0,\n                    sku: cfg.sku || ''\n                }));\n\n            if (compToInsert.length > 0) {\n                const { error: compError } = await supabase.from('product_compatibility').insert(compToInsert);\n                if (compError) {\n                    console.error('Comp Error:', compError);\n                    alert('Warning: Product saved but compatibility details failed to update.');\n                }\n            }\n        }\n\n        router.push('/admin/personalization');\n        router.refresh();\n        setLoading(false);\n    };\n\n    const handleDelete = async () => {\n        if (!confirm(\"Are you sure? This will remove the base product forever.\")) return;\n        setLoading(true);\n        await supabase.from('products').delete().eq('id', id);\n        router.push('/admin/personalization');\n        router.refresh();\n    };\n\n    const isApparel = (() => {\n        // @ts-ignore\n        const clothingTypes = Object.values(PERSONALIZATION_TAXONOMY.Apparel.types).flat();\n        return clothingTypes.includes(formData.product_type) || ['T-Shirt', 'Hoodie', 'Sweatshirt'].includes(formData.product_type);\n    })();\n\n    if (fetching) return <div className=\"min-h-screen flex items-center justify-center\"><Loader2 className=\"animate-spin text-navy-900\" /></div>;\n\n    return (\n        <div className=\"max-w-4xl mx-auto pb-32\">\n            {/* Header */}\n            <div className=\"mb-8 pt-4\">\n                <Link href=\"/admin/personalization\" className=\"text-gray-500 hover:text-navy-900 transition-colors flex items-center gap-1 mb-4 text-sm font-bold\">\n                    <ArrowLeft size={16} /> Back to Dashboard\n                </Link>\n                <div className=\"flex items-center justify-between\">\n                    <div>\n                        <h1 className=\"text-3xl font-black text-gray-900 tracking-tight\">Edit Base Product</h1>\n                        <p className=\"text-gray-500 mt-1\">Update configuration rules.</p>\n                    </div>\n                    <button onClick={handleDelete} className=\"text-red-500 font-bold text-sm bg-red-50 px-4 py-2 rounded-lg hover:bg-red-100 transition-colors\">\n                        Delete Product\n                    </button>\n                </div>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n\n                {/* SECTION 1: IDENTITY */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('identity')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm\">1</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Base Product Identity</h2>\n                        </div>\n                        {sections.identity ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.identity && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-6 animate-in slide-in-from-top-2\">\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Base Product Type *</label>\n                                    <select\n                                        className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                        value={formData.product_type}\n                                        onChange={(e) => setFormData({ ...formData, product_type: e.target.value })}\n                                    >\n                                        {BASE_PRODUCT_TYPES.map(t => <option key={t} value={t}>{t}</option>)}\n                                    </select>\n                                    <p className=\"text-xs text-gray-400 mt-1.5\">Determines available size options and placement defaults.</p>\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Internal Name *</label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                        placeholder=\"e.g. Plain Classic Crew T-Shirt (Base)\"\n                                        value={formData.name}\n                                        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                                        required\n                                    />\n                                    <p className=\"text-xs text-gray-400 mt-1.5\">Used internally to identify this blank stock.</p>\n                                </div>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-gray-700 mb-2\">Description (Optional)</label>\n                                <textarea\n                                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                    rows={3}\n                                    placeholder=\"Details about material, fit, etc.\"\n                                    value={formData.description}\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* SECTION 2: CUSTOMIZATION */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('customization')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm\">2</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Customization Rules</h2>\n                        </div>\n                        {sections.customization ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.customization && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-8 animate-in slide-in-from-top-2\">\n\n                            {/* Colors */}\n                            <div>\n                                <h3 className=\"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2\">\n                                    Available Colors <span className=\"text-red-500\">*</span>\n                                    <span className=\"text-xs font-normal text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full\">Select at least one</span>\n                                </h3>\n                                <div className=\"flex flex-wrap gap-3 mb-4\">\n                                    {PREDEFINED_COLORS.map(color => {\n                                        const isSelected = formData.personalization.colors.includes(color);\n                                        return (\n                                            <label key={color} className={`cursor-pointer px-4 py-2 rounded-lg border transition-all flex items-center gap-2 ${isSelected ? 'bg-navy-900 text-white border-navy-900' : 'bg-white text-gray-600 border-gray-200 hover:border-gray-300'\n                                                }`}>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className=\"hidden\"\n                                                    checked={isSelected}\n                                                    onChange={() => setFormData({\n                                                        ...formData,\n                                                        personalization: {\n                                                            ...formData.personalization,\n                                                            colors: toggleArrayItem(formData.personalization.colors, color)\n                                                        }\n                                                    })}\n                                                />\n                                                <div className={`w-3 h-3 rounded-full border border-black/10`} style={{ backgroundColor: color.toLowerCase() }} />\n                                                <span className=\"font-bold text-sm\">{color}</span>\n                                            </label>\n                                        );\n                                    })}\n                                    {/* Selected Custom Colors */}\n                                    {formData.personalization.colors.filter(c => !PREDEFINED_COLORS.includes(c)).map(color => (\n                                        <label key={color} className=\"cursor-pointer px-4 py-2 rounded-lg border bg-navy-900 text-white border-navy-900 transition-all flex items-center gap-2\">\n                                            <input\n                                                type=\"checkbox\"\n                                                className=\"hidden\"\n                                                checked={true}\n                                                onChange={() => setFormData({\n                                                    ...formData,\n                                                    personalization: {\n                                                        ...formData.personalization,\n                                                        colors: formData.personalization.colors.filter(c => c !== color)\n                                                    }\n                                                })}\n                                            />\n                                            <div className=\"w-3 h-3 rounded-full border border-white/20 bg-white\" />\n                                            <span className=\"font-bold text-sm\">{color}</span>\n                                        </label>\n                                    ))}\n                                </div>\n\n                                {/* Add Custom Color Input */}\n                                <div className=\"flex items-center gap-2 max-w-sm\">\n                                    <input\n                                        type=\"text\"\n                                        className=\"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 text-sm bg-white text-gray-900\"\n                                        placeholder=\"Add Custom Color (e.g. Teal)\"\n                                        value={customColor}\n                                        onChange={(e) => setCustomColor(e.target.value)}\n                                        onKeyDown={(e) => {\n                                            if (e.key === 'Enter') {\n                                                e.preventDefault();\n                                                if (customColor.trim()) {\n                                                    setFormData({\n                                                        ...formData,\n                                                        personalization: {\n                                                            ...formData.personalization,\n                                                            colors: [...formData.personalization.colors, customColor.trim()]\n                                                        }\n                                                    });\n                                                    setCustomColor('');\n                                                }\n                                            }\n                                        }}\n                                    />\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => {\n                                            if (customColor.trim()) {\n                                                setFormData({\n                                                    ...formData,\n                                                    personalization: {\n                                                        ...formData.personalization,\n                                                        colors: [...formData.personalization.colors, customColor.trim()]\n                                                    }\n                                                });\n                                                setCustomColor('');\n                                            }\n                                        }}\n                                        className=\"px-4 py-2 bg-gray-100 font-bold text-gray-600 rounded-lg hover:bg-gray-200 text-sm\"\n                                    >\n                                        Add\n                                    </button>\n                                </div>\n                            </div>\n\n                            {/* Sizes (Conditional) */}\n                            {isApparel && (\n                                <div className=\"p-4 bg-gray-50 rounded-xl border border-gray-200\">\n                                    <h3 className=\"text-sm font-bold text-gray-900 mb-3\">Available Sizes</h3>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {PREDEFINED_SIZES.map(size => {\n                                            const isSelected = formData.personalization.sizes.includes(size);\n                                            return (\n                                                <label key={size} className={`cursor-pointer px-3 h-10 flex items-center justify-center rounded-lg border transition-all text-sm font-bold min-w-[3rem] ${isSelected ? 'bg-navy-900 text-white border-navy-900' : 'bg-white text-gray-500 border-gray-200 hover:border-gray-300'\n                                                    }`}>\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        className=\"hidden\"\n                                                        checked={isSelected}\n                                                        onChange={() => setFormData({\n                                                            ...formData,\n                                                            personalization: {\n                                                                ...formData.personalization,\n                                                                sizes: toggleArrayItem(formData.personalization.sizes, size)\n                                                            }\n                                                        })}\n                                                    />\n                                                    {size}\n                                                </label>\n                                            );\n                                        })}\n                                    </div>\n                                    <p className=\"text-xs text-gray-500 mt-2\">Sizes shown to customer on personalization page.</p>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </div>\n\n                {/* SECTION 2.5: DEVICE COMPATIBILITY (Dynamic for Phone Cases) */}\n                {formData.product_type === 'Phone Case' && (\n                    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden ring-2 ring-coral-500/20\">\n                        <button type=\"button\" onClick={() => toggleSection('compatibility')} className=\"w-full flex items-center justify-between p-6 bg-coral-50/30 hover:bg-coral-50 transition-colors\">\n                            <div className=\"flex items-center gap-3\">\n                                <div className=\"w-8 h-8 rounded-full bg-coral-100 text-coral-600 flex items-center justify-center font-bold text-sm\">2.5</div>\n                                <h2 className=\"text-lg font-bold text-gray-900\">Device Compatibility</h2>\n                            </div>\n                            {sections.compatibility ? <ChevronUp size={20} className=\"text-coral-400\" /> : <ChevronDown size={20} className=\"text-coral-400\" />}\n                        </button>\n\n                        {sections.compatibility && (\n                            <div className=\"p-6 border-t border-gray-100 space-y-8 animate-in slide-in-from-top-2\">\n                                {brands.map(brand => (\n                                    <div key={brand.id} className=\"space-y-4\">\n                                        <div className=\"flex items-center justify-between border-b border-gray-100 pb-2\">\n                                            <h3 className=\"font-black text-gray-900 uppercase tracking-wider text-sm\">{brand.name} Models</h3>\n                                            <button\n                                                type=\"button\"\n                                                onClick={() => {\n                                                    const brandModels = models.filter(m => m.brand_id === brand.id);\n                                                    const allEnabled = brandModels.every(m => compatibility[m.id]?.enabled);\n                                                    const newComp = { ...compatibility };\n                                                    brandModels.forEach(m => {\n                                                        newComp[m.id] = { ...newComp[m.id], enabled: !allEnabled };\n                                                    });\n                                                    setCompatibility(newComp);\n                                                }}\n                                                className=\"text-[10px] font-bold text-coral-500 hover:text-coral-600 uppercase\"\n                                            >\n                                                Toggle All\n                                            </button>\n                                        </div>\n                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3\">\n                                            {models.filter(m => m.brand_id === brand.id).map(model => (\n                                                <div key={model.id} className={`p-3 rounded-xl border transition-all ${compatibility[model.id]?.enabled ? 'bg-coral-50/30 border-coral-200' : 'bg-gray-50/50 border-gray-100 opacity-60'}`}>\n                                                    <label className=\"flex items-center gap-3 cursor-pointer\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            className=\"w-4 h-4 rounded border-gray-300 text-coral-500 focus:ring-coral-500\"\n                                                            checked={!!compatibility[model.id]?.enabled}\n                                                            onChange={(e) => setCompatibility({\n                                                                ...compatibility,\n                                                                [model.id]: { ...compatibility[model.id], enabled: e.target.checked }\n                                                            })}\n                                                        />\n                                                        <span className=\"text-sm font-bold text-gray-700\">{model.name}</span>\n                                                    </label>\n                                                    {compatibility[model.id]?.enabled && (\n                                                        <div className=\"mt-2 grid grid-cols-2 gap-2 animate-in fade-in scale-95 duration-200\">\n                                                            <input\n                                                                type=\"text\"\n                                                                placeholder=\"SKU\"\n                                                                className=\"px-2 py-1 text-[10px] bg-white border border-coral-100 rounded focus:border-coral-300 outline-none text-gray-900\"\n                                                                value={compatibility[model.id]?.sku || ''}\n                                                                onChange={(e) => setCompatibility({\n                                                                    ...compatibility,\n                                                                    [model.id]: { ...compatibility[model.id], sku: e.target.value }\n                                                                })}\n                                                            />\n                                                            <input\n                                                                type=\"number\"\n                                                                placeholder=\"Stock\"\n                                                                className=\"px-2 py-1 text-[10px] bg-white border border-coral-100 rounded focus:border-coral-300 outline-none text-gray-900\"\n                                                                value={compatibility[model.id]?.stock || 0}\n                                                                onChange={(e) => setCompatibility({\n                                                                    ...compatibility,\n                                                                    [model.id]: { ...compatibility[model.id], stock: parseInt(e.target.value) || 0 }\n                                                                })}\n                                                            />\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            ))}\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* SECTION 3: PRINTING RULES */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('printing')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center font-bold text-sm\">3</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Printing Rules</h2>\n                        </div>\n                        {sections.printing ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.printing && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-8 animate-in slide-in-from-top-2\">\n\n                            {/* Print Methods */}\n                            <div>\n                                <h3 className=\"text-sm font-bold text-gray-900 mb-3\">Supported Print Methods</h3>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    {PRINT_TYPES.map(type => {\n                                        const config = formData.personalization.print_types[type] || { enabled: false, price: 50 };\n\n                                        return (\n                                            <div key={type} className={`rounded-xl border transition-all ${config.enabled ? 'bg-white border-amber-200 shadow-sm ring-1 ring-amber-100' : 'bg-gray-50 border-gray-100 opacity-70 hover:opacity-100'}`}>\n                                                <div className=\"p-4 flex items-center justify-between\">\n                                                    <label className=\"flex items-center gap-3 cursor-pointer\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            className=\"w-5 h-5 rounded border-gray-300 text-amber-600 focus:ring-amber-600\"\n                                                            checked={config.enabled}\n                                                            onChange={(e) => {\n                                                                const isEnabled = e.target.checked;\n                                                                if (!isEnabled) {\n                                                                    const newTypes = { ...formData.personalization.print_types };\n                                                                    delete newTypes[type];\n                                                                    setFormData({\n                                                                        ...formData,\n                                                                        personalization: { ...formData.personalization, print_types: newTypes }\n                                                                    });\n                                                                } else {\n                                                                    setFormData({\n                                                                        ...formData,\n                                                                        personalization: {\n                                                                            ...formData.personalization,\n                                                                            print_types: {\n                                                                                ...formData.personalization.print_types,\n                                                                                [type]: { enabled: true, price: config.price }\n                                                                            }\n                                                                        }\n                                                                    });\n                                                                }\n                                                            }}\n                                                        />\n                                                        <span className={`font-bold ${config.enabled ? 'text-gray-900' : 'text-gray-500'}`}>{type}</span>\n                                                    </label>\n                                                </div>\n\n                                                {config.enabled && (\n                                                    <div className=\"p-4 pt-0 border-t border-amber-50 mt-1\">\n                                                        <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Surcharge (Per Print)</label>\n                                                        <div className=\"relative\">\n                                                            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs\">â‚¹</span>\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"w-full pl-6 pr-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-amber-50/30 border-amber-100 focus:outline-none focus:border-amber-300\"\n                                                                value={config.price}\n                                                                onChange={(e) => setFormData({\n                                                                    ...formData,\n                                                                    personalization: {\n                                                                        ...formData.personalization,\n                                                                        print_types: {\n                                                                            ...formData.personalization.print_types,\n                                                                            [type]: { ...config, price: parseFloat(e.target.value) || 0 }\n                                                                        }\n                                                                    }\n                                                                })}\n                                                            />\n                                                        </div>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n\n                            {/* Placements */}\n                            <div className=\"space-y-4\">\n                                <h3 className=\"text-sm font-bold text-gray-900 flex items-center justify-between\">\n                                    Placements & Dimensions\n                                    <span className=\"text-xs font-normal text-gray-400\">Configure enabled areas</span>\n                                </h3>\n\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    {PLACEMENTS.map(placement => {\n                                        const config = formData.personalization.placements[placement];\n                                        const isEnabled = !!config && config.enabled;\n\n                                        return (\n                                            <div key={placement} className={`rounded-xl border transition-all ${isEnabled ? 'bg-white border-blue-200 shadow-sm ring-1 ring-blue-100' : 'bg-gray-50 border-gray-100 opacity-70 hover:opacity-100'}`}>\n\n                                                {/* Header / Toggle */}\n                                                <div className=\"p-4 flex items-center justify-between\">\n                                                    <label className=\"flex items-center gap-3 cursor-pointer\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            className=\"w-5 h-5 rounded border-gray-300 text-navy-900 focus:ring-navy-900\"\n                                                            checked={isEnabled}\n                                                            onChange={(e) => updatePlacement(placement, 'enabled', e.target.checked)}\n                                                        />\n                                                        <span className={`font-bold ${isEnabled ? 'text-navy-900' : 'text-gray-500'}`}>{placement}</span>\n                                                    </label>\n                                                    {isEnabled && (\n                                                        <span className=\"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded\">Active</span>\n                                                    )}\n                                                </div>\n\n                                                {/* Details (Expanded) */}\n                                                {isEnabled && (\n                                                    <div className=\"p-4 pt-0 grid grid-cols-2 gap-3 border-t border-blue-50 mt-2\">\n                                                        <div>\n                                                            <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Max Width (in)</label>\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"w-full px-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-white\"\n                                                                value={config.max_width}\n                                                                onChange={(e) => updatePlacement(placement, 'max_width', parseFloat(e.target.value))}\n                                                            />\n                                                        </div>\n                                                        <div>\n                                                            <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Max Height (in)</label>\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"w-full px-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-white\"\n                                                                value={config.max_height}\n                                                                onChange={(e) => updatePlacement(placement, 'max_height', parseFloat(e.target.value))}\n                                                            />\n                                                        </div>\n                                                        <div className=\"col-span-2\">\n                                                            <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Print Price (â‚¹)</label>\n                                                            <div className=\"relative\">\n                                                                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs\">â‚¹</span>\n                                                                <input\n                                                                    type=\"number\"\n                                                                    className=\"w-full pl-6 pr-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-green-50/30 border-green-100\"\n                                                                    value={config.price}\n                                                                    onChange={(e) => updatePlacement(placement, 'price', parseFloat(e.target.value))}\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* SECTION 4: PRICING & ASSETS */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('pricing')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold text-sm\">4</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Pricing & Assets</h2>\n                        </div>\n                        {sections.pricing ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.pricing && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-8 animate-in slide-in-from-top-2\">\n\n                            {/* Price */}\n                            <div className=\"space-y-6\">\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                    <div>\n                                        <label className=\"block text-sm font-bold text-gray-700 mb-2\">Base Product Cost (â‚¹) *</label>\n                                        <div className=\"relative\">\n                                            <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold\">â‚¹</span>\n                                            <input\n                                                type=\"number\"\n                                                className=\"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 outline-none font-bold text-lg text-gray-900 bg-white\"\n                                                placeholder=\"0.00\"\n                                                value={formData.price}\n                                                onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                                                required\n                                            />\n                                        </div>\n                                        <p className=\"text-xs text-gray-400 mt-1.5\">Cost of the blank item alone.</p>\n                                    </div>\n                                    <div className=\"p-4 bg-blue-50 rounded-xl border border-blue-100 text-sm\">\n                                        <p className=\"font-bold text-navy-900 mb-1\">Customer Pricing Model:</p>\n                                        <p className=\"text-gray-600\">Base Cost + (Placement Price Ã— Count) + Calculated GST</p>\n                                    </div>\n                                </div>\n\n                                {/* GST Configuration */}\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-100 pt-6\">\n                                    <div>\n                                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Base Product GST (%)</label>\n                                        <select\n                                            className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 outline-none font-bold text-gray-900 bg-white\"\n                                            value={formData.personalization.gst_percent ?? 12}\n                                            onChange={(e) => setFormData({\n                                                ...formData,\n                                                personalization: { ...formData.personalization, gst_percent: Number(e.target.value) }\n                                            })}\n                                        >\n                                            <option value=\"0\">0% (Exempt)</option>\n                                            <option value=\"5\">5% (Apparel)</option>\n                                            <option value=\"12\">12% (Apparel &gt; 1000)</option>\n                                            <option value=\"18\">18%</option>\n                                            <option value=\"28\">28%</option>\n                                        </select>\n                                    </div>\n                                    <div>\n                                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Print Service GST (%)</label>\n                                        <select\n                                            className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 outline-none font-bold text-gray-900 bg-white\"\n                                            value={formData.personalization.print_gst_percent ?? 18}\n                                            onChange={(e) => setFormData({\n                                                ...formData,\n                                                personalization: { ...formData.personalization, print_gst_percent: Number(e.target.value) }\n                                            })}\n                                        >\n                                            <option value=\"0\">0%</option>\n                                            <option value=\"5\">5%</option>\n                                            <option value=\"12\">12%</option>\n                                            <option value=\"18\">18% (Service)</option>\n                                            <option value=\"28\">28%</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Images */}\n                            <div className=\"space-y-4\">\n                                <label className=\"block text-sm font-bold text-gray-700 mb-1\">Base Product Images</label>\n                                <p className=\"text-xs text-gray-400 mb-3\">Upload clean blank product images (no designs). First image is default.</p>\n\n                                <div className=\"flex gap-2\">\n                                    <input\n                                        type=\"url\"\n                                        className=\"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors bg-white text-gray-900\"\n                                        placeholder=\"https://... (Paste Image URL)\"\n                                        value={imageInput}\n                                        onChange={(e) => setImageInput(e.target.value)}\n                                        onKeyDown={(e) => { if (e.key === 'Enter') { e.preventDefault(); handleAddImage(); } }}\n                                    />\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleAddImage}\n                                        className=\"px-4 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors\"\n                                    >\n                                        Add\n                                    </button>\n                                </div>\n\n                                {formData.images.length > 0 ? (\n                                    <div className=\"grid grid-cols-3 md:grid-cols-5 gap-4 mt-2\">\n                                        {formData.images.map((img, idx) => (\n                                            <div key={idx} className=\"relative aspect-square rounded-lg overflow-hidden border border-gray-200 group\">\n                                                <Image src={img} alt=\"\" fill className=\"object-cover\" />\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={() => {\n                                                        const newImages = [...formData.images];\n                                                        newImages.splice(idx, 1);\n                                                        setFormData({ ...formData, images: newImages });\n                                                    }}\n                                                    className=\"absolute top-1 right-1 p-1 bg-red-500 text-white rounded shadow-sm opacity-0 group-hover:opacity-100 transition-opacity\"\n                                                >\n                                                    <Trash2 size={12} />\n                                                </button>\n                                                {idx === 0 && (\n                                                    <span className=\"absolute bottom-1 left-1 bg-black/60 text-white text-[10px] px-1.5 rounded font-bold\">MAIN</span>\n                                                )}\n                                            </div>\n                                        ))}\n                                    </div>\n                                ) : (\n                                    <div className=\"h-32 rounded-xl border-2 border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400\">\n                                        <ImageIcon size={32} className=\"mb-2 opacity-50\" />\n                                        <span className=\"text-sm\">No images added</span>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* FOOTER ACTIONS */}\n                <div className=\"sticky bottom-6 flex justify-end\">\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"bg-navy-900 text-white hover:bg-navy-800 font-bold py-4 px-12 rounded-full shadow-xl shadow-navy-900/20 transition-all hover:scale-105 disabled:opacity-70 flex items-center gap-3\"\n                    >\n                        {loading ? <Loader2 size={20} className=\"animate-spin\" /> : <Save size={20} />}\n                        Save Changes\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/new/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Check' is defined but never used.","line":5,"column":60,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":65,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Check"},"fix":{"range":[177,184],"text":""},"desc":"Remove unused variable \"Check\"."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`supabase` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/new/page.tsx:28:42\n  26 |         const fetchResources = async () => {\n  27 |             // Fetch Categories\n> 28 |             const { data: cats } = await supabase.from('categories').select('id, name');\n     |                                          ^^^^^^^^ `supabase` accessed before it is declared\n  29 |             if (cats) {\n  30 |                 setCategories(cats);\n  31 |                 if (cats.length > 0) setFormData(prev => ({ ...prev, category_id: cats[0].id }));\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/new/page.tsx:81:5\n  79 |     const [categories, setCategories] = useState<{ id: string, name: string }[]>([]);\n  80 |\n> 81 |     const supabase = createBrowserClient(\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |         process.env.NEXT_PUBLIC_SUPABASE_URL!,\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 83 |         process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 84 |     );\n     | ^^^^^^^ `supabase` is declared here\n  85 |\n  86 |     // Helpers\n  87 |     const toggleArrayItem = (array: string[], item: string) => {","line":28,"column":42,"nodeType":null,"endLine":28,"endColumn":50},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`setCategories` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/new/page.tsx:30:17\n  28 |             const { data: cats } = await supabase.from('categories').select('id, name');\n  29 |             if (cats) {\n> 30 |                 setCategories(cats);\n     |                 ^^^^^^^^^^^^^ `setCategories` accessed before it is declared\n  31 |                 if (cats.length > 0) setFormData(prev => ({ ...prev, category_id: cats[0].id }));\n  32 |             }\n  33 |         };\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/new/page.tsx:79:24\n  77 |     const [imageInput, setImageInput] = useState('');\n  78 |     const [customColor, setCustomColor] = useState(''); // New State for Custom Color\n> 79 |     const [categories, setCategories] = useState<{ id: string, name: string }[]>([]);\n     |                        ^^^^^^^^^^^^^ `setCategories` is declared here\n  80 |\n  81 |     const supabase = createBrowserClient(\n  82 |         process.env.NEXT_PUBLIC_SUPABASE_URL!,","line":30,"column":17,"nodeType":null,"endLine":30,"endColumn":30},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`setFormData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/new/page.tsx:31:38\n  29 |             if (cats) {\n  30 |                 setCategories(cats);\n> 31 |                 if (cats.length > 0) setFormData(prev => ({ ...prev, category_id: cats[0].id }));\n     |                                      ^^^^^^^^^^^ `setFormData` accessed before it is declared\n  32 |             }\n  33 |         };\n  34 |         fetchResources();\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/new/page.tsx:39:22\n  37 |     const toggleSection = (key: keyof typeof sections) => setSections(prev => ({ ...prev, [key]: !prev[key] }));\n  38 |\n> 39 |     const [formData, setFormData] = useState({\n     |                      ^^^^^^^^^^^ `setFormData` is declared here\n  40 |         name: '', // Internal Admin Name\n  41 |\n  42 |         // Taxonomy Selections","line":31,"column":38,"nodeType":null,"endLine":31,"endColumn":49},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":35,"column":8,"nodeType":"ArrayExpression","endLine":35,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1286,1288],"text":"[supabase]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'categories' is assigned a value but never used.","line":79,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":79,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":86,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":89,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3294,3297],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3294,3297],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":251,"column":85,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":251,"endColumn":88,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10571,10574],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10571,10574],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":270,"column":34,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":270,"endColumn":50,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[11755,11771],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":271,"column":88,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":271,"endColumn":91,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11860,11863],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11860,11863],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":279,"column":49,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":279,"endColumn":62,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[12582,12595],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":284,"column":46,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":284,"endColumn":62,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[13002,13018],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":285,"column":100,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":285,"endColumn":103,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13119,13122],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13119,13122],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":299,"column":153,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":299,"endColumn":156,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14277,14280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14277,14280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":302,"column":49,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":302,"endColumn":62,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[14471,14484],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":305,"column":49,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":305,"endColumn":62,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[14689,14702],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { ArrowLeft, Save, Loader2, ChevronDown, ChevronUp, Check, AlertTriangle, Image as ImageIcon, Trash2 } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { PERSONALIZATION_TAXONOMY, SUPPORTED_GENDERS, Gender, PrintTypeConfig, PlacementConfig, PREDEFINED_COLORS, PREDEFINED_SIZES, PLACEMENTS, PRINT_TYPES } from '@/lib/personalization';\n\n\n\nexport default function AddPersonalizationProductPage() {\n    const router = useRouter();\n    const [loading, setLoading] = useState(false);\n\n    // Collapsible Sections State\n    const [sections, setSections] = useState({\n        identity: true,\n        customization: true,\n        printing: true,\n        pricing: true\n    });\n\n    useEffect(() => {\n        const fetchResources = async () => {\n            // Fetch Categories\n            const { data: cats } = await supabase.from('categories').select('id, name');\n            if (cats) {\n                setCategories(cats);\n                if (cats.length > 0) setFormData(prev => ({ ...prev, category_id: cats[0].id }));\n            }\n        };\n        fetchResources();\n    }, []);\n\n    const toggleSection = (key: keyof typeof sections) => setSections(prev => ({ ...prev, [key]: !prev[key] }));\n\n    const [formData, setFormData] = useState({\n        name: '', // Internal Admin Name\n\n        // Taxonomy Selections\n        category_group: 'Apparel', // Top Level (Clothing, Accessories...)\n        subcategory_group: 'Men', // Secondary (Men, Women.. for Clothing only)\n        product_type: 'Classic Crew T-Shirt', // Specific Base Type\n\n        description: '', // Optional\n        price: '', // Base Price\n        category_id: '', // Database Category ID (Still needed for legacy/schema reasons)\n\n        images: [] as string[],\n\n        // Customization Rules\n        personalization: {\n            enabled: true,\n            colors: [] as string[],\n            sizes: [] as string[],\n            print_types: {} as Record<string, PrintTypeConfig>,\n            placements: {} as Record<string, PlacementConfig>,\n\n            // Tax Configuration\n            gst_percent: 12, // Base Product Tax (Apparel default)\n            print_gst_percent: 18, // Customization Service Tax\n\n\n            // New Gender Logic\n            gender_supported: [] as Gender[],\n\n            image_requirements: {\n                min_dpi: 300,\n                max_size_mb: 20,\n                allowed_formats: ['png', 'jpg', 'pdf']\n            }\n        }\n    });\n\n    const [imageInput, setImageInput] = useState('');\n    const [customColor, setCustomColor] = useState(''); // New State for Custom Color\n    const [categories, setCategories] = useState<{ id: string, name: string }[]>([]);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    // Helpers\n    const toggleArrayItem = (array: string[], item: string) => {\n        return array.includes(item) ? array.filter(i => i !== item) : [...array, item];\n    };\n\n    const updatePlacement = (placement: string, field: keyof PlacementConfig, value: any) => {\n        const current = formData.personalization.placements[placement] || { enabled: false, price: 199, max_width: 10, max_height: 10 };\n\n        if (field === 'enabled' && value === false) {\n            // Remove if disabled\n            const newPlacements = { ...formData.personalization.placements };\n            delete newPlacements[placement];\n            setFormData({\n                ...formData,\n                personalization: { ...formData.personalization, placements: newPlacements }\n            });\n            return;\n        }\n\n        const updated = { ...current, [field]: value, enabled: true };\n        setFormData({\n            ...formData,\n            personalization: {\n                ...formData.personalization,\n                placements: { ...formData.personalization.placements, [placement]: updated }\n            }\n        });\n    };\n\n    const handleAddImage = () => {\n        if (!imageInput.trim()) return;\n        setFormData({ ...formData, images: [...formData.images, imageInput.trim()] });\n        setImageInput('');\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n\n        const { name, price, product_type, personalization, images } = formData;\n\n        if (!name || !price) {\n            alert('Please complete Section 1 & 4 (Name & Price).');\n            setLoading(false);\n            return;\n        }\n\n        if (personalization.colors.length === 0) {\n            alert('Please select at least one color in Section 2.');\n            setLoading(false);\n            return;\n        }\n\n        if (Object.keys(personalization.placements).length === 0) {\n            alert('Please enable at least one print placement in Section 3.');\n            setLoading(false);\n            return;\n        }\n\n        // Taxonomy Sync: Ensure Category exists\n        let resolvedCategoryId = formData.category_id;\n\n        // If not manually selected, try to find a category matching the Group (e.g. 'Clothing')\n        if (!resolvedCategoryId) {\n            const { data: existing } = await supabase.from('categories')\n                .select('id')\n                .ilike('name', formData.category_group)\n                .maybeSingle();\n\n            if (existing) {\n                resolvedCategoryId = existing.id;\n            } else {\n                // Auto-create category for the new taxonomy\n                const slug = formData.category_group.toLowerCase().replace(/[^a-z0-9]+/g, '-');\n                const { data: newCat, error: catError } = await supabase.from('categories').insert({\n                    name: formData.category_group,\n                    slug: slug,\n                    description: `All ${formData.category_group} products`,\n                    image: 'https://placehold.co/500x500/png?text=' + formData.category_group\n                }).select().single();\n\n                if (catError) {\n                    console.error('Category Auto-Create Error:', catError);\n                    alert('Failed to initialize category: ' + catError.message);\n                    setLoading(false);\n                    return;\n                }\n                resolvedCategoryId = newCat.id;\n            }\n        }\n\n        // Generate Slug\n        const slug = name.toLowerCase()\n            .replace(/[^a-z0-9]+/g, '-')\n            .replace(/(^-|-$)/g, '') + '-' + Date.now();\n\n        // Insert Product\n        const { error } = await supabase.from('products').insert({\n            name: name, // Internal Name\n            slug: slug,\n            description: formData.description,\n            price: parseFloat(price),\n            category_id: resolvedCategoryId,\n            images: images.length > 0 ? images : ['https://placehold.co/600x600/png?text=Base'],\n            metadata: {\n                type: 'personalization_base',\n                product_type: product_type,\n                gender_supported: personalization.gender_supported,\n                personalization: personalization\n            }\n        });\n\n        if (error) {\n            console.error('Insert Error:', JSON.stringify(error, null, 2));\n            console.log('Payload:', {\n                name, price, personalization // partial log\n            });\n            alert('Failed to create base product: ' + (error.message || JSON.stringify(error)));\n        } else {\n            router.push('/admin/personalization');\n            router.refresh();\n        }\n        setLoading(false);\n    };\n\n    const isApparel = formData.category_group === 'Apparel';\n\n    return (\n        <div className=\"max-w-4xl mx-auto pb-32\">\n            {/* Header */}\n            <div className=\"mb-8 pt-4\">\n                <Link href=\"/admin/personalization\" className=\"text-gray-500 hover:text-navy-900 transition-colors flex items-center gap-1 mb-4 text-sm font-bold\">\n                    <ArrowLeft size={16} /> Back to Dashboard\n                </Link>\n                <div className=\"flex items-center justify-between\">\n                    <div>\n                        <h1 className=\"text-3xl font-black text-gray-900 tracking-tight\">New Base Product</h1>\n                        <p className=\"text-gray-500 mt-1\">Define a blank printable surface and its rules.</p>\n                    </div>\n                </div>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n\n                {/* SECTION 1: IDENTITY */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('identity')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm\">1</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Base Product Identity</h2>\n                        </div>\n                        {sections.identity ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.identity && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-6 animate-in slide-in-from-top-2\">\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                {/* CATEGORY GROUP (Top Level) */}\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Category Group *</label>\n                                    <select\n                                        className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                        value={formData.category_group}\n                                        onChange={(e) => {\n                                            const newGroup = e.target.value;\n                                            const tax = PERSONALIZATION_TAXONOMY as any;\n                                            const firstSub = tax[newGroup]?.subcategories?.[0] || '';\n                                            const types = tax[newGroup]?.types;\n                                            const firstType = Array.isArray(types) ? types[0] : (types?.[firstSub]?.[0] || '');\n\n                                            setFormData({\n                                                ...formData,\n                                                category_group: newGroup,\n                                                subcategory_group: firstSub,\n                                                product_type: firstType,\n                                                category_id: ''\n                                            });\n                                        }}\n                                    >\n                                        {Object.keys(PERSONALIZATION_TAXONOMY).map(k => <option key={k} value={k}>{k}</option>)}\n                                    </select>\n                                </div>\n\n                                {/* SUBCATEGORY (If Applicable, e.g. Men/Women) */}\n                                {/* @ts-ignore */}\n                                {(PERSONALIZATION_TAXONOMY[formData.category_group] as any)?.subcategories && (\n                                    <div>\n                                        <label className=\"block text-sm font-bold text-gray-700 mb-2\">Sub-Category *</label>\n                                        <select\n                                            className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                            value={formData.subcategory_group}\n                                            onChange={(e) => {\n                                                const newSub = e.target.value;\n                                                // @ts-ignore\n                                                const firstType = PERSONALIZATION_TAXONOMY[formData.category_group].types[newSub]?.[0] || '';\n                                                setFormData({ ...formData, subcategory_group: newSub, product_type: firstType });\n                                            }}\n                                        >\n                                            {/* @ts-ignore */}\n                                            {(PERSONALIZATION_TAXONOMY[formData.category_group] as any).subcategories.map((s: string) => <option key={s} value={s}>{s}</option>)}\n                                        </select>\n                                    </div>\n                                )}\n\n                                {/* BASE PRODUCT TYPE (Specific) */}\n                                <div className=\"col-span-1 md:col-span-2\">\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Base Product Type *</label>\n                                    <select\n                                        className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                        value={formData.product_type}\n                                        onChange={(e) => setFormData({ ...formData, product_type: e.target.value })}\n                                    >\n                                        {(() => {\n                                            const group = PERSONALIZATION_TAXONOMY[formData.category_group as keyof typeof PERSONALIZATION_TAXONOMY] as any;\n                                            let types: string[] = [];\n                                            if (group.subcategories) {\n                                                // @ts-ignore\n                                                types = group.types[formData.subcategory_group] || [];\n                                            } else {\n                                                // @ts-ignore\n                                                types = group.types || [];\n                                            }\n                                            return types.map(t => <option key={t} value={t}>{t}</option>);\n                                        })()}\n                                    </select>\n                                    <p className=\"text-xs text-gray-400 mt-1.5\">Determines available size options and placement defaults.</p>\n                                </div>\n\n                                {/* GENDER SUPPORTED (Multi-Select) */}\n                                <div className=\"col-span-1 md:col-span-2 bg-blue-50 p-4 rounded-xl border border-blue-100\">\n                                    <label className=\"block text-sm font-bold text-navy-900 mb-2\">Supported Genders (Visibility) *</label>\n                                    <p className=\"text-xs text-gray-500 mb-3\">Select where this product should appear in the shop. (e.g. Unisex appears in Men & Women)</p>\n                                    <div className=\"flex gap-4\">\n                                        {SUPPORTED_GENDERS.map(g => (\n                                            <label key={g} className=\"flex items-center gap-2 cursor-pointer\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className=\"w-4 h-4 rounded border-gray-300 text-navy-900 focus:ring-navy-900\"\n                                                    checked={formData.personalization.gender_supported.includes(g)}\n                                                    onChange={(e) => {\n                                                        const checked = e.target.checked;\n                                                        setFormData(prev => {\n                                                            const current = prev.personalization.gender_supported;\n                                                            return {\n                                                                ...prev,\n                                                                personalization: {\n                                                                    ...prev.personalization,\n                                                                    gender_supported: checked\n                                                                        ? [...current, g]\n                                                                        : current.filter(x => x !== g)\n                                                                }\n                                                            };\n                                                        });\n                                                    }}\n                                                />\n                                                <span className=\"capitalize font-bold text-gray-700\">{g}</span>\n                                            </label>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Internal Name *</label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                        placeholder=\"e.g. Plain Classic Crew T-Shirt (Base)\"\n                                        value={formData.name}\n                                        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                                        required\n                                    />\n                                    <p className=\"text-xs text-gray-400 mt-1.5\">Used internally to identify this blank stock.</p>\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Description (Optional)</label>\n                                    <textarea\n                                        className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 focus:ring-1 focus:ring-navy-900 outline-none transition-all bg-white text-gray-900\"\n                                        rows={3}\n                                        placeholder=\"Details about material, fit, etc.\"\n                                        value={formData.description}\n                                        onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* SECTION 2: CUSTOMIZATION */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('customization')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm\">2</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Customization Rules</h2>\n                        </div>\n                        {sections.customization ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.customization && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-8 animate-in slide-in-from-top-2\">\n\n                            {/* Colors */}\n                            <div>\n                                <h3 className=\"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2\">\n                                    Available Colors <span className=\"text-red-500\">*</span>\n                                    <span className=\"text-xs font-normal text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full\">Select at least one</span>\n                                </h3>\n                                <div className=\"flex flex-wrap gap-3 mb-4\">\n                                    {PREDEFINED_COLORS.map(color => {\n                                        const isSelected = formData.personalization.colors.includes(color);\n                                        return (\n                                            <label key={color} className={`cursor-pointer px-4 py-2 rounded-lg border transition-all flex items-center gap-2 ${isSelected ? 'bg-navy-900 text-white border-navy-900' : 'bg-white text-gray-600 border-gray-200 hover:border-gray-300'\n                                                }`}>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className=\"hidden\"\n                                                    checked={isSelected}\n                                                    onChange={() => setFormData({\n                                                        ...formData,\n                                                        personalization: {\n                                                            ...formData.personalization,\n                                                            colors: toggleArrayItem(formData.personalization.colors, color)\n                                                        }\n                                                    })}\n                                                />\n                                                <div className={`w-3 h-3 rounded-full border border-black/10`} style={{ backgroundColor: color.toLowerCase() }} />\n                                                <span className=\"font-bold text-sm\">{color}</span>\n                                            </label>\n                                        );\n                                    })}\n                                    {/* Selected Custom Colors */}\n                                    {formData.personalization.colors.filter(c => !PREDEFINED_COLORS.includes(c)).map(color => (\n                                        <label key={color} className=\"cursor-pointer px-4 py-2 rounded-lg border bg-navy-900 text-white border-navy-900 transition-all flex items-center gap-2\">\n                                            <input\n                                                type=\"checkbox\"\n                                                className=\"hidden\"\n                                                checked={true}\n                                                onChange={() => setFormData({\n                                                    ...formData,\n                                                    personalization: {\n                                                        ...formData.personalization,\n                                                        colors: formData.personalization.colors.filter(c => c !== color)\n                                                    }\n                                                })}\n                                            />\n                                            <div className=\"w-3 h-3 rounded-full border border-white/20 bg-white\" />\n                                            <span className=\"font-bold text-sm\">{color}</span>\n                                        </label>\n                                    ))}\n                                </div>\n\n                                {/* Add Custom Color Input */}\n                                <div className=\"flex items-center gap-2 max-w-sm\">\n                                    <input\n                                        type=\"text\"\n                                        className=\"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 text-sm bg-white text-gray-900\"\n                                        placeholder=\"Add Custom Color (e.g. Teal)\"\n                                        value={customColor}\n                                        onChange={(e) => setCustomColor(e.target.value)}\n                                        onKeyDown={(e) => {\n                                            if (e.key === 'Enter') {\n                                                e.preventDefault();\n                                                if (customColor.trim()) {\n                                                    setFormData({\n                                                        ...formData,\n                                                        personalization: {\n                                                            ...formData.personalization,\n                                                            colors: [...formData.personalization.colors, customColor.trim()]\n                                                        }\n                                                    });\n                                                    setCustomColor('');\n                                                }\n                                            }\n                                        }}\n                                    />\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => {\n                                            if (customColor.trim()) {\n                                                setFormData({\n                                                    ...formData,\n                                                    personalization: {\n                                                        ...formData.personalization,\n                                                        colors: [...formData.personalization.colors, customColor.trim()]\n                                                    }\n                                                });\n                                                setCustomColor('');\n                                            }\n                                        }}\n                                        className=\"px-4 py-2 bg-gray-100 font-bold text-gray-600 rounded-lg hover:bg-gray-200 text-sm\"\n                                    >\n                                        Add\n                                    </button>\n                                </div>\n                            </div>\n\n                            {/* Sizes (Conditional) */}\n                            {isApparel && (\n                                <div className=\"p-4 bg-gray-50 rounded-xl border border-gray-200\">\n                                    <h3 className=\"text-sm font-bold text-gray-900 mb-3\">Available Sizes</h3>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {PREDEFINED_SIZES.map(size => {\n                                            const isSelected = formData.personalization.sizes.includes(size);\n                                            return (\n                                                <label key={size} className={`cursor-pointer px-3 h-10 flex items-center justify-center rounded-lg border transition-all text-sm font-bold min-w-[3rem] ${isSelected ? 'bg-navy-900 text-white border-navy-900' : 'bg-white text-gray-500 border-gray-200 hover:border-gray-300'\n                                                    }`}>\n                                                    <input\n                                                        type=\"checkbox\"\n                                                        className=\"hidden\"\n                                                        checked={isSelected}\n                                                        onChange={() => setFormData({\n                                                            ...formData,\n                                                            personalization: {\n                                                                ...formData.personalization,\n                                                                sizes: toggleArrayItem(formData.personalization.sizes, size)\n                                                            }\n                                                        })}\n                                                    />\n                                                    {size}\n                                                </label>\n                                            );\n                                        })}\n                                    </div>\n                                    <p className=\"text-xs text-gray-500 mt-2\">Sizes shown to customer on personalization page.</p>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </div>\n\n                {/* SECTION 3: PRINTING RULES */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('printing')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center font-bold text-sm\">3</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Printing Rules</h2>\n                        </div>\n                        {sections.printing ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.printing && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-8 animate-in slide-in-from-top-2\">\n\n                            {/* Print Methods */}\n                            <div>\n                                <h3 className=\"text-sm font-bold text-gray-900 mb-3\">Supported Print Methods</h3>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    {PRINT_TYPES.map(type => {\n                                        const config = formData.personalization.print_types[type] || { enabled: false, price: 50 };\n\n                                        return (\n                                            <div key={type} className={`rounded-xl border transition-all ${config.enabled ? 'bg-white border-amber-200 shadow-sm ring-1 ring-amber-100' : 'bg-gray-50 border-gray-100 opacity-70 hover:opacity-100'}`}>\n                                                <div className=\"p-4 flex items-center justify-between\">\n                                                    <label className=\"flex items-center gap-3 cursor-pointer\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            className=\"w-5 h-5 rounded border-gray-300 text-amber-600 focus:ring-amber-600\"\n                                                            checked={config.enabled}\n                                                            onChange={(e) => {\n                                                                const isEnabled = e.target.checked;\n                                                                if (!isEnabled) {\n                                                                    const newTypes = { ...formData.personalization.print_types };\n                                                                    delete newTypes[type];\n                                                                    setFormData({\n                                                                        ...formData,\n                                                                        personalization: { ...formData.personalization, print_types: newTypes }\n                                                                    });\n                                                                } else {\n                                                                    setFormData({\n                                                                        ...formData,\n                                                                        personalization: {\n                                                                            ...formData.personalization,\n                                                                            print_types: {\n                                                                                ...formData.personalization.print_types,\n                                                                                [type]: { enabled: true, price: config.price }\n                                                                            }\n                                                                        }\n                                                                    });\n                                                                }\n                                                            }}\n                                                        />\n                                                        <span className={`font-bold ${config.enabled ? 'text-gray-900' : 'text-gray-500'}`}>{type}</span>\n                                                    </label>\n                                                </div>\n\n                                                {config.enabled && (\n                                                    <div className=\"p-4 pt-0 border-t border-amber-50 mt-1\">\n                                                        <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Surcharge (Per Print)</label>\n                                                        <div className=\"relative\">\n                                                            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs\">â‚¹</span>\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"w-full pl-6 pr-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-amber-50/30 border-amber-100 focus:outline-none focus:border-amber-300\"\n                                                                value={config.price}\n                                                                onChange={(e) => setFormData({\n                                                                    ...formData,\n                                                                    personalization: {\n                                                                        ...formData.personalization,\n                                                                        print_types: {\n                                                                            ...formData.personalization.print_types,\n                                                                            [type]: { ...config, price: parseFloat(e.target.value) || 0 }\n                                                                        }\n                                                                    }\n                                                                })}\n                                                            />\n                                                        </div>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n\n                            {/* Placements */}\n                            <div className=\"space-y-4\">\n                                <h3 className=\"text-sm font-bold text-gray-900 flex items-center justify-between\">\n                                    Placements & Dimensions\n                                    <span className=\"text-xs font-normal text-gray-400\">Configure enabled areas</span>\n                                </h3>\n\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    {PLACEMENTS.map(placement => {\n                                        const config = formData.personalization.placements[placement]; // may be undefined\n                                        const isEnabled = !!config && config.enabled;\n\n                                        return (\n                                            <div key={placement} className={`rounded-xl border transition-all ${isEnabled ? 'bg-white border-blue-200 shadow-sm ring-1 ring-blue-100' : 'bg-gray-50 border-gray-100 opacity-70 hover:opacity-100'}`}>\n\n                                                {/* Header / Toggle */}\n                                                <div className=\"p-4 flex items-center justify-between\">\n                                                    <label className=\"flex items-center gap-3 cursor-pointer\">\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            className=\"w-5 h-5 rounded border-gray-300 text-navy-900 focus:ring-navy-900\"\n                                                            checked={isEnabled}\n                                                            onChange={(e) => updatePlacement(placement, 'enabled', e.target.checked)}\n                                                        />\n                                                        <span className={`font-bold ${isEnabled ? 'text-navy-900' : 'text-gray-500'}`}>{placement}</span>\n                                                    </label>\n                                                    {isEnabled && (\n                                                        <span className=\"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded\">Active</span>\n                                                    )}\n                                                </div>\n\n                                                {/* Details (Expanded) */}\n                                                {isEnabled && (\n                                                    <div className=\"p-4 pt-0 grid grid-cols-2 gap-3 border-t border-blue-50 mt-2\">\n                                                        <div>\n                                                            <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Max Width (in)</label>\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"w-full px-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-white\"\n                                                                value={isNaN(config.max_width) ? '' : config.max_width}\n                                                                onChange={(e) => updatePlacement(placement, 'max_width', parseFloat(e.target.value))}\n                                                            />\n                                                        </div>\n                                                        <div>\n                                                            <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Max Height (in)</label>\n                                                            <input\n                                                                type=\"number\"\n                                                                className=\"w-full px-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-white\"\n                                                                value={isNaN(config.max_height) ? '' : config.max_height}\n                                                                onChange={(e) => updatePlacement(placement, 'max_height', parseFloat(e.target.value))}\n                                                            />\n                                                        </div>\n                                                        <div className=\"col-span-2\">\n                                                            <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-1\">Print Price (â‚¹)</label>\n                                                            <div className=\"relative\">\n                                                                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs\">â‚¹</span>\n                                                                <input\n                                                                    type=\"number\"\n                                                                    className=\"w-full pl-6 pr-2 py-1.5 border border-gray-200 rounded text-sm font-bold text-gray-900 bg-green-50/30 border-green-100\"\n                                                                    value={isNaN(config.price) ? '' : config.price}\n                                                                    onChange={(e) => updatePlacement(placement, 'price', parseFloat(e.target.value))}\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n\n                            {/* Global Limits */}\n                            <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-200 text-sm text-gray-600\">\n                                <h4 className=\"font-bold text-gray-900 mb-2 flex items-center gap-2\">\n                                    <AlertTriangle size={14} className=\"text-amber-500\" />\n                                    Global Image Rules\n                                </h4>\n                                <ul className=\"list-disc list-inside space-y-1 text-xs\">\n                                    <li>Min DPI: <strong>300</strong> (Hard validation)</li>\n                                    <li>Allowed Specs: <strong>PNG, JPG, PDF</strong> (Max 20MB)</li>\n                                </ul>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* SECTION 4: PRICING & ASSETS */}\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <button type=\"button\" onClick={() => toggleSection('pricing')} className=\"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold text-sm\">4</div>\n                            <h2 className=\"text-lg font-bold text-gray-900\">Pricing & Assets</h2>\n                        </div>\n                        {sections.pricing ? <ChevronUp size={20} className=\"text-gray-400\" /> : <ChevronDown size={20} className=\"text-gray-400\" />}\n                    </button>\n\n                    {sections.pricing && (\n                        <div className=\"p-6 border-t border-gray-100 space-y-8 animate-in slide-in-from-top-2\">\n\n                            {/* Price */}\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Base Product Cost (â‚¹) *</label>\n                                    <div className=\"relative\">\n                                        <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold\">â‚¹</span>\n                                        <input\n                                            type=\"number\"\n                                            className=\"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:border-navy-900 outline-none font-bold text-lg text-gray-900 bg-white\"\n                                            placeholder=\"0.00\"\n                                            value={formData.price}\n                                            onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                                            required\n                                        />\n                                    </div>\n                                    <p className=\"text-xs text-gray-400 mt-1.5\">Cost of the blank item alone.</p>\n                                </div>\n                                <div className=\"p-4 bg-blue-50 rounded-xl border border-blue-100 text-sm\">\n                                    <p className=\"font-bold text-navy-900 mb-1\">Customer Pricing Model:</p>\n                                    <p className=\"text-gray-600\">Base Cost + (Placement Price Ã— Count) + 18% GST</p>\n                                </div>\n                            </div>\n\n                            {/* Images */}\n                            <div className=\"space-y-4\">\n                                <label className=\"block text-sm font-bold text-gray-700 mb-1\">Base Product Images</label>\n                                <p className=\"text-xs text-gray-400 mb-3\">Upload clean blank product images (no designs). First image is default.</p>\n\n                                <div className=\"flex gap-2\">\n                                    <input\n                                        type=\"url\"\n                                        className=\"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors bg-white text-gray-900\"\n                                        placeholder=\"https://... (Paste Image URL)\"\n                                        value={imageInput}\n                                        onChange={(e) => setImageInput(e.target.value)}\n                                        onKeyDown={(e) => { if (e.key === 'Enter') { e.preventDefault(); handleAddImage(); } }}\n                                    />\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleAddImage}\n                                        className=\"px-4 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors\"\n                                    >\n                                        Add\n                                    </button>\n                                </div>\n\n                                {formData.images.length > 0 ? (\n                                    <div className=\"grid grid-cols-3 md:grid-cols-5 gap-4 mt-2\">\n                                        {formData.images.map((img, idx) => (\n                                            <div key={idx} className=\"relative aspect-square rounded-lg overflow-hidden border border-gray-200 group\">\n                                                <Image src={img} alt=\"\" fill className=\"object-cover\" />\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={() => {\n                                                        const newImages = [...formData.images];\n                                                        newImages.splice(idx, 1);\n                                                        setFormData({ ...formData, images: newImages });\n                                                    }}\n                                                    className=\"absolute top-1 right-1 p-1 bg-red-500 text-white rounded shadow-sm opacity-0 group-hover:opacity-100 transition-opacity\"\n                                                >\n                                                    <Trash2 size={12} />\n                                                </button>\n                                                {idx === 0 && (\n                                                    <span className=\"absolute bottom-1 left-1 bg-black/60 text-white text-[10px] px-1.5 rounded font-bold\">MAIN</span>\n                                                )}\n                                            </div>\n                                        ))}\n                                    </div>\n                                ) : (\n                                    <div className=\"h-32 rounded-xl border-2 border-dashed border-gray-200 flex flex-col items-center justify-center text-gray-400\">\n                                        <ImageIcon size={32} className=\"mb-2 opacity-50\" />\n                                        <span className=\"text-sm\">No images added</span>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* FOOTER ACTIONS */}\n                <div className=\"sticky bottom-6 flex justify-end\">\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"bg-navy-900 text-white hover:bg-navy-800 font-bold py-4 px-12 rounded-full shadow-xl shadow-navy-900/20 transition-all hover:scale-105 disabled:opacity-70 flex items-center gap-3\"\n                    >\n                        {loading ? <Loader2 size={20} className=\"animate-spin\" /> : <Save size={20} />}\n                        Save Base Product\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/page.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchProducts` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/page.tsx:37:9\n  35 |\n  36 |     useEffect(() => {\n> 37 |         fetchProducts();\n     |         ^^^^^^^^^^^^^ `fetchProducts` accessed before it is declared\n  38 |     }, []);\n  39 |\n  40 |     const fetchProducts = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/personalization/page.tsx:40:5\n  38 |     }, []);\n  39 |\n> 40 |     const fetchProducts = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 41 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 42 |         // Fetch ALL and filter on client is easiest for JSONB, \n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 59 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 60 |     };\n     | ^^^^^^^ `fetchProducts` is declared here\n  61 |\n  62 |     const handleDelete = async (id: string) => {\n  63 |         if (!confirm('Are you sure you want to delete this product base?')) return;","line":37,"column":9,"nodeType":null,"endLine":37,"endColumn":22},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchProducts'. Either include it or remove the dependency array.","line":38,"column":8,"nodeType":"ArrayExpression","endLine":38,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProducts]","fix":{"range":[1018,1020],"text":"[fetchProducts]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":130,"column":92,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5830,5883],"text":"Add a product and enable &quot;Personalization\" in config."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5830,5883],"text":"Add a product and enable &ldquo;Personalization\" in config."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5830,5883],"text":"Add a product and enable &#34;Personalization\" in config."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5830,5883],"text":"Add a product and enable &rdquo;Personalization\" in config."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":130,"column":108,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5830,5883],"text":"Add a product and enable \"Personalization&quot; in config."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5830,5883],"text":"Add a product and enable \"Personalization&ldquo; in config."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5830,5883],"text":"Add a product and enable \"Personalization&#34; in config."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5830,5883],"text":"Add a product and enable \"Personalization&rdquo; in config."},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Plus, Search, Filter, Edit, Trash2, Palette, Loader2 } from 'lucide-react';\nimport Link from 'next/link';\nimport Image from 'next/image';\n\ninterface Product {\n    id: string;\n    name: string;\n    price: number;\n    category_id: string;\n    images: string[];\n    description: string;\n    created_at: string;\n    metadata?: {\n        personalization?: {\n            enabled: boolean;\n            print_type?: string;\n        };\n        stock_status?: string;\n    };\n}\n\nexport default function AdminPersonalizationPage() {\n    const [products, setProducts] = useState<Product[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchProducts();\n    }, []);\n\n    const fetchProducts = async () => {\n        setLoading(true);\n        // Fetch ALL and filter on client is easiest for JSONB, \n        // OR use specific query if metadata is indexed. \n        // For now, client side filtering is reliable for small catalogs.\n        const { data, error } = await supabase\n            .from('products')\n            .select('*')\n            .order('created_at', { ascending: false });\n\n        if (error) {\n            console.error('Error fetching products:', error);\n        } else {\n            // Filter: Only products with personalization.enabled = true\n            const personalized = (data || []).filter((p: Product) =>\n                p.metadata?.personalization?.enabled === true\n            );\n            setProducts(personalized);\n        }\n        setLoading(false);\n    };\n\n    const handleDelete = async (id: string) => {\n        if (!confirm('Are you sure you want to delete this product base?')) return;\n\n        const { error } = await supabase.from('products').delete().eq('id', id);\n\n        if (error) {\n            console.error('Delete error:', error);\n            alert(`Failed to delete product: ${error.message}`);\n        } else {\n            setProducts(products.filter(p => p.id !== id));\n        }\n    };\n\n    const filteredProducts = products.filter(product =>\n        product.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                        <Palette className=\"text-coral-500\" />\n                        Personalization Products\n                    </h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Manage customizable product bases</p>\n                </div>\n                {/* \n                  Option 1: Link to generic 'Add Product' but instructed to enable personalization? \n                  Option 2: Special 'Add Personalizable' that auto-enables?\n                  Let's just link to standard Add for now, but maybe with a clear UI hint.\n                */}\n                <Link href=\"/admin/personalization/new\">\n                    <button className=\"bg-navy-900 dark:bg-coral-500 text-white hover:bg-navy-800 dark:hover:bg-coral-600 font-bold py-2.5 px-5 rounded-xl flex items-center gap-2 shadow-lg shadow-navy-900/20 dark:shadow-coral-500/20 transition-all\">\n                        <Plus size={20} />\n                        Add New Base\n                    </button>\n                </Link>\n            </div>\n\n            {/* Filters */}\n            <div className=\"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 flex flex-col md:flex-row gap-4\">\n                <div className=\"relative flex-1\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search base products...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        className=\"w-full pl-10 pr-4 py-2 bg-white dark:bg-white/5 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-coral-500 transition-colors placeholder-gray-500 dark:placeholder-gray-400\"\n                    />\n                </div>\n                <button className=\"px-4 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-300 font-bold rounded-lg hover:bg-gray-50 dark:hover:bg-white/10\">\n                    <Filter size={18} />\n                </button>\n            </div>\n\n            {/* Products Table */}\n            <div className=\"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden\">\n                {loading ? (\n                    <div className=\"p-12 flex flex-col items-center justify-center text-gray-400\">\n                        <Loader2 size={40} className=\"animate-spin mb-4 text-navy-900 dark:text-white\" />\n                        <p>Loading catalog...</p>\n                    </div>\n                ) : filteredProducts.length === 0 ? (\n                    <div className=\"p-12 text-center text-gray-400\">\n                        <Palette size={48} className=\"mx-auto mb-4 opacity-20\" />\n                        <p className=\"text-lg font-medium\">No personalizable products found</p>\n                        <p className=\"text-sm text-gray-400 mb-4\">Add a product and enable \"Personalization\" in config.</p>\n                        <Link href=\"/admin/products/new\" className=\"text-coral-500 hover:text-coral-600 font-bold inline-block\">\n                            Create Product\n                        </Link>\n                    </div>\n                ) : (\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-[#FAF9F7] dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs border-b border-gray-100 dark:border-white/5\">\n                                <tr>\n                                    <th className=\"px-6 py-4\">Product Base</th>\n                                    <th className=\"px-6 py-4\">Print Type</th>\n                                    <th className=\"px-6 py-4\">Base Price</th>\n                                    <th className=\"px-6 py-4\">Status</th>\n                                    <th className=\"px-6 py-4 text-right\">Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                                {filteredProducts.map((product) => (\n                                    <tr key={product.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors group\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"w-12 h-12 rounded-lg bg-gray-100 dark:bg-white/10 overflow-hidden border border-gray-200 dark:border-white/10 relative\">\n                                                    {product.images?.[0] ? (\n                                                        <Image\n                                                            src={product.images[0]}\n                                                            alt={product.name}\n                                                            fill\n                                                            className=\"object-cover\"\n                                                        />\n                                                    ) : (\n                                                        <div className=\"flex items-center justify-center w-full h-full text-gray-300\">\n                                                            <Palette size={20} />\n                                                        </div>\n                                                    )}\n                                                </div>\n                                                <div className=\"font-bold text-gray-900 dark:text-white\">{product.name}</div>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-gray-500 dark:text-gray-400\">\n                                            <span className=\"bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-1 rounded-md text-xs font-bold border border-purple-100 dark:border-purple-500/20\">\n                                                {product.metadata?.personalization?.print_type || 'Custom'}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 font-bold text-gray-900 dark:text-white\">\n                                            â‚¹{product.price}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-gray-500 dark:text-gray-400\">\n                                            <span className=\"text-green-600 dark:text-green-400 font-bold bg-green-50 dark:bg-green-900/30 px-2 py-1 rounded text-xs flex items-center gap-1 w-fit\">\n                                                <span className=\"w-2 h-2 rounded-full bg-green-500\" />\n                                                Active\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className=\"flex items-center justify-end gap-2\">\n                                                {/* Re-use standard edit page for now since it supports everything */}\n                                                <Link href={`/admin/personalization/${product.id}`}>\n                                                    <button className=\"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg transition-colors\">\n                                                        <Edit size={18} />\n                                                    </button>\n                                                </Link>\n                                                <button\n                                                    onClick={() => handleDelete(product.id)}\n                                                    className=\"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-colors\"\n                                                >\n                                                    <Trash2 size={18} />\n                                                </button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/production/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[569,572],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[569,572],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":100,"column":8,"nodeType":"ArrayExpression","endLine":100,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[3571,3573],"text":"[supabase]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":210,"column":53,"nodeType":"JSXOpeningElement","endLine":210,"endColumn":127}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Download, CheckCircle, Printer, Loader2 } from 'lucide-react';\nimport { format } from 'date-fns';\nimport JSZip from 'jszip';\nimport { saveAs } from 'file-saver';\nimport { useToast } from '@/context/ToastContext';\nimport Link from 'next/link';\n\n// Types\ninterface ProductionItem {\n    id: string; // order_item id\n    order_id: string;\n    product_name: string;\n    quantity: number;\n    size?: string;\n    image_url: string;\n    metadata?: any;\n    created_at: string;\n    order_status: string;\n    customer_name: string;\n}\n\nexport default function ProductionPage() {\n    const [items, setItems] = useState<ProductionItem[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [downloading, setDownloading] = useState(false);\n    const { addToast } = useToast();\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        const fetchProductionQueue = async () => {\n            setLoading(true);\n\n            // Fetch orders that are confirmed (processing or pending payment-paid)\n            // For simplicity, we fetch 'processing' status which usually means paid & ready.\n            // We might also want to include 'pending' if it's COD and verified. \n            // Let's stick to 'processing' for now as the \"Production Queue\".\n\n            const { data: orders, error: ordersError } = await supabase\n                .from('orders')\n                .select('id, created_at, status, shipping_address')\n                .in('status', ['processing', 'pending']) // Include pending for visibility, but maybe separate them\n                .order('created_at', { ascending: true });\n\n            if (ordersError) {\n                console.error('Error fetching orders:', ordersError);\n                setLoading(false);\n                return;\n            }\n\n            if (!orders || orders.length === 0) {\n                setItems([]);\n                setLoading(false);\n                return;\n            }\n\n            const orderIds = orders.map(o => o.id);\n\n            // Fetch Items for these orders\n            const { data: orderItems, error: itemsError } = await supabase\n                .from('order_items')\n                .select('*')\n                .in('order_id', orderIds);\n\n            if (itemsError) {\n                console.error('Error fetching items:', itemsError);\n                setLoading(false);\n                return;\n            }\n\n            // Map items to include order details\n            const productionItems: ProductionItem[] = orderItems.map(item => {\n                const order = orders.find(o => o.id === item.order_id);\n                return {\n                    id: item.id,\n                    order_id: item.order_id,\n                    product_name: item.name,\n                    quantity: item.quantity,\n                    size: item.size || item.metadata?.size,\n                    image_url: item.metadata?.image_url || item.image_url,\n                    metadata: item.metadata,\n                    created_at: order?.created_at,\n                    order_status: order?.status,\n                    customer_name: `${order?.shipping_address?.firstName} ${order?.shipping_address?.lastName}`\n                };\n            });\n\n            setItems(productionItems);\n            setLoading(false);\n        };\n\n        fetchProductionQueue();\n    }, []);\n\n    const handleDownloadAll = async () => {\n        if (items.length === 0) return;\n        setDownloading(true);\n        const zip = new JSZip();\n        let count = 0;\n\n        try {\n            const promises = items.map(async (item) => {\n                if (!item.image_url) return;\n\n                try {\n                    // Fetch image through proxy or directly if CORS allows\n                    // If CORS is an issue, we might need a server action or proxy. Usually Supabase storage is fine.\n                    const response = await fetch(item.image_url);\n                    const blob = await response.blob();\n\n                    // Filename: OrderID_ProductName_Size_Qty.png\n                    const safeName = item.product_name.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n                    const filename = `${item.order_id.slice(0, 5)}_${safeName}_${item.size || 'NA'}_${item.quantity}.png`;\n\n                    zip.file(filename, blob);\n                    count++;\n                } catch (err) {\n                    console.error(`Failed to download image for ${item.product_name}`, err);\n                }\n            });\n\n            await Promise.all(promises);\n\n            if (count > 0) {\n                const content = await zip.generateAsync({ type: 'blob' });\n                saveAs(content, `production_batch_${format(new Date(), 'yyyyMMdd_HHmm')}.zip`);\n                addToast(`Downloaded ${count} designs`, 'success');\n            } else {\n                addToast('No valid images found to download', 'info');\n            }\n\n        } catch (error) {\n            console.error('Error zipping files:', error);\n            addToast('Failed to create zip file', 'error');\n        } finally {\n            setDownloading(false);\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n                        <Printer size={24} className=\"text-navy-900\" />\n                        Production Queue\n                    </h1>\n                    <p className=\"text-gray-500 mt-1\">Manage print jobs and download design files for processing.</p>\n                </div>\n                <button\n                    onClick={handleDownloadAll}\n                    disabled={downloading || items.length === 0}\n                    className=\"flex items-center gap-2 px-5 py-2.5 bg-navy-900 text-white font-bold rounded-xl hover:bg-navy-800 transition-all shadow-lg shadow-navy-900/20 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                    {downloading ? (\n                        <>\n                            <Loader2 size={18} className=\"animate-spin\" /> Preparing Zip...\n                        </>\n                    ) : (\n                        <>\n                            <Download size={18} /> Download All Designs ({items.length})\n                        </>\n                    )}\n                </button>\n            </div>\n\n            {loading ? (\n                <div className=\"p-12 text-center text-gray-400\">Loading production queue...</div>\n            ) : items.length === 0 ? (\n                <div className=\"bg-white p-12 rounded-2xl border border-gray-100 text-center\">\n                    <CheckCircle size={48} className=\"text-green-500 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-bold text-gray-900\">All Caught Up!</h3>\n                    <p className=\"text-gray-500\">No orders currently waiting in the processing queue.</p>\n                </div>\n            ) : (\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-gray-50 text-gray-500 font-bold uppercase text-xs\">\n                                <tr>\n                                    <th className=\"px-6 py-4\">Order</th>\n                                    <th className=\"px-6 py-4\">Product Details</th>\n                                    <th className=\"px-6 py-4\">Print Spec</th>\n                                    <th className=\"px-6 py-4\">Customer</th>\n                                    <th className=\"px-6 py-4 text-center\">Qty</th>\n                                    <th className=\"px-6 py-4 text-right\">Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100\">\n                                {items.map((item) => (\n                                    <tr key={item.id} className=\"hover:bg-gray-50/50 transition-colors\">\n                                        <td className=\"px-6 py-4 font-bold text-gray-900\">\n                                            <Link href={`/admin/orders/${item.order_id}`} className=\"hover:text-blue-600 hover:underline\">\n                                                #{item.order_id.slice(0, 8)}\n                                            </Link>\n                                            <div className={`mt-1 text-xs px-2 py-0.5 rounded w-fit capitalize ${item.order_status === 'processing' ? 'bg-purple-100 text-purple-700' : 'bg-amber-100 text-amber-700'}`}>\n                                                {item.order_status}\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"w-10 h-10 bg-gray-100 rounded border border-gray-200 overflow-hidden relative group\">\n                                                    <img src={item.image_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                                                </div>\n                                                <div>\n                                                    <p className=\"font-medium text-gray-900\">{item.product_name}</p>\n                                                    <p className=\"text-gray-500 text-xs\">Size: {item.size || 'N/A'}</p>\n                                                </div>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            {/* Show print details if custom */}\n                                            {item.metadata?.is_custom ? (\n                                                <div className=\"text-xs\">\n                                                    <span className=\"font-bold\">Type:</span> {item.metadata.print_type}<br />\n                                                    <span className=\"font-bold\">Pos:</span> {item.metadata.placement}\n                                                </div>\n                                            ) : (\n                                                <span className=\"text-gray-400 text-xs italic\">Standard Item</span>\n                                            )}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-gray-600\">\n                                            {item.customer_name}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-center font-bold text-gray-900\">\n                                            {item.quantity}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            {item.image_url && (\n                                                <button\n                                                    onClick={(e) => {\n                                                        e.stopPropagation();\n                                                        const safeName = item.product_name.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n                                                        const filename = `${item.order_id.slice(0, 5)}_${safeName}_${item.size || 'NA'}_${item.quantity}.png`;\n                                                        fetch(item.image_url)\n                                                            .then(res => res.blob())\n                                                            .then(blob => saveAs(blob, filename))\n                                                            .catch(err => {\n                                                                console.error(err);\n                                                                addToast('Failed to download', 'error');\n                                                            });\n                                                    }}\n                                                    className=\"inline-flex items-center justify-center p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer border-none bg-transparent\"\n                                                    title=\"Download Design\"\n                                                >\n                                                    <Download size={18} />\n                                                </button>\n                                            )}\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/[id]/page.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchCategories` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/[id]/page.tsx:67:19\n  65 |     useEffect(() => {\n  66 |         const init = async () => {\n> 67 |             await fetchCategories();\n     |                   ^^^^^^^^^^^^^^^ `fetchCategories` accessed before it is declared\n  68 |             if (id) await fetchProduct(id);\n  69 |         };\n  70 |         init();\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/[id]/page.tsx:73:5\n  71 |     }, [id]);\n  72 |\n> 73 |     const fetchCategories = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 74 |         const { data } = await supabase.from('categories').select('id, name, parent_id');\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 75 |         if (data) setAllCategories(data);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 76 |     };\n     | ^^^^^^^ `fetchCategories` is declared here\n  77 |\n  78 |     const fetchProduct = async (productId: string) => {\n  79 |         setFetching(true);","line":67,"column":19,"nodeType":null,"endLine":67,"endColumn":34},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchProduct` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/[id]/page.tsx:68:27\n  66 |         const init = async () => {\n  67 |             await fetchCategories();\n> 68 |             if (id) await fetchProduct(id);\n     |                           ^^^^^^^^^^^^ `fetchProduct` accessed before it is declared\n  69 |         };\n  70 |         init();\n  71 |     }, [id]);\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/[id]/page.tsx:78:5\n   76 |     };\n   77 |\n>  78 |     const fetchProduct = async (productId: string) => {\n      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  79 |         setFetching(true);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  80 |         const { data, error } = await supabase\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 146 |         setFetching(false);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 147 |     };\n      | ^^^^^^^ `fetchProduct` is declared here\n  148 |\n  149 |     const handleAddColor = () => {\n  150 |         setFormData({","line":68,"column":27,"nodeType":null,"endLine":68,"endColumn":39},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchCategories' and 'fetchProduct'. Either include them or remove the dependency array.","line":71,"column":8,"nodeType":"ArrayExpression","endLine":71,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchCategories, fetchProduct, id]","fix":{"range":[1970,1974],"text":"[fetchCategories, fetchProduct, id]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":521,"column":85,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[25770,25791],"text":"It&apos;s a Pet Product ðŸ¾"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[25770,25791],"text":"It&lsquo;s a Pet Product ðŸ¾"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[25770,25791],"text":"It&#39;s a Pet Product ðŸ¾"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[25770,25791],"text":"It&rsquo;s a Pet Product ðŸ¾"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { ArrowLeft, Save, Loader2, Trash2 } from 'lucide-react';\nimport { useRouter, useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\n\ninterface Category {\n    id: string;\n    name: string;\n    parent_id?: string | null;\n}\n\nexport default function EditProductPage() {\n    const router = useRouter();\n    const params = useParams(); // Get [id] from URL\n    const id = params.id as string;\n\n    const [loading, setLoading] = useState(false);\n    const [fetching, setFetching] = useState(true);\n    const [allCategories, setAllCategories] = useState<Category[]>([]);\n\n    // UI Helper for Taxonomy\n    const [selectedParentId, setSelectedParentId] = useState('');\n\n    const [imageInput, setImageInput] = useState('');\n    const [formData, setFormData] = useState({\n        name: '',\n        description: '',\n        price: '',\n        compare_at_price: '',\n        category_id: '',\n        images: [] as string[],\n        is_featured: false,\n        gst_percent: '18', // Default\n\n\n        tags: '',\n        // Dynamic Fields\n        stock_status: 'in_stock',\n        colors: [] as { name: string; code: string }[],\n        sizes: '',\n        highlights: '',\n        material_care: '',\n        shipping_returns: '',\n        size_guide: '',\n\n        // Recommendation Engine Meta\n        is_pet: false,\n        gender: 'unisex',\n        gender_visibility: [] as string[],\n        product_type: '',\n        fit: 'regular',\n        style: 'minimal',\n        primary_color: ''\n    });\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        const init = async () => {\n            await fetchCategories();\n            if (id) await fetchProduct(id);\n        };\n        init();\n    }, [id]);\n\n    const fetchCategories = async () => {\n        const { data } = await supabase.from('categories').select('id, name, parent_id');\n        if (data) setAllCategories(data);\n    };\n\n    const fetchProduct = async (productId: string) => {\n        setFetching(true);\n        const { data, error } = await supabase\n            .from('products')\n            .select('*')\n            .eq('id', productId)\n            .single();\n\n        if (error || !data) {\n            console.error('Error fetching product:', error);\n            alert('Product not found or error loading data.');\n            router.push('/admin/products');\n            return;\n        }\n\n        // Logic to pre-fill the Parent Dropdown\n        // Find the category object for this product\n        // If it has a parent_id, that's our Department.\n        // If it DOESN'T (it is a root category), then use its own ID.\n        // But usually products are assigned to subcategories.\n        // We'll trust the 'allCategories' - BUT we need to wait for categories to load first? \n        // We are chaining await in useEffect, so categories should be loaded in state? \n        // Actually state might not update immediately in the closure. \n        // We will do a direct fetch here to be safe or rely on the fact that fetchCategories ran before.\n\n        // Let's re-fetch categories inside here to be safe or just use a helper. \n        // Actually we can just do a lookup if we have the list. \n        // Better: We see in useEffect we await fetchCategories THEN fetchProduct.\n        // Accessing 'categories' state here directly is risky because of closures if we defined it outside.\n        // But let's assume we can lookup. \n        // Actually, let's just fetch the category details for this product ID to get its parent_id.\n        const { data: catData } = await supabase.from('categories').select('parent_id').eq('id', data.category_id).single();\n        if (catData && catData.parent_id) {\n            setSelectedParentId(catData.parent_id);\n        } else {\n            // It might be a top level category or data missing.\n        }\n\n        const meta = data.metadata || {};\n\n        setFormData({\n            name: data.name,\n            description: data.description || '',\n            price: data.price.toString(),\n            compare_at_price: data.compare_at_price ? data.compare_at_price.toString() : '',\n            category_id: data.category_id,\n            images: data.images || [],\n            is_featured: meta.is_featured || false,\n            tags: meta.tags?.join(', ') || '',\n            // Load Dynamic Fields\n            stock_status: meta.stock_status || 'in_stock',\n            colors: meta.colors || [],\n            sizes: meta.sizes?.join(', ') || '',\n            highlights: meta.highlights?.join('\\n') || '',\n            material_care: meta.material_care || '',\n            shipping_returns: meta.shipping_returns || '',\n            size_guide: meta.size_guide || '',\n\n            // Load Engine Meta\n            is_pet: meta.is_pet || false,\n            gender: meta.gender || 'unisex',\n            gender_visibility: meta.gender_visibility || [meta.gender || 'unisex'], // Fallback\n            product_type: meta.product_type || '',\n            fit: meta.fit || 'regular',\n            style: meta.style || 'minimal',\n            primary_color: meta.primary_color || '',\n            gst_percent: meta.gst_percent ? String(meta.gst_percent) : '18'\n        });\n        setFetching(false);\n    };\n\n    const handleAddColor = () => {\n        setFormData({\n            ...formData,\n            colors: [...formData.colors, { name: 'New Color', code: '#000000' }]\n        });\n    };\n\n    const handleColorChange = (index: number, field: 'name' | 'code', value: string) => {\n        const newColors = [...formData.colors];\n        newColors[index] = { ...newColors[index], [field]: value };\n        setFormData({ ...formData, colors: newColors });\n    };\n\n    const handleRemoveColor = (index: number) => {\n        const newColors = [...formData.colors];\n        newColors.splice(index, 1);\n        setFormData({ ...formData, colors: newColors });\n    };\n\n    const handleAddImage = () => {\n        if (!imageInput.trim()) return;\n        setFormData({\n            ...formData,\n            images: [...formData.images, imageInput.trim()]\n        });\n        setImageInput('');\n    };\n\n    const handleRemoveImage = (index: number) => {\n        const newImages = [...formData.images];\n        newImages.splice(index, 1);\n        setFormData({ ...formData, images: newImages });\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n\n        // Validation\n        if (!formData.name || !formData.price || !formData.category_id) {\n            alert('Please fill in all required fields');\n            setLoading(false);\n            return;\n        }\n\n        const metadata = {\n            is_featured: formData.is_featured,\n            tags: formData.tags.split(',').map(t => t.trim()).filter(Boolean),\n            // Save Dynamic Fields\n            gst_percent: parseFloat(formData.gst_percent),\n            stock_status: formData.stock_status,\n            colors: formData.colors,\n            sizes: formData.sizes.split(',').map(s => s.trim()).filter(Boolean),\n            highlights: formData.highlights.split('\\n').filter(Boolean),\n            material_care: formData.material_care,\n            shipping_returns: formData.shipping_returns,\n            size_guide: formData.size_guide,\n\n            // Save Engine Meta\n            is_pet: formData.is_pet,\n            gender: formData.is_pet ? 'unisex' : formData.gender, // Keep legacy gender for safety\n            gender_visibility: formData.gender_visibility, // New visibility array\n            product_type: formData.is_pet ? (formData.product_type || 'pet_accessory') : formData.product_type,\n            fit: formData.is_pet ? 'regular' : formData.fit,\n            style: formData.is_pet ? 'recreational' : formData.style,\n            primary_color: formData.primary_color\n        };\n\n        const { error } = await supabase\n            .from('products')\n            .update({\n                name: formData.name,\n                description: formData.description,\n                price: parseFloat(formData.price),\n                compare_at_price: formData.compare_at_price ? parseFloat(formData.compare_at_price) : null,\n                category_id: formData.category_id,\n                images: formData.images,\n                metadata: metadata\n            })\n            .eq('id', id);\n\n        if (error) {\n            console.error('Error updating product:', error);\n            alert('Failed to update product: ' + error.message);\n        } else {\n            router.push('/admin/products');\n            router.refresh();\n        }\n        setLoading(false);\n    };\n\n    const handleDelete = async () => {\n        if (!confirm('Are you sure you want to delete this product? This cannot be undone.')) return;\n        setLoading(true);\n\n        const { error } = await supabase.from('products').delete().eq('id', id);\n\n        if (error) {\n            console.error('Delete Error:', error);\n            alert(`Failed to delete: ${error.message} (Code: ${error.code})`);\n            setLoading(false);\n        } else {\n            router.push('/admin/products');\n            router.refresh();\n        }\n    };\n\n    if (fetching) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center\">\n                <Loader2 className=\"animate-spin text-navy-900\" size={32} />\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-4xl mx-auto pb-20\">\n            {/* Header */}\n            <div className=\"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <Link href=\"/admin/products\" className=\"text-gray-500 hover:text-navy-900 transition-colors flex items-center gap-1 mb-4\">\n                        <ArrowLeft size={18} /> Back to Products\n                    </Link>\n                    <h1 className=\"text-2xl font-bold text-gray-900\">Edit Product</h1>\n                </div>\n                <button\n                    onClick={handleDelete}\n                    className=\"flex items-center gap-2 px-4 py-2 border border-red-200 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg font-bold transition-colors\"\n                >\n                    <Trash2 size={18} /> Delete Product\n                </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-8\">\n                {/* General Info */}\n                <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100/50 space-y-4\">\n                    <div className=\"flex items-center justify-between border-b border-gray-100 pb-2\">\n                        <h2 className=\"text-lg font-bold text-gray-900\">General Information</h2>\n                        <label className=\"flex items-center gap-2 cursor-pointer\">\n                            <input\n                                type=\"checkbox\"\n                                checked={formData.is_featured}\n                                onChange={(e) => setFormData({ ...formData, is_featured: e.target.checked })}\n                                className=\"w-5 h-5 rounded border-gray-300 text-navy-900 focus:ring-navy-900\"\n                            />\n                            <span className=\"text-sm font-bold text-gray-900\">Featured Product</span>\n                        </label>\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Product Name *</label>\n                        <input\n                            type=\"text\"\n                            className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                            placeholder=\"e.g. Vintage Leather Jacket\"\n                            value={formData.name}\n                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                            required\n                        />\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Description</label>\n                        <textarea\n                            rows={4}\n                            className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                            placeholder=\"Product description...\"\n                            value={formData.description}\n                            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                {/* Variants (Colors & Sizes) */}\n                <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100/50 space-y-6\">\n                    <h2 className=\"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2\">Variants</h2>\n\n                    {/* Colors */}\n                    <div>\n                        <div className=\"flex items-center justify-between mb-2\">\n                            <label className=\"block text-sm font-bold text-gray-700\">Colors</label>\n                            <button\n                                type=\"button\"\n                                onClick={handleAddColor}\n                                className=\"text-xs bg-navy-50 text-navy-900 px-3 py-1 rounded-full font-bold hover:bg-navy-100\"\n                            >\n                                + Add Color\n                            </button>\n                        </div>\n                        <div className=\"space-y-3\">\n                            {formData.colors.map((color, idx) => (\n                                <div key={idx} className=\"flex gap-2 items-center\">\n                                    <input\n                                        type=\"color\"\n                                        className=\"w-10 h-10 rounded cursor-pointer border-none bg-transparent\"\n                                        value={color.code}\n                                        onChange={(e) => handleColorChange(idx, 'code', e.target.value)}\n                                    />\n                                    <input\n                                        type=\"text\"\n                                        className=\"flex-1 px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg text-sm\"\n                                        placeholder=\"Color Name (e.g. Navy Blue)\"\n                                        value={color.name}\n                                        onChange={(e) => handleColorChange(idx, 'name', e.target.value)}\n                                    />\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => handleRemoveColor(idx)}\n                                        className=\"p-2 text-red-500 hover:bg-red-50 rounded-lg\"\n                                    >\n                                        <Trash2 size={16} />\n                                    </button>\n                                </div>\n                            ))}\n                            {formData.colors.length === 0 && <p className=\"text-sm text-gray-400 italic\">No colors added.</p>}\n                        </div>\n                    </div>\n\n                    {/* Sizes */}\n                    <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Sizes (Comma separated)</label>\n                        <input\n                            type=\"text\"\n                            className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                            placeholder=\"e.g. S, M, L, XL or 2-3Y, 3-4Y\"\n                            value={formData.sizes}\n                            onChange={(e) => setFormData({ ...formData, sizes: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                {/* Additional Details */}\n                <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100/50 space-y-6\">\n                    <h2 className=\"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2\">Product Details</h2>\n\n                    <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Highlights (One per line)</label>\n                        <textarea\n                            rows={4}\n                            className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors font-mono text-sm\"\n                            placeholder=\"100% Cotton&#10;Breathable&#10;Machine Wash\"\n                            value={formData.highlights}\n                            onChange={(e) => setFormData({ ...formData, highlights: e.target.value })}\n                        />\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Material & Care</label>\n                        <textarea\n                            rows={3}\n                            className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                            placeholder=\"Details about material and care instructions...\"\n                            value={formData.material_care}\n                            onChange={(e) => setFormData({ ...formData, material_care: e.target.value })}\n                        />\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Shipping & Returns</label>\n                        <textarea\n                            rows={3}\n                            className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                            placeholder=\"Shipping policy details...\"\n                            value={formData.shipping_returns}\n                            onChange={(e) => setFormData({ ...formData, shipping_returns: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                {/* Pricing & Category */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100/50 space-y-4\">\n                        <h2 className=\"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2\">Pricing & Organization</h2>\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Price (â‚¹) *</label>\n                            <input\n                                type=\"number\"\n                                min=\"0\" step=\"0.01\"\n                                className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                                placeholder=\"0.00\"\n                                value={formData.price}\n                                onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                                required\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Compare at Price (â‚¹)</label>\n                            <input\n                                type=\"number\"\n                                min=\"0\" step=\"0.01\"\n                                className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                                placeholder=\"0.00\"\n                                value={formData.compare_at_price}\n                                onChange={(e) => setFormData({ ...formData, compare_at_price: e.target.value })}\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">GST Rate (%)</label>\n                            <select\n                                className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                                value={formData.gst_percent}\n                                onChange={(e) => setFormData({ ...formData, gst_percent: e.target.value })}\n                            >\n                                <option value=\"0\">0% (Exempt)</option>\n                                <option value=\"3\">3%</option>\n                                <option value=\"5\">5%</option>\n                                <option value=\"12\">12%</option>\n                                <option value=\"18\">18%</option>\n                                <option value=\"28\">28%</option>\n                            </select>\n                        </div>\n\n                        {/* Category Selection Logic */}\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Department (Parent)</label>\n                            <select\n                                className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                                value={selectedParentId}\n                                onChange={(e) => {\n                                    setSelectedParentId(e.target.value);\n                                    setFormData({ ...formData, category_id: '' }); // Reset Subcat\n                                }}\n                            >\n                                <option value=\"\">Select Department</option>\n                                {allCategories.filter(c => !c.parent_id).map(cat => (\n                                    <option key={cat.id} value={cat.id}>{cat.name}</option>\n                                ))}\n                            </select>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Subcategory *</label>\n                            <select\n                                className=\"w-full px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                                value={formData.category_id}\n                                onChange={(e) => setFormData({ ...formData, category_id: e.target.value })}\n                                disabled={!selectedParentId}\n                                required\n                            >\n                                <option value=\"\">Select Subcategory</option>\n                                {allCategories.filter(c => c.parent_id === selectedParentId).map(cat => (\n                                    <option key={cat.id} value={cat.id}>{cat.name}</option>\n                                ))}\n                            </select>\n                        </div>\n                        {/* Status Field */}\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Availability</label>\n                            <select\n                                className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors bg-white\"\n                                value={formData.stock_status}\n                                onChange={(e) => setFormData({ ...formData, stock_status: e.target.value })}\n                            >\n                                <option value=\"in_stock\">In Stock</option>\n                                <option value=\"low_stock\">Only Few Left (Low Stock)</option>\n                                <option value=\"out_of_stock\">Out of Stock</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Classification & Engine Metadata */}\n                    <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100/50 space-y-6\">\n                        <div className=\"flex items-center justify-between border-b border-gray-100 pb-2\">\n                            <h2 className=\"text-lg font-bold text-gray-900\">Engine Classification</h2>\n                            <label className=\"flex items-center gap-2 cursor-pointer bg-blue-50 px-3 py-1.5 rounded-lg hover:bg-blue-100 transition-colors\">\n                                <input\n                                    type=\"checkbox\"\n                                    checked={formData.is_pet as boolean}\n                                    onChange={(e) => setFormData({ ...formData, is_pet: e.target.checked })}\n                                    className=\"w-5 h-5 rounded border-gray-300 text-navy-900 focus:ring-navy-900\"\n                                />\n                                <span className=\"text-sm font-bold text-gray-900\">It's a Pet Product ðŸ¾</span>\n                            </label>\n                        </div>\n\n                        {!formData.is_pet && (\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                {/* Gender Visibility (Unisex Logic) */}\n                                <div className=\"md:col-span-2\">\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Gender Visibility</label>\n                                    <div className=\"flex gap-4 flex-wrap\">\n                                        {['men', 'women', 'unisex', 'kids'].map(g => (\n                                            <label key={g} className=\"flex items-center gap-2 cursor-pointer\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={formData.gender_visibility?.includes(g)}\n                                                    onChange={(e) => {\n                                                        const current = formData.gender_visibility || [];\n                                                        const updated = e.target.checked\n                                                            ? [...current, g]\n                                                            : current.filter(x => x !== g);\n                                                        setFormData({ ...formData, gender_visibility: updated });\n                                                    }}\n                                                    className=\"rounded border-gray-300 text-gray-900\"\n                                                />\n                                                <span className=\"capitalize\">{g}</span>\n                                            </label>\n                                        ))}\n                                    </div>\n                                    <p className=\"text-xs text-gray-400 mt-1\">Select all categories where this product should appear.</p>\n                                </div>\n\n                                {/* Product Type */}\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Product Type</label>\n                                    <select\n                                        className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors bg-white\"\n                                        value={formData.product_type}\n                                        onChange={(e) => setFormData({ ...formData, product_type: e.target.value })}\n                                    >\n                                        <option value=\"\">Select Type</option>\n                                        <option value=\"tshirt\">T-Shirt / Top</option>\n                                        <option value=\"hoodie\">Hoodie / Sweatshirt</option>\n                                        <option value=\"jacket\">Jacket / Outerwear</option>\n                                        <option value=\"bottom\">Bottom / Pants / Shorts</option>\n                                        <option value=\"dress\">Dress</option>\n                                        <option value=\"footwear\">Footwear</option>\n                                        <option value=\"headwear\">Headwear / Cap</option>\n                                        <option value=\"bag\">Bag</option>\n                                        <option value=\"accessory\">Accessory</option>\n                                    </select>\n                                </div>\n\n                                {/* Fit */}\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Fit</label>\n                                    <select\n                                        className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors bg-white\"\n                                        value={formData.fit}\n                                        onChange={(e) => setFormData({ ...formData, fit: e.target.value })}\n                                    >\n                                        <option value=\"regular\">Regular</option>\n                                        <option value=\"oversized\">Oversized</option>\n                                        <option value=\"slim\">Slim</option>\n                                        <option value=\"skinny\">Skinny</option>\n                                        <option value=\"relaxed\">Relaxed</option>\n                                    </select>\n                                </div>\n\n                                {/* Style */}\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Style Vibe</label>\n                                    <select\n                                        className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors bg-white\"\n                                        value={formData.style}\n                                        onChange={(e) => setFormData({ ...formData, style: e.target.value })}\n                                    >\n                                        <option value=\"minimal\">Minimal</option>\n                                        <option value=\"graphic\">Graphic / Bold</option>\n                                        <option value=\"sporty\">Sporty</option>\n                                        <option value=\"classic\">Classic</option>\n                                        <option value=\"streetwear\">Streetwear</option>\n                                    </select>\n                                </div>\n\n                                {/* Primary Color */}\n                                <div>\n                                    <label className=\"block text-sm font-bold text-gray-700 mb-1\">Primary Color (for Matching)</label>\n                                    <select\n                                        className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors bg-white\"\n                                        value={formData.primary_color}\n                                        onChange={(e) => setFormData({ ...formData, primary_color: e.target.value })}\n                                    >\n                                        <option value=\"\">Select Color</option>\n                                        <option value=\"white\">White</option>\n                                        <option value=\"black\">Black</option>\n                                        <option value=\"blue\">Blue</option>\n                                        <option value=\"olive\">Olive / Green</option>\n                                        <option value=\"beige\">Beige / Cream</option>\n                                        <option value=\"grey\">Grey</option>\n                                        <option value=\"red\">Red</option>\n                                        <option value=\"brown\">Brown</option>\n                                        <option value=\"yellow\">Yellow</option>\n                                        <option value=\"pink\">Pink</option>\n                                        <option value=\"purple\">Purple</option>\n                                        <option value=\"orange\">Orange</option>\n                                    </select>\n                                </div>\n                            </div>\n                        )}\n                        {formData.is_pet && (\n                            <div className=\"bg-blue-50/50 p-4 rounded-xl border border-blue-100 text-center text-sm text-navy-800\">\n                                ðŸ¾ You are creating a Pet Product. Standard sizing and gender rules are relaxed.\n                            </div>\n                        )}\n                    </div>\n\n                    <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100/50 space-y-4\">\n                        <h2 className=\"text-lg font-bold text-gray-900 border-b border-gray-100 pb-2\">Media & Tags</h2>\n                        {/* Image Input */}\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Add Image URL</label>\n                            <div className=\"flex gap-2\">\n                                <input\n                                    type=\"url\"\n                                    className=\"flex-1 px-4 py-2 bg-white text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                                    placeholder=\"https://...\"\n                                    value={imageInput}\n                                    onChange={(e) => setImageInput(e.target.value)}\n                                    onKeyDown={(e) => {\n                                        if (e.key === 'Enter') {\n                                            e.preventDefault();\n                                            handleAddImage();\n                                        }\n                                    }}\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={handleAddImage}\n                                    className=\"px-4 py-2 bg-navy-900 text-white font-bold rounded-lg hover:bg-navy-800 transition-colors\"\n                                >\n                                    Add\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* Image Grid */}\n                        {formData.images.length > 0 && (\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2\">\n                                {formData.images.map((img, idx) => (\n                                    <div key={idx} className=\"relative aspect-square rounded-lg overflow-hidden border border-gray-200 group\">\n                                        <Image\n                                            src={img}\n                                            alt={`Image ${idx + 1}`}\n                                            fill\n                                            className=\"object-cover\"\n                                        />\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => handleRemoveImage(idx)}\n                                            className=\"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\n                                        >\n                                            <Trash2 size={14} />\n                                        </button>\n                                        {idx === 0 && (\n                                            <span className=\"absolute bottom-2 left-2 bg-black/60 text-white text-[10px] px-2 py-0.5 rounded font-bold\">MAIN</span>\n                                        )}\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-1\">Tags (Comma separated)</label>\n                            <input\n                                type=\"text\"\n                                className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-navy-900 transition-colors\"\n                                placeholder=\"e.g. new-arrival, summer, curated\"\n                                value={formData.tags}\n                                onChange={(e) => setFormData({ ...formData, tags: e.target.value })}\n                            />\n                        </div>\n                    </div>\n\n                </div>\n                <div className=\"flex items-center justify-end gap-4 pt-4 sticky bottom-0 bg-white/80 backdrop-blur-md p-4 border-t border-gray-100 -mx-4 md:mx-0\">\n                    <Link href=\"/admin/products\">\n                        <button type=\"button\" className=\"px-6 py-3 font-bold text-gray-500 hover:bg-gray-100 rounded-xl transition-colors\">\n                            Cancel\n                        </button>\n                    </Link>\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"bg-navy-900 text-white hover:bg-navy-800 font-bold py-3 px-8 rounded-xl flex items-center gap-2 shadow-lg shadow-navy-900/20 transition-all disabled:opacity-70\"\n                    >\n                        {loading ? <Loader2 size={20} className=\"animate-spin\" /> : <Save size={20} />}\n                        Save Changes\n                    </button>\n                </div>\n            </form >\n        </div >\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/page.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchProducts` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/page.tsx:41:9\n  39 |\n  40 |     useEffect(() => {\n> 41 |         fetchProducts();\n     |         ^^^^^^^^^^^^^ `fetchProducts` accessed before it is declared\n  42 |     }, []);\n  43 |\n  44 |     const fetchProducts = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/products/page.tsx:44:5\n  42 |     }, []);\n  43 |\n> 44 |     const fetchProducts = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 46 |         const { data, error } = await supabase\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 61 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 62 |     };\n     | ^^^^^^^ `fetchProducts` is declared here\n  63 |\n  64 |     const handleDelete = async (id: string) => {\n  65 |         if (!confirm('Are you sure you want to delete this product?')) return;","line":41,"column":9,"nodeType":null,"endLine":41,"endColumn":22},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchProducts'. Either include it or remove the dependency array.","line":42,"column":8,"nodeType":"ArrayExpression","endLine":42,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProducts]","fix":{"range":[1132,1134],"text":"[fetchProducts]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Plus, Search, Filter, Edit, Trash2, Package, Loader2 } from 'lucide-react';\nimport Link from 'next/link';\nimport Image from 'next/image';\n\ninterface Product {\n    id: string;\n    name: string;\n    price: number;\n    category_id: string;\n    images: string[];\n    description: string;\n    created_at: string;\n    metadata?: {\n        stock_status?: string;\n        is_featured?: boolean;\n        is_new_arrival?: boolean;\n        personalization?: {\n            enabled: boolean;\n        };\n    };\n}\n\nimport { useToast } from '@/context/ToastContext';\n\nexport default function AdminProductsPage() {\n    const [products, setProducts] = useState<Product[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const { addToast } = useToast();\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchProducts();\n    }, []);\n\n    const fetchProducts = async () => {\n        setLoading(true);\n        const { data, error } = await supabase\n            .from('products')\n            .select('*')\n            .order('created_at', { ascending: false });\n\n        if (error) {\n            console.error('Error fetching products:', error);\n            addToast('Failed to load products', 'error');\n        } else {\n            // Filter: EXCLUDE products with personalization.enabled = true\n            const standard = (data || []).filter((p: Product) =>\n                !p.metadata?.personalization?.enabled\n            );\n            setProducts(standard);\n        }\n        setLoading(false);\n    };\n\n    const handleDelete = async (id: string) => {\n        if (!confirm('Are you sure you want to delete this product?')) return;\n\n        const { error } = await supabase.from('products').delete().eq('id', id);\n\n        if (error) {\n            console.error('Delete error:', error);\n            addToast(`Failed to delete product: ${error.message}`, 'error');\n        } else {\n            setProducts(products.filter(p => p.id !== id));\n            addToast('Product deleted successfully', 'success');\n        }\n    };\n\n    const filteredProducts = products.filter(product =>\n        product.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    const handleToggleFeatured = async (product: Product, currentStatus: boolean) => {\n        // If turning ON, check limit first\n        if (!currentStatus) {\n            const featuredCount = products.filter(p => p.metadata?.is_featured).length;\n            if (featuredCount >= 28) {\n                addToast(\"Limit Reached: Only 28 featured products allowed.\", 'error');\n                return;\n            }\n        }\n\n        // Optimistic Update\n        const updatedProducts = products.map(p =>\n            p.id === product.id\n                ? { ...p, metadata: { ...p.metadata, is_featured: !currentStatus } }\n                : p\n        );\n        setProducts(updatedProducts);\n\n        // API Update\n        const { error } = await supabase\n            .from('products')\n            .update({\n                metadata: {\n                    ...product.metadata,\n                    is_featured: !currentStatus\n                }\n            })\n            .eq('id', product.id);\n\n        if (error) {\n            console.error('Update error:', error);\n            addToast('Failed to update featured status', 'error');\n            // Revert on error\n            setProducts(products);\n        } else {\n            // Optional success toast\n            // addToast(currentStatus ? 'Removed from Featured' : 'Added to Featured', 'success');\n        }\n    };\n\n    const handleToggleNewArrival = async (product: Product, currentStatus: boolean) => {\n        // If turning ON, check limit first\n        if (!currentStatus) {\n            const newCount = products.filter(p => p.metadata?.is_new_arrival).length;\n            if (newCount >= 12) {\n                addToast(\"Limit Reached: Only 12 new arrival products allowed.\", 'error');\n                return;\n            }\n        }\n\n        // Optimistic Update\n        const updatedProducts = products.map(p =>\n            p.id === product.id\n                ? { ...p, metadata: { ...p.metadata, is_new_arrival: !currentStatus } }\n                : p\n        );\n        setProducts(updatedProducts);\n\n        // API Update\n        const { error } = await supabase\n            .from('products')\n            .update({\n                metadata: {\n                    ...product.metadata,\n                    is_new_arrival: !currentStatus\n                }\n            })\n            .eq('id', product.id);\n\n        if (error) {\n            console.error('Update error:', error);\n            addToast('Failed to update new arrival status', 'error');\n            // Revert on error\n            setProducts(products);\n        }\n    };\n\n    const styles = {\n        toggleWrapper: \"relative inline-flex items-center cursor-pointer\",\n        toggleInput: \"sr-only peer\",\n        toggleSlider: \"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500\"\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Products</h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Manage your product catalog</p>\n                </div>\n                <Link href=\"/admin/products/new\">\n                    <button className=\"bg-navy-900 dark:bg-coral-500 text-white hover:bg-navy-800 dark:hover:bg-coral-600 font-bold py-2.5 px-5 rounded-xl flex items-center gap-2 shadow-lg shadow-navy-900/20 dark:shadow-coral-500/20 transition-all\">\n                        <Plus size={20} />\n                        Add Product\n                    </button>\n                </Link>\n            </div>\n\n            {/* Filters */}\n            <div className=\"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 flex flex-col md:flex-row gap-4\">\n                <div className=\"relative flex-1\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search products...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        className=\"w-full pl-10 pr-4 py-2 bg-white dark:bg-white/5 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-coral-500 transition-colors placeholder-gray-500 dark:placeholder-gray-400\"\n                    />\n                </div>\n                <button className=\"px-4 py-2 bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-300 font-bold rounded-lg hover:bg-gray-50 dark:hover:bg-white/10\">\n                    <Filter size={18} />\n                </button>\n            </div>\n\n            {/* Products Table */}\n            <div className=\"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden\">\n                {loading ? (\n                    <div className=\"p-12 flex flex-col items-center justify-center text-gray-400\">\n                        <Loader2 size={40} className=\"animate-spin mb-4 text-navy-900 dark:text-white\" />\n                        <p>Loading products...</p>\n                    </div>\n                ) : filteredProducts.length === 0 ? (\n                    <div className=\"p-12 text-center text-gray-400\">\n                        <Package size={48} className=\"mx-auto mb-4 opacity-20\" />\n                        <p className=\"text-lg font-medium\">No products found</p>\n                        <Link href=\"/admin/products/new\" className=\"text-coral-500 hover:text-coral-600 font-bold mt-2 inline-block\">\n                            Create your first product\n                        </Link>\n                    </div>\n                ) : (\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-[#FAF9F7] dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs border-b border-gray-100 dark:border-white/5\">\n                                <tr>\n                                    <th className=\"px-6 py-4\">Product</th>\n                                    <th className=\"px-6 py-4\">Category</th>\n                                    <th className=\"px-6 py-4\">Price</th>\n                                    <th className=\"px-6 py-4 text-center\">Featured</th>\n                                    <th className=\"px-6 py-4 text-center\">New</th>\n                                    <th className=\"px-6 py-4\">Stock</th>\n                                    <th className=\"px-6 py-4 text-right\">Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                                {filteredProducts.map((product) => (\n                                    <tr key={product.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors group\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <div className=\"w-12 h-12 rounded-lg bg-gray-100 dark:bg-white/10 overflow-hidden border border-gray-200 dark:border-white/10 relative\">\n                                                    {product.images?.[0] ? (\n                                                        <Image\n                                                            src={product.images[0]}\n                                                            alt={product.name}\n                                                            fill\n                                                            className=\"object-cover\"\n                                                        />\n                                                    ) : (\n                                                        <div className=\"flex items-center justify-center w-full h-full text-gray-300\">\n                                                            <Package size={20} />\n                                                        </div>\n                                                    )}\n                                                </div>\n                                                <div className=\"font-bold text-gray-900 dark:text-white\">{product.name}</div>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-gray-500 dark:text-gray-400\">\n                                            <span className=\"bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs\">\n                                                Category\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 font-bold text-gray-900 dark:text-white\">\n                                            â‚¹{product.price}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-center\">\n                                            <label className={styles.toggleWrapper}>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className={styles.toggleInput}\n                                                    checked={!!product.metadata?.is_featured}\n                                                    onChange={() => handleToggleFeatured(product, !!product.metadata?.is_featured)}\n                                                />\n                                                <div className={styles.toggleSlider}></div>\n                                            </label>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-center\">\n                                            <label className={styles.toggleWrapper}>\n                                                <input\n                                                    type=\"checkbox\"\n                                                    className={styles.toggleInput}\n                                                    checked={!!product.metadata?.is_new_arrival}\n                                                    onChange={() => handleToggleNewArrival(product, !!product.metadata?.is_new_arrival)}\n                                                />\n                                                <div className={`${styles.toggleSlider} peer-checked:bg-blue-500`}></div>\n                                            </label>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-gray-500 dark:text-gray-400\">\n                                            {product.metadata?.stock_status === 'out_of_stock' ? (\n                                                <span className=\"text-red-500 dark:text-red-400 font-bold bg-red-50 dark:bg-red-900/30 px-2 py-1 rounded text-xs\">Out of Stock</span>\n                                            ) : product.metadata?.stock_status === 'low_stock' ? (\n                                                <span className=\"text-orange-500 dark:text-orange-400 font-bold bg-orange-50 dark:bg-orange-900/30 px-2 py-1 rounded text-xs\">Low Stock</span>\n                                            ) : (\n                                                <span className=\"text-green-600 dark:text-green-400 font-bold bg-green-50 dark:bg-green-900/30 px-2 py-1 rounded text-xs\">In Stock</span>\n                                            )}\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <div className=\"flex items-center justify-end gap-2\">\n                                                <Link href={`/admin/products/${product.id}`}>\n                                                    <button className=\"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg transition-colors\">\n                                                        <Edit size={18} />\n                                                    </button>\n                                                </Link>\n                                                <button\n                                                    onClick={() => handleDelete(product.id)}\n                                                    className=\"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-colors\"\n                                                >\n                                                    <Trash2 size={18} />\n                                                </button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/seed/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[526,529],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[526,529],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { seedCategories } from '@/actions/seedCategories';\n\nexport default function SeedPage() {\n    const [status, setStatus] = useState('Idle');\n\n    const handleSeed = async () => {\n        setStatus('Seeding...');\n        try {\n            const res = await seedCategories();\n            if (res.success) {\n                setStatus('Success: ' + res.message);\n            } else {\n                setStatus('Error: ' + res.error);\n            }\n        } catch (e: any) {\n            setStatus('Error: ' + e.message);\n        }\n    };\n\n    return (\n        <div className=\"p-20 text-center\">\n            <h1 className=\"text-2xl font-bold mb-4\">Admin: Seed Categories</h1>\n            <p className=\"mb-8 text-gray-500\">Migrates src/data/categories.ts to Supabase Database.</p>\n\n            <button\n                onClick={handleSeed}\n                className=\"px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold\"\n            >\n                Run Seed\n            </button>\n\n            <div className=\"mt-8 p-4 bg-gray-100 rounded\">\n                Status: <strong>{status}</strong>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/settings/page.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchSettings` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/settings/page.tsx:42:9\n  40 |\n  41 |     useEffect(() => {\n> 42 |         fetchSettings();\n     |         ^^^^^^^^^^^^^ `fetchSettings` accessed before it is declared\n  43 |     }, []);\n  44 |\n  45 |     const fetchSettings = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/settings/page.tsx:45:5\n  43 |     }, []);\n  44 |\n> 45 |     const fetchSettings = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 46 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |         const { data, error } = await supabase\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 66 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 67 |     };\n     | ^^^^^^^ `fetchSettings` is declared here\n  68 |\n  69 |     const handleSave = async (e: React.FormEvent) => {\n  70 |         e.preventDefault();","line":42,"column":9,"nodeType":null,"endLine":42,"endColumn":22},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchSettings'. Either include it or remove the dependency array.","line":43,"column":8,"nodeType":"ArrayExpression","endLine":43,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchSettings]","fix":{"range":[1234,1236],"text":"[fetchSettings]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":47,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":47,"endColumn":28}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Save, Loader2, Store, Mail, CreditCard, Truck } from 'lucide-react';\n\ninterface StoreSettings {\n    id: string;\n    store_name: string;\n    support_email: string;\n    currency: string;\n    tax_rate: number;\n    shipping_charge: number;\n    free_shipping_threshold: number;\n    announcement_text?: string;\n    announcement_link?: string;\n    announcement_active?: boolean;\n}\n\nexport default function SettingsPage() {\n    const [settings, setSettings] = useState<StoreSettings | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [formData, setFormData] = useState({\n        store_name: '',\n        support_email: '',\n        currency: 'INR',\n        tax_rate: 18,\n        shipping_charge: 0,\n        free_shipping_threshold: 0,\n        announcement_text: '',\n        announcement_link: '',\n        announcement_active: true\n    });\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchSettings();\n    }, []);\n\n    const fetchSettings = async () => {\n        setLoading(true);\n        const { data, error } = await supabase\n            .from('store_settings')\n            .select('*')\n            .single();\n\n        if (data) {\n            setSettings(data);\n            setFormData({\n                store_name: data.store_name,\n                support_email: data.support_email,\n                currency: data.currency,\n                tax_rate: data.tax_rate,\n                shipping_charge: data.shipping_charge ?? 0,\n                free_shipping_threshold: data.free_shipping_threshold ?? 0,\n                announcement_text: data.announcement_text || '',\n                announcement_link: data.announcement_link || '',\n                announcement_active: data.announcement_active ?? true\n            });\n        }\n        setLoading(false);\n    };\n\n    const handleSave = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setSaving(true);\n\n        const updates = {\n            store_name: formData.store_name,\n            support_email: formData.support_email,\n            currency: formData.currency,\n            tax_rate: formData.tax_rate,\n            shipping_charge: formData.shipping_charge,\n            free_shipping_threshold: formData.free_shipping_threshold,\n            announcement_text: formData.announcement_text,\n            announcement_link: formData.announcement_link,\n            announcement_active: formData.announcement_active,\n            updated_at: new Date().toISOString()\n        };\n\n        let result;\n        if (settings?.id) {\n            result = await supabase\n                .from('store_settings')\n                .update(updates)\n                .eq('id', settings.id);\n        } else {\n            result = await supabase\n                .from('store_settings')\n                .insert([updates]);\n        }\n\n        if (result.error) {\n            alert('Failed to save settings');\n            console.error(result.error);\n        } else {\n            alert('Settings saved successfully');\n            fetchSettings(); // Refresh\n        }\n        setSaving(false);\n    };\n\n    if (loading) return <div className=\"p-12 text-center text-gray-500\">Loading settings...</div>;\n\n    return (\n        <div className=\"max-w-4xl mx-auto space-y-6 pb-20\">\n            <div>\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Store Settings</h1>\n                <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Manage your general store configuration</p>\n            </div>\n\n            <form onSubmit={handleSave} className=\"space-y-6\">\n                {/* General Settings */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                        <Store size={20} className=\"text-gray-400\" />\n                        General Information\n                    </h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Store Name</label>\n                            <input\n                                type=\"text\"\n                                value={formData.store_name}\n                                onChange={(e) => setFormData({ ...formData, store_name: e.target.value })}\n                                className=\"w-full px-4 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Support Email</label>\n                            <div className=\"relative\">\n                                <Mail size={18} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n                                <input\n                                    type=\"email\"\n                                    value={formData.support_email}\n                                    onChange={(e) => setFormData({ ...formData, support_email: e.target.value })}\n                                    className=\"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Announcement Bar Settings */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <div className=\"flex justify-between items-center mb-4\">\n                        <h2 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                            <span className=\"text-xl\">ðŸ“¢</span>\n                            Announcement Bar\n                        </h2>\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\n                            <input\n                                type=\"checkbox\"\n                                checked={formData.announcement_active}\n                                onChange={(e) => setFormData({ ...formData, announcement_active: e.target.checked })}\n                                className=\"sr-only peer\"\n                            />\n                            <div className=\"w-11 h-6 bg-gray-200 dark:bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-navy-900 dark:peer-checked:bg-coral-500\"></div>\n                        </label>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 gap-6\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Announcement Text</label>\n                            <input\n                                type=\"text\"\n                                value={formData.announcement_text}\n                                onChange={(e) => setFormData({ ...formData, announcement_text: e.target.value })}\n                                className=\"w-full px-4 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors\"\n                                placeholder=\"e.g. Free Shipping on all orders above â‚¹999 â€¢ New Collection Dropped\"\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Link URL (Optional)</label>\n                            <input\n                                type=\"text\"\n                                value={formData.announcement_link}\n                                onChange={(e) => setFormData({ ...formData, announcement_link: e.target.value })}\n                                className=\"w-full px-4 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors\"\n                                placeholder=\"e.g. /shop/new-arrivals\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                {/* Shipping Configuration */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                        <Truck size={20} className=\"text-gray-400\" />\n                        Shipping & Fulfillment\n                    </h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Standard Shipping Charge</label>\n                            <div className=\"relative\">\n                                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold\">â‚¹</span>\n                                <input\n                                    type=\"number\"\n                                    value={formData.shipping_charge}\n                                    onChange={(e) => setFormData({ ...formData, shipping_charge: parseFloat(e.target.value) })}\n                                    className=\"w-full pl-8 pr-4 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors\"\n                                    placeholder=\"0\"\n                                />\n                            </div>\n                            <p className=\"text-xs text-gray-400 mt-1\">Charged if cart value is below threshold.</p>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Free Shipping Threshold</label>\n                            <div className=\"relative\">\n                                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold\">â‚¹</span>\n                                <input\n                                    type=\"number\"\n                                    value={formData.free_shipping_threshold}\n                                    onChange={(e) => setFormData({ ...formData, free_shipping_threshold: parseFloat(e.target.value) })}\n                                    className=\"w-full pl-8 pr-4 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors\"\n                                    placeholder=\"0\"\n                                />\n                            </div>\n                            <p className=\"text-xs text-gray-400 mt-1\">Cart total required for free shipping.</p>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Regional & Financial */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                        <CreditCard size={20} className=\"text-gray-400\" />\n                        Financial & Regional\n                    </h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Currency</label>\n                            <select\n                                value={formData.currency}\n                                onChange={(e) => setFormData({ ...formData, currency: e.target.value })}\n                                className=\"w-full px-4 py-2 border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors bg-white dark:bg-slate-800 text-gray-900 dark:text-white\"\n                            >\n                                <option value=\"INR\">INR (â‚¹)</option>\n                                <option value=\"USD\">USD ($)</option>\n                                <option value=\"EUR\">EUR (â‚¬)</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1\">Tax Rate (%)</label>\n                            <div className=\"relative\">\n                                <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold\">%</span>\n                                <input\n                                    type=\"number\"\n                                    step=\"0.1\"\n                                    value={formData.tax_rate}\n                                    onChange={(e) => setFormData({ ...formData, tax_rate: parseFloat(e.target.value) })}\n                                    className=\"w-full px-4 py-2 bg-white dark:bg-slate-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 rounded-lg focus:outline-none focus:border-navy-900 dark:focus:border-white/30 transition-colors\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"flex justify-end\">\n                    <button\n                        type=\"submit\"\n                        disabled={saving}\n                        className=\"bg-navy-900 dark:bg-coral-500 text-white hover:bg-navy-800 dark:hover:bg-coral-600 font-bold py-3 px-8 rounded-xl flex items-center gap-2 shadow-lg shadow-navy-900/20 dark:shadow-coral-500/20 transition-all disabled:opacity-70\"\n                    >\n                        {saving ? <Loader2 size={20} className=\"animate-spin\" /> : <Save size={20} />}\n                        Save Changes\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/shipping/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[364,367],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[364,367],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchShippingOrders` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/shipping/page.tsx:30:9\n  28 |\n  29 |     useEffect(() => {\n> 30 |         fetchShippingOrders();\n     |         ^^^^^^^^^^^^^^^^^^^ `fetchShippingOrders` accessed before it is declared\n  31 |     }, []);\n  32 |\n  33 |     const fetchShippingOrders = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/shipping/page.tsx:33:5\n  31 |     }, []);\n  32 |\n> 33 |     const fetchShippingOrders = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 34 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 35 |         // Fetch orders that are NOT cancelled or rejected or pending (unpaid/unverified)\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     };\n     | ^^^^^^^ `fetchShippingOrders` is declared here\n  52 |\n  53 |     const filteredOrders = orders.filter(o => {\n  54 |         const matchesSearch =","line":30,"column":9,"nodeType":null,"endLine":30,"endColumn":28},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchShippingOrders'. Either include it or remove the dependency array.","line":31,"column":8,"nodeType":"ArrayExpression","endLine":31,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchShippingOrders]","fix":{"range":[924,926],"text":"[fetchShippingOrders]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Truck, Search, ExternalLink, Calendar } from 'lucide-react';\nimport Link from 'next/link';\nimport { format } from 'date-fns';\n\ninterface ShippingOrder {\n    id: string;\n    created_at: string;\n    status: string;\n    shipping_address: any;\n    user_id: string;\n    items_count?: number;\n}\n\nexport default function ShippingPage() {\n    const [orders, setOrders] = useState<ShippingOrder[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [filter, setFilter] = useState<'all' | 'unshipped' | 'shipped'>('unshipped');\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchShippingOrders();\n    }, []);\n\n    const fetchShippingOrders = async () => {\n        setLoading(true);\n        // Fetch orders that are NOT cancelled or rejected or pending (unpaid/unverified)\n        // Focus on Processing (Unshipped), Shipped, Delivered\n        const { data, error } = await supabase\n            .from('orders')\n            .select('id, created_at, status, shipping_address, user_id')\n            .in('status', ['processing', 'shipped', 'delivered'])\n            .order('created_at', { ascending: false });\n\n        if (error) {\n            console.error(error);\n        } else {\n            // Mock items count since we didn't join\n            const ordersWithMeta = data?.map(o => ({ ...o, items_count: 1 })) || [];\n            setOrders(ordersWithMeta);\n        }\n        setLoading(false);\n    };\n\n    const filteredOrders = orders.filter(o => {\n        const matchesSearch =\n            o.id.includes(searchTerm) ||\n            o.shipping_address?.firstName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            o.shipping_address?.city?.toLowerCase().includes(searchTerm.toLowerCase());\n\n        if (filter === 'all') return matchesSearch;\n        if (filter === 'unshipped') return matchesSearch && o.status === 'processing';\n        if (filter === 'shipped') return matchesSearch && (o.status === 'shipped' || o.status === 'delivered');\n\n        return matchesSearch;\n    });\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                        <Truck size={24} className=\"text-navy-900 dark:text-coral-500\" />\n                        Shipping & Logistics\n                    </h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 mt-1\">Manage shipments and track deliveries.</p>\n                </div>\n            </div>\n\n            {/* Filters */}\n            <div className=\"flex flex-col md:flex-row gap-4\">\n                <div className=\"bg-white dark:bg-slate-900 p-1 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 flex gap-1 w-fit\">\n                    <button\n                        onClick={() => setFilter('unshipped')}\n                        className={`px-4 py-2 rounded-lg text-sm font-bold transition-all ${filter === 'unshipped' ? 'bg-navy-900 dark:bg-coral-500 text-white' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5'}`}\n                    >\n                        To Ship ({orders.filter(o => o.status === 'processing').length})\n                    </button>\n                    <button\n                        onClick={() => setFilter('shipped')}\n                        className={`px-4 py-2 rounded-lg text-sm font-bold transition-all ${filter === 'shipped' ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5'}`}\n                    >\n                        Shipped / Delivered\n                    </button>\n                    <button\n                        onClick={() => setFilter('all')}\n                        className={`px-4 py-2 rounded-lg text-sm font-bold transition-all ${filter === 'all' ? 'bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-gray-300' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5'}`}\n                    >\n                        All\n                    </button>\n                </div>\n\n                <div className=\"relative flex-1 bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search Order ID, Name, City...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        className=\"w-full pl-10 pr-4 py-3 bg-transparent text-gray-900 dark:text-white rounded-lg focus:outline-none placeholder:text-gray-400\"\n                    />\n                </div>\n            </div>\n\n            <div className=\"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden\">\n                <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-sm text-left\">\n                        <thead className=\"bg-[#FAF9F7] dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs border-b border-gray-100 dark:border-white/5\">\n                            <tr>\n                                <th className=\"px-6 py-4\">Order Details</th>\n                                <th className=\"px-6 py-4\">Customer</th>\n                                <th className=\"px-6 py-4\">Destination</th>\n                                <th className=\"px-6 py-4\">Status</th>\n                                <th className=\"px-6 py-4 text-right\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                            {loading ? (\n                                <tr><td colSpan={5} className=\"p-8 text-center text-gray-400\">Loading shipments...</td></tr>\n                            ) : filteredOrders.length === 0 ? (\n                                <tr><td colSpan={5} className=\"p-8 text-center text-gray-400\">No shipments found.</td></tr>\n                            ) : (\n                                filteredOrders.map(order => (\n                                    <tr key={order.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors\">\n                                        <td className=\"px-6 py-4\">\n                                            <div className=\"flex flex-col\">\n                                                <Link href={`/admin/orders/${order.id}`} className=\"font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 hover:underline\">\n                                                    #{order.id.slice(0, 8)}\n                                                </Link>\n                                                <span className=\"text-xs text-gray-400 flex items-center gap-1 mt-1\">\n                                                    <Calendar size={12} /> {format(new Date(order.created_at), 'MMM d, yyyy')}\n                                                </span>\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <p className=\"font-medium text-gray-900 dark:text-white\">{order.shipping_address?.firstName} {order.shipping_address?.lastName}</p>\n                                            <p className=\"text-xs text-gray-500 dark:text-gray-400\">{order.shipping_address?.phone}</p>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-gray-600 dark:text-gray-300\">\n                                            <p>{order.shipping_address?.city}</p>\n                                            <p className=\"text-xs text-gray-400\">{order.shipping_address?.pincode}</p>\n                                        </td>\n                                        <td className=\"px-6 py-4\">\n                                            <span className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-bold capitalize ${order.status === 'processing' ? 'bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400' :\n                                                order.status === 'shipped' ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400' :\n                                                    'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400'\n                                                }`}>\n                                                {order.status === 'processing' ? 'Pending Ship' : order.status}\n                                            </span>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-right\">\n                                            <Link href={`/admin/orders/${order.id}`}>\n                                                <button className=\"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-bold text-xs flex items-center gap-1 ml-auto\">\n                                                    Manage <ExternalLink size={12} />\n                                                </button>\n                                            </Link>\n                                        </td>\n                                    </tr>\n                                ))\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/admin/storefront/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LayoutTemplate' is defined but never used.","line":12,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"LayoutTemplate"},"fix":{"range":[206,226],"text":""},"desc":"Remove unused variable \"LayoutTemplate\"."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchContent` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/storefront/page.tsx:124:9\n  122 |\n  123 |     useEffect(() => {\n> 124 |         fetchContent();\n      |         ^^^^^^^^^^^^ `fetchContent` accessed before it is declared\n  125 |     }, []);\n  126 |\n  127 |     const fetchContent = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/admin/storefront/page.tsx:127:5\n  125 |     }, []);\n  126 |\n> 127 |     const fetchContent = async () => {\n      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 128 |         setLoading(true);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 129 |         // Fetch Hero\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 218 |         setLoading(false);\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 219 |     };\n      | ^^^^^^^ `fetchContent` is declared here\n  220 |\n  221 |     const handleSave = async (e?: React.FormEvent) => {\n  222 |         if (e) e.preventDefault();","line":124,"column":9,"nodeType":null,"endLine":124,"endColumn":21},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchContent'. Either include it or remove the dependency array.","line":125,"column":8,"nodeType":"ArrayExpression","endLine":125,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchContent]","fix":{"range":[2923,2925],"text":"[fetchContent]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":594,"column":57,"nodeType":"JSXOpeningElement","endLine":594,"endColumn":176},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":600,"column":57,"nodeType":"JSXOpeningElement","endLine":600,"endColumn":164},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":653,"column":45,"nodeType":"JSXOpeningElement","endLine":653,"endColumn":159},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":686,"column":61,"nodeType":"JSXOpeningElement","endLine":686,"endColumn":177},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":700,"column":95,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":700,"endColumn":98,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[43557,43560],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[43557,43560],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":708,"column":65,"nodeType":"JSXOpeningElement","endLine":708,"endColumn":198},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":748,"column":49,"nodeType":"JSXOpeningElement","endLine":752,"endColumn":51},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":839,"column":41,"nodeType":"JSXOpeningElement","endLine":843,"endColumn":43},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":948,"column":69,"nodeType":"JSXOpeningElement","endLine":948,"endColumn":158},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":980,"column":49,"nodeType":"JSXOpeningElement","endLine":984,"endColumn":51}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport {\n    Save,\n    Loader2,\n    Play,\n    Image as ImageIcon,\n    Plus,\n    Trash2,\n    LayoutTemplate,\n    Sparkles,\n    MousePointer2,\n    Globe,\n    Smartphone,\n    ExternalLink,\n    Grid,\n    ShoppingBag,\n    UserCircle,\n    CheckCircle2,\n    ChevronRight\n} from 'lucide-react';\nimport { getGoogleDriveDirectLink } from '@/utils/googleDrive';\nimport { CATEGORY_TAXONOMY } from '@/data/categories';\n\n\n/* \n * NOTE: This page relies on a 'content_blocks' table in Supabase.\n */\n\ntype HeroContentType = 'video' | 'images';\n\ninterface HeroContent {\n    type: HeroContentType;\n    video_url: string;\n    poster_url: string;\n    images: string[];\n    mobile_images: string[];\n    heading: string;\n    subheading: string;\n    button_text: string;\n    button_link: string;\n}\n\ninterface BentoTile {\n    title: string;\n    subtitle: string;\n    href: string;\n    image: string;\n    colSpan: string;\n    rowSpan: string;\n    color: string;\n    textColor: string;\n}\n\ninterface BentoContent {\n    tiles: BentoTile[];\n}\n\ninterface ShopCollection {\n    id: string;\n    name: string;\n    image: string;\n    slug: string;\n    description: string;\n}\n\ninterface ShopCollectionsContent {\n    collections: ShopCollection[];\n}\n\ninterface LoginContent {\n    visual_urls: string[];\n    headline: string;\n}\n\nexport default function StorefrontPage() {\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [saveStatus, setSaveStatus] = useState<'idle' | 'success' | 'error'>('idle');\n\n    // Hero Section State\n    const [heroContent, setHeroContent] = useState<HeroContent>({\n        type: 'video',\n        video_url: '',\n        poster_url: '',\n        images: [''],\n        mobile_images: [''],\n        heading: 'Summer Luxe',\n        subheading: 'New Collection',\n        button_text: 'Shop Now',\n        button_link: '/shop/new-arrivals'\n    });\n\n    // Bento Grid State\n    const [bentoContent, setBentoContent] = useState<BentoContent>({\n        tiles: []\n    });\n\n    // Shop Page Collections State\n    const [shopCollections, setShopCollections] = useState<ShopCollectionsContent>({\n        collections: []\n    });\n\n    // Login Page State\n    const [loginContent, setLoginContent] = useState<LoginContent>({\n        visual_urls: ['', '', ''],\n        headline: 'Capturing Moments,<br />Creating Memories'\n    });\n\n    const [shopHeroImages, setShopHeroImages] = useState<Record<string, string>>({});\n\n\n    const [activeHeroTab, setActiveHeroTab] = useState<'desktop' | 'mobile'>('desktop');\n    const [activeSection, setActiveSection] = useState('hero');\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        fetchContent();\n    }, []);\n\n    const fetchContent = async () => {\n        setLoading(true);\n        // Fetch Hero\n        const { data: heroData } = await supabase\n            .from('content_blocks')\n            .select('*')\n            .eq('section_id', 'hero_main')\n            .single();\n\n        if (heroData && heroData.content) {\n            setHeroContent(prev => ({\n                ...prev,\n                ...heroData.content,\n                type: heroData.content.type || 'video',\n                images: heroData.content.images || prev.images,\n                mobile_images: heroData.content.mobile_images || heroData.content.images || prev.mobile_images\n            }));\n        }\n\n        // Fetch Bento Grid\n        const { data: bentoData } = await supabase\n            .from('content_blocks')\n            .select('*')\n            .eq('section_id', 'bento_grid')\n            .single();\n\n        if (bentoData && bentoData.content) {\n            setBentoContent(bentoData.content);\n        } else {\n            setBentoContent({\n                tiles: [\n                    { title: 'Clothing', subtitle: 'Trending', href: '/shop/clothing', image: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=800&q=80', colSpan: 'col-span-6 md:col-span-3', rowSpan: 'row-span-1', color: 'bg-green-100', textColor: 'text-green-900' },\n                    { title: 'Women', subtitle: 'For Her', href: '/shop/clothing/women', image: 'https://images.unsplash.com/photo-1525845859779-54d477ff291f?w=600&q=80', colSpan: 'col-span-6 md:col-span-3', rowSpan: 'row-span-2', color: 'bg-orange-50', textColor: 'text-orange-900' },\n                    { title: 'Stationery & Play', subtitle: 'Curiosity', href: '/shop/kids', image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=500&q=80', colSpan: 'col-span-6 md:col-span-3', rowSpan: 'row-span-1', color: 'bg-blue-50', textColor: 'text-blue-900' },\n                    { title: 'Accessories', subtitle: 'Extras', href: '/shop/accessories', image: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?w=500&q=80', colSpan: 'col-span-6 md:col-span-3', rowSpan: 'row-span-1', color: 'bg-purple-100', textColor: 'text-purple-900' },\n                    { title: 'Men', subtitle: 'Menswear', href: '/shop/clothing/men', image: 'https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=800&q=80', colSpan: 'col-span-6 md:col-span-3', rowSpan: 'row-span-1', color: 'bg-stone-100', textColor: 'text-stone-900' },\n                    { title: 'Pets', subtitle: 'Furry Friends', href: '/shop/pets', image: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=800&q=80', colSpan: 'col-span-6 md:col-span-3', rowSpan: 'row-span-1', color: 'bg-amber-100', textColor: 'text-amber-900' },\n                    { title: 'Lifestyle', subtitle: 'Small Joys', href: '/shop/lifestyle', image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=500&q=80', colSpan: 'col-span-6 md:col-span-3', rowSpan: 'row-span-1', color: 'bg-rose-50', textColor: 'text-rose-900' },\n                    { title: 'Home', subtitle: 'Decor', href: '/shop/home', image: 'https://images.unsplash.com/photo-1513519245088-0e12902e5a38?w=800&q=80', colSpan: 'col-span-12', rowSpan: 'row-span-1', color: 'bg-indigo-100', textColor: 'text-indigo-900' }\n                ]\n            });\n        }\n\n        // Fetch Shop Collections\n        const { data: shopData } = await supabase\n            .from('content_blocks')\n            .select('*')\n            .eq('section_id', 'shop_page_collections')\n            .single();\n\n        if (shopData && shopData.content) {\n            setShopCollections({ collections: shopData.content });\n        } else {\n            setShopCollections({\n                collections: [\n                    { id: 'kids', name: 'Stationery & Play', slug: 'kids', image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=500&q=80', description: 'Curiosity & Play.' },\n                    { id: 'clothing', name: 'Clothing', slug: 'clothing', image: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=500&q=80', description: 'Fashion for Everyone.' },\n                    { id: 'lifestyle', name: 'Lifestyle', slug: 'lifestyle', image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=500&q=80', description: 'Small Joys & Gifting.' },\n                    { id: 'home', name: 'Home & Tech', slug: 'home', image: 'https://images.unsplash.com/photo-1513519245088-0e12902e5a38?w=500&q=80', description: 'Decor & Comfort.' },\n                    { id: 'accessories', name: 'Accessories', slug: 'accessories', image: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?w=500&q=80', description: 'Style Extras.' },\n                    { id: 'pets', name: 'Pets', slug: 'pets', image: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=800&q=80', description: 'Furry Friends.' }\n                ]\n            });\n        }\n\n        // Fetch Login\n        const { data: loginData } = await supabase\n            .from('content_blocks')\n            .select('*')\n            .eq('section_id', 'login_page')\n            .single();\n\n        if (loginData && loginData.content) {\n            setLoginContent(prev => ({\n                ...prev,\n                ...loginData.content,\n                visual_urls: loginData.content.visual_urls || (loginData.content.visual_url ? [loginData.content.visual_url, '', ''] : ['', '', ''])\n            }));\n        }\n\n        // Fetch Shop Hero Images\n        const { data: shopHeroData } = await supabase\n            .from('content_blocks')\n            .select('*')\n            .eq('section_id', 'shop_hero_images')\n            .single();\n\n        if (shopHeroData && shopHeroData.content) {\n            setShopHeroImages(shopHeroData.content);\n        }\n\n        setLoading(false);\n    };\n\n    const handleSave = async (e?: React.FormEvent) => {\n        if (e) e.preventDefault();\n        setSaving(true);\n        setSaveStatus('idle');\n\n        const heroPayload = {\n            section_id: 'hero_main',\n            content: heroContent,\n            updated_at: new Date().toISOString()\n        };\n\n        const bentoPayload = {\n            section_id: 'bento_grid',\n            content: bentoContent,\n            updated_at: new Date().toISOString()\n        };\n\n        const shopPayload = {\n            section_id: 'shop_page_collections',\n            content: shopCollections.collections,\n            updated_at: new Date().toISOString()\n        };\n\n        const loginPayload = {\n            section_id: 'login_page',\n            content: loginContent,\n            updated_at: new Date().toISOString()\n        };\n\n        const shopHeroPayload = {\n            section_id: 'shop_hero_images',\n            content: shopHeroImages,\n            updated_at: new Date().toISOString()\n        };\n\n\n        const { error: heroErr } = await supabase\n            .from('content_blocks')\n            .upsert(heroPayload, { onConflict: 'section_id' });\n\n        const { error: bentoErr } = await supabase\n            .from('content_blocks')\n            .upsert(bentoPayload, { onConflict: 'section_id' });\n\n        const { error: shopErr } = await supabase\n            .from('content_blocks')\n            .upsert(shopPayload, { onConflict: 'section_id' });\n\n        const { error: loginErr } = await supabase\n            .from('content_blocks')\n            .upsert(loginPayload, { onConflict: 'section_id' });\n\n        const { error: shopHeroErr } = await supabase\n            .from('content_blocks')\n            .upsert(shopHeroPayload, { onConflict: 'section_id' });\n\n        if (heroErr || bentoErr || shopErr || loginErr || shopHeroErr) {\n            console.error(heroErr || bentoErr || shopErr || loginErr || shopHeroErr);\n\n            setSaveStatus('error');\n            setTimeout(() => setSaveStatus('idle'), 3000);\n        } else {\n            setSaveStatus('success');\n            setTimeout(() => setSaveStatus('idle'), 3000);\n        }\n        setSaving(false);\n    };\n\n    const handleHeroImageChange = (index: number, value: string) => {\n        const key = activeHeroTab === 'desktop' ? 'images' : 'mobile_images';\n        const newImages = [...heroContent[key]];\n        newImages[index] = value;\n        setHeroContent({ ...heroContent, [key]: newImages });\n    };\n\n    const addHeroImage = () => {\n        const key = activeHeroTab === 'desktop' ? 'images' : 'mobile_images';\n        setHeroContent({ ...heroContent, [key]: [...heroContent[key], ''] });\n    };\n\n    const removeHeroImage = (index: number) => {\n        const key = activeHeroTab === 'desktop' ? 'images' : 'mobile_images';\n        const newImages = heroContent[key].filter((_, i) => i !== index);\n        if (newImages.length === 0) {\n            setHeroContent({ ...heroContent, [key]: [''] });\n        } else {\n            setHeroContent({ ...heroContent, [key]: newImages });\n        }\n    };\n\n    const scrollToSection = (id: string) => {\n        setActiveSection(id);\n        const element = document.getElementById(id);\n        if (element) {\n            const offset = 100;\n            const bodyRect = document.body.getBoundingClientRect().top;\n            const elementRect = element.getBoundingClientRect().top;\n            const elementPosition = elementRect - bodyRect;\n            const offsetPosition = elementPosition - offset;\n\n            window.scrollTo({\n                top: offsetPosition,\n                behavior: 'smooth'\n            });\n        }\n    };\n\n    if (loading) return (\n        <div className=\"flex flex-col items-center justify-center min-h-[60vh] text-gray-400\">\n            <Loader2 size={32} className=\"animate-spin mb-4\" />\n            <p className=\"font-medium\">Loading Storefront Settings...</p>\n        </div>\n    );\n\n    const NAVIGATION = [\n        { id: 'hero', label: 'Hero Section', icon: <Sparkles size={18} /> },\n        { id: 'shop_heroes', label: 'Shop Hero Banners', icon: <ImageIcon size={18} /> },\n        { id: 'bento', label: 'Department Bento', icon: <Grid size={18} /> },\n        { id: 'shop', label: 'Shop Collections', icon: <ShoppingBag size={18} /> },\n        { id: 'login', label: 'Login Overlay', icon: <UserCircle size={18} /> },\n\n    ];\n\n    return (\n        <div className=\"flex flex-col lg:flex-row gap-8 pb-32 max-w-[1400px] mx-auto relative px-4 sm:px-6\">\n\n            {/* Left Sidebar Navigation - Sticky */}\n            <aside className=\"lg:w-64 flex-shrink-0\">\n                <div className=\"sticky top-24 space-y-4\">\n                    <div className=\"bg-white dark:bg-slate-900 rounded-2xl border border-gray-100 dark:border-white/5 p-2 shadow-sm\">\n                        {NAVIGATION.map((item) => (\n                            <button\n                                key={item.id}\n                                onClick={() => scrollToSection(item.id)}\n                                className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all ${activeSection === item.id\n                                    ? 'bg-navy-900 text-white shadow-xl shadow-navy-900/20 scale-[1.02]'\n                                    : 'text-gray-600 dark:text-gray-400 hover:bg-navy-50 dark:hover:bg-white/5 hover:text-navy-900 dark:hover:text-white'\n                                    }`}\n                            >\n                                {item.icon}\n                                {item.label}\n                                {activeSection === item.id && <ChevronRight size={14} className=\"ml-auto opacity-50\" />}\n                            </button>\n                        ))}\n                    </div>\n\n                    <div className=\"bg-navy-50 dark:bg-white/5 rounded-2xl p-6 border border-navy-100 dark:border-white/10\">\n                        <h4 className=\"text-navy-900 dark:text-white font-bold text-xs uppercase tracking-widest mb-2 flex items-center gap-2\">\n                            <Globe size={14} className=\"text-navy-500\" />\n                            Live Shop\n                        </h4>\n                        <p className=\"text-navy-700 dark:text-gray-400 text-xs mb-4\">View your changes on the live site.</p>\n                        <a\n                            href=\"/shop\"\n                            target=\"_blank\"\n                            className=\"flex items-center gap-2 text-navy-900 dark:text-white font-bold text-sm group\"\n                        >\n                            Open Storefront\n                            <ExternalLink size={14} className=\"group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform\" />\n                        </a>\n                    </div>\n                </div>\n            </aside>\n\n            {/* Main Content Area */}\n            <div className=\"flex-1 space-y-12\">\n                <header className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-6 border-b border-gray-200 dark:border-white/10 pb-8\">\n                    <div>\n                        <div className=\"flex items-center gap-2 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2\">\n                            <span>Admin Dashboard</span>\n                            <ChevronRight size={12} />\n                            <span className=\"text-navy-900 dark:text-white\">Storefront</span>\n                        </div>\n                        <h1 className=\"text-4xl font-extrabold text-navy-900 dark:text-white tracking-tight\">Customization</h1>\n                    </div>\n\n                    <div className=\"flex items-center gap-3 self-end sm:self-auto\">\n                        {saveStatus === 'success' && (\n                            <div className=\"flex items-center gap-2 text-green-600 bg-green-50 px-4 py-2 rounded-full text-sm font-bold animate-in fade-in slide-in-from-right-4 transition-all scale-100 opacity-100\">\n                                <CheckCircle2 size={16} />\n                                Changes Saved!\n                            </div>\n                        )}\n                        <button\n                            onClick={() => handleSave()}\n                            disabled={saving}\n                            className=\"bg-navy-900 text-white font-black py-4 px-10 rounded-2xl flex items-center gap-3 shadow-2xl shadow-navy-900/40 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50\"\n                        >\n                            {saving ? <Loader2 className=\"animate-spin\" size={20} /> : <Save size={20} />}\n                            SAVE CHANGES\n                        </button>\n                    </div>\n                </header>\n\n                <form className=\"space-y-12\" onSubmit={(e) => e.preventDefault()}>\n\n                    {/* HERO SECTION */}\n                    <section id=\"hero\" className=\"scroll-mt-32 space-y-6\">\n                        <div className=\"flex items-center gap-4 border-b-2 border-navy-900 dark:border-white/20 pb-4\">\n                            <div className=\"w-12 h-12 rounded-2xl bg-navy-900 dark:bg-white/10 flex items-center justify-center text-white shadow-xl\">\n                                <Sparkles size={22} />\n                            </div>\n                            <div>\n                                <h2 className=\"text-3xl font-black text-navy-900 dark:text-white uppercase tracking-tight\">Hero Section</h2>\n                                <p className=\"text-[10px] font-black text-navy-500 dark:text-gray-400 uppercase tracking-[0.2em]\">Homepage Header & Branding</p>\n                            </div>\n                        </div>\n\n                        <div className=\"bg-white dark:bg-white/5 rounded-3xl border border-gray-100 dark:border-white/10 shadow-xl shadow-gray-200/50 dark:shadow-none overflow-hidden group transition-all hover:border-navy-100 dark:hover:border-white/20\">\n                            <div className=\"p-8 grid grid-cols-1 lg:grid-cols-12 gap-10\">\n                                {/* Left Side: Config */}\n                                <div className=\"lg:col-span-7 space-y-8\">\n                                    <div className=\"space-y-4\">\n                                        <label className=\"text-xs font-black text-navy-900 dark:text-white uppercase tracking-widest flex items-center gap-2\">\n                                            <MousePointer2 size={14} className=\"text-navy-400 dark:text-gray-500\" />\n                                            Content Format\n                                        </label>\n                                        <div className=\"grid grid-cols-2 gap-4\">\n                                            <button\n                                                type=\"button\"\n                                                onClick={() => setHeroContent({ ...heroContent, type: 'video' })}\n                                                className={`p-5 rounded-2xl border-2 transition-all flex flex-col items-center gap-3 ${heroContent.type === 'video' ? 'border-navy-900 bg-navy-900 dark:bg-coral-500 dark:border-coral-500 text-white shadow-2xl shadow-navy-900/20' : 'border-gray-200 dark:border-white/10 bg-white dark:bg-transparent text-gray-400 dark:text-gray-500 hover:border-navy-200 dark:hover:border-white/20 hover:bg-navy-50/50 dark:hover:bg-white/5'}`}\n                                            >\n                                                <Play size={28} />\n                                                <span className=\"font-bold text-sm tracking-tight\">Video Loop</span>\n                                            </button>\n                                            <button\n                                                type=\"button\"\n                                                onClick={() => setHeroContent({ ...heroContent, type: 'images' })}\n                                                className={`p-5 rounded-2xl border-2 transition-all flex flex-col items-center gap-3 ${heroContent.type === 'images' ? 'border-navy-900 bg-navy-900 dark:bg-coral-500 dark:border-coral-500 text-white shadow-2xl shadow-navy-900/20' : 'border-gray-200 dark:border-white/10 bg-white dark:bg-transparent text-gray-400 dark:text-gray-500 hover:border-navy-200 dark:hover:border-white/20 hover:bg-navy-50/50 dark:hover:bg-white/5'}`}\n                                            >\n                                                <ImageIcon size={28} />\n                                                <span className=\"font-bold text-sm tracking-tight\">Image Slider</span>\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                    {heroContent.type === 'video' ? (\n                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n                                            <div className=\"space-y-2\">\n                                                <label className=\"text-xs font-black text-navy-900 uppercase tracking-widest\">Video Source (MP4)</label>\n                                                <div className=\"relative group/input\">\n                                                    <input\n                                                        type=\"url\"\n                                                        value={heroContent.video_url}\n                                                        onChange={e => setHeroContent({ ...heroContent, video_url: e.target.value })}\n                                                        className=\"w-full pl-4 pr-4 py-3 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-navy-900 dark:focus:border-coral-500 rounded-2xl transition-all text-navy-900 dark:text-white text-sm font-bold outline-none shadow-sm\"\n                                                        placeholder=\"Paste Drive Link...\"\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div className=\"space-y-2\">\n                                                <label className=\"text-xs font-black text-navy-900 uppercase tracking-widest\">Fallback Poster</label>\n                                                <input\n                                                    type=\"url\"\n                                                    value={heroContent.poster_url}\n                                                    onChange={e => setHeroContent({ ...heroContent, poster_url: e.target.value })}\n                                                    className=\"w-full px-4 py-3 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-navy-900 dark:focus:border-coral-500 rounded-2xl transition-all text-navy-900 dark:text-white text-sm font-bold outline-none shadow-sm\"\n                                                    placeholder=\"Fallback image link...\"\n                                                />\n                                            </div>\n                                        </div>\n                                    ) : (\n                                        <div className=\"space-y-6\">\n                                            <div className=\"flex items-center gap-2 p-1.5 bg-gray-100 rounded-2xl w-fit\">\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={() => setActiveHeroTab('desktop')}\n                                                    className={`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${activeHeroTab === 'desktop' ? 'bg-white text-navy-900 shadow-xl' : 'text-gray-500 hover:text-navy-700'}`}\n                                                >\n                                                    <Globe size={14} /> Desktop View\n                                                </button>\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={() => setActiveHeroTab('mobile')}\n                                                    className={`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${activeHeroTab === 'mobile' ? 'bg-white text-navy-900 shadow-xl' : 'text-gray-500 hover:text-navy-700'}`}\n                                                >\n                                                    <Smartphone size={14} /> Mobile View\n                                                </button>\n                                            </div>\n\n                                            <div className=\"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar\">\n                                                {(activeHeroTab === 'desktop' ? heroContent.images : heroContent.mobile_images).map((url, idx) => (\n                                                    <div key={idx} className=\"flex gap-3 items-center group/url\">\n                                                        <div className=\"flex-1 relative\">\n                                                            <input\n                                                                type=\"url\"\n                                                                value={url}\n                                                                onChange={e => handleHeroImageChange(idx, e.target.value)}\n                                                                className=\"w-full pl-4 pr-12 py-3 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-navy-900 dark:focus:border-coral-500 rounded-2xl transition-all text-navy-900 dark:text-white text-sm font-bold outline-none shadow-sm\"\n                                                                placeholder={`Gallery Image #${idx + 1}`}\n                                                            />\n                                                            <button\n                                                                type=\"button\"\n                                                                onClick={() => removeHeroImage(idx)}\n                                                                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-300 dark:text-gray-600 hover:text-red-500 transition-colors\"\n                                                            >\n                                                                <Trash2 size={16} />\n                                                            </button>\n                                                        </div>\n                                                    </div>\n                                                ))}\n                                                <button\n                                                    type=\"button\"\n                                                    onClick={addHeroImage}\n                                                    className=\"w-full py-4 border-2 border-dashed border-gray-200 rounded-2xl text-gray-400 font-bold text-sm hover:border-navy-900 hover:text-navy-900 hover:bg-navy-50 transition-all flex items-center justify-center gap-2\"\n                                                >\n                                                    <Plus size={18} /> Add Another Image\n                                                </button>\n                                            </div>\n                                        </div>\n                                    )}\n\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-xs font-black text-navy-900 dark:text-white uppercase tracking-widest\">Primary Heading</label>\n                                            <input\n                                                type=\"text\"\n                                                value={heroContent.heading}\n                                                onChange={e => setHeroContent({ ...heroContent, heading: e.target.value })}\n                                                className=\"w-full px-4 py-3 bg-gray-50 dark:bg-slate-950 border-2 border-transparent dark:border-white/5 focus:border-navy-900 dark:focus:border-coral-500 focus:bg-white dark:focus:bg-slate-950 rounded-2xl outline-none font-bold text-navy-900 dark:text-white placeholder:text-gray-300\"\n                                                placeholder=\"Enter Primary Heading\"\n                                            />\n                                        </div>\n                                        <div className=\"space-y-2\">\n                                            <label className=\"text-xs font-black text-navy-900 dark:text-white uppercase tracking-widest\">Subheading Label</label>\n                                            <input\n                                                type=\"text\"\n                                                value={heroContent.subheading}\n                                                onChange={e => setHeroContent({ ...heroContent, subheading: e.target.value })}\n                                                className=\"w-full px-4 py-3 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-navy-900 dark:focus:border-coral-500 rounded-2xl outline-none font-bold text-navy-900 dark:text-white placeholder:text-gray-300 shadow-sm\"\n                                                placeholder=\"Enter Subheading\"\n                                            />\n                                        </div>\n                                        <div className=\"space-y-2 text-gray-900 \">\n                                            <label className=\"text-xs font-black text-navy-900 dark:text-white uppercase tracking-widest\">CTA Button Text</label>\n                                            <input\n                                                type=\"text\"\n                                                value={heroContent.button_text}\n                                                onChange={e => setHeroContent({ ...heroContent, button_text: e.target.value })}\n                                                className=\"w-full px-4 py-3 bg-gray-50 dark:bg-slate-950 border-2 border-transparent dark:border-white/5 focus:border-navy-900 dark:focus:border-coral-500 focus:bg-white dark:focus:bg-slate-950 rounded-2xl outline-none font-bold tracking-tight text-navy-900 dark:text-white\"\n                                            />\n                                        </div>\n                                        <div className=\"space-y-2 text-gray-900 \">\n                                            <label className=\"text-xs font-black text-navy-900 dark:text-white uppercase tracking-widest\">Button Destination</label>\n                                            <input\n                                                type=\"text\"\n                                                value={heroContent.button_link}\n                                                onChange={e => setHeroContent({ ...heroContent, button_link: e.target.value })}\n                                                className=\"w-full px-4 py-3 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-navy-900 dark:focus:border-coral-500 rounded-2xl outline-none font-bold text-navy-900 dark:text-white shadow-sm\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Right Side: Visual Preview */}\n                                <div className=\"lg:col-span-5 flex flex-col gap-4\">\n                                    <label className=\"text-xs font-black text-navy-900 uppercase tracking-widest flex items-center gap-2\">\n                                        <Globe size={14} className=\"text-navy-400\" />\n                                        Interactive Preview\n                                    </label>\n                                    <div className=\"relative aspect-[3/4] lg:aspect-auto lg:h-full bg-navy-900 dark:bg-slate-950 rounded-[2.5rem] overflow-hidden shadow-2xl border-8 border-navy-950 dark:border-white/5 group/preview\">\n                                        {/* Background Visual */}\n                                        <div className=\"absolute inset-0 z-0\">\n                                            {heroContent.type === 'video' ? (\n                                                heroContent.video_url ? (\n                                                    <video\n                                                        src={getGoogleDriveDirectLink(heroContent.video_url)}\n                                                        className=\"w-full h-full object-cover\"\n                                                        muted loop autoPlay playsInline\n                                                    />\n                                                ) : (\n                                                    getGoogleDriveDirectLink(heroContent.poster_url) && (\n                                                        <img src={getGoogleDriveDirectLink(heroContent.poster_url)} className=\"w-full h-full object-cover opacity-50\" alt=\"\" />\n                                                    )\n                                                )\n                                            ) : (\n                                                <div className=\"w-full h-full overflow-hidden bg-navy-800\">\n                                                    {heroContent.images[0] && getGoogleDriveDirectLink(heroContent.images[0]) && (\n                                                        <img src={getGoogleDriveDirectLink(heroContent.images[0])} className=\"w-full h-full object-cover\" alt=\"\" />\n                                                    )}\n                                                </div>\n                                            )}\n                                            <div className=\"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/80\" />\n                                        </div>\n\n                                        {/* Content Overlay */}\n                                        <div className=\"absolute inset-0 z-10 p-8 flex flex-col items-center justify-center text-center text-white space-y-4\">\n                                            <span className=\"text-[10px] font-black uppercase tracking-[0.3em] opacity-80 animate-in fade-in slide-in-from-bottom-2 duration-700\">\n                                                {heroContent.subheading?.replace(/No video configured/gi, '').replace(/No images configured/gi, '').trim()}\n                                            </span>\n                                            <h3 className=\"text-3xl md:text-4xl font-black italic tracking-tighter leading-none animate-in fade-in slide-in-from-bottom-4 duration-1000\">\n                                                {heroContent.heading?.replace(/No video configured/gi, '').replace(/No images configured/gi, '').trim()}\n                                            </h3>\n                                            <div className=\"pt-4 animate-in fade-in slide-in-from-bottom-6 duration-1000\">\n                                                <span className=\"px-8 py-3 bg-white text-navy-900 rounded-full text-xs font-black uppercase tracking-widest shadow-xl\">\n                                                    {heroContent.button_text}\n                                                </span>\n                                            </div>\n                                        </div>\n\n                                        {/* Device Mockup Decor */}\n                                        <div className=\"absolute top-4 left-1/2 -translate-x-1/2 w-20 h-5 bg-navy-950 rounded-full z-20 shadow-inner\" />\n                                    </div>\n                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-widest text-center\">Mobile Aspect Ratio Preview</p>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n\n                    {/* SHOP HERO BANNERS SECTION */}\n                    <section id=\"shop_heroes\" className=\"scroll-mt-32 space-y-6\">\n                        <div className=\"flex items-center gap-4 border-b-2 border-cyan-500 dark:border-cyan-500/50 pb-4\">\n                            <div className=\"w-12 h-12 rounded-2xl bg-cyan-500 flex items-center justify-center text-white shadow-xl\">\n                                <ImageIcon size={22} />\n                            </div>\n                            <div>\n                                <h2 className=\"text-3xl font-black text-navy-900 dark:text-white uppercase tracking-tight\">Shop Hero Banners</h2>\n                                <p className=\"text-[10px] font-black text-cyan-600/70 dark:text-cyan-400/70 uppercase tracking-[0.2em]\">Hero Images for Shop levels</p>\n                            </div>\n                        </div>\n\n                        <div className=\"bg-white dark:bg-white/5 rounded-3xl border border-gray-100 dark:border-white/10 p-8 shadow-xl space-y-8\">\n                            {/* Root Shop Hero */}\n                            <div className=\"space-y-4 pb-8 border-b border-gray-100 dark:border-white/5\">\n                                <div className=\"flex items-center justify-between\">\n                                    <div>\n                                        <h3 className=\"text-lg font-black text-navy-900 dark:text-white uppercase\">Main Shop Hero</h3>\n                                        <p className=\"text-xs text-gray-400 font-bold\">Image for the root /shop page</p>\n                                    </div>\n                                    <div className=\"w-32 h-20 rounded-xl bg-gray-100 dark:bg-white/5 overflow-hidden border border-gray-100 dark:border-white/10\">\n                                        {getGoogleDriveDirectLink(shopHeroImages['root'] || '') && (\n                                            <img src={getGoogleDriveDirectLink(shopHeroImages['root'] || '')} className=\"w-full h-full object-cover\" alt=\"\" />\n                                        )}\n                                    </div>\n                                </div>\n                                <input\n                                    type=\"url\"\n                                    value={shopHeroImages['root'] || ''}\n                                    onChange={e => setShopHeroImages({ ...shopHeroImages, root: e.target.value })}\n                                    className=\"w-full text-navy-900 dark:text-white px-4 py-3 bg-gray-50 dark:bg-slate-950 border-2 border-transparent focus:border-cyan-500 rounded-2xl outline-none font-bold text-sm shadow-sm transition-all\"\n                                    placeholder=\"Paste Main Shop Hero Link...\"\n                                />\n                            </div>\n\n                            {/* Category Heroes */}\n                            <div className=\"space-y-10\">\n                                {Object.values(CATEGORY_TAXONOMY).map(cat => (\n                                    <div key={cat.slug} className=\"space-y-6\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <div className=\"px-3 py-1 bg-cyan-100 dark:bg-cyan-900/40 text-cyan-700 dark:text-cyan-400 text-[10px] font-black uppercase tracking-widest rounded-full\">\n                                                Category: {cat.name}\n                                            </div>\n                                            <div className=\"h-px flex-1 bg-gray-100 dark:bg-white/5\" />\n                                        </div>\n\n                                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                                            {/* Category Level Image */}\n                                            <div className=\"space-y-3\">\n                                                <div className=\"flex items-center justify-between gap-4\">\n                                                    <label className=\"text-[10px] font-black text-navy-900 dark:text-white uppercase tracking-widest\">\n                                                        {cat.name} Hero Banner\n                                                    </label>\n                                                    <div className=\"w-20 h-10 rounded-lg bg-gray-100 dark:bg-white/5 overflow-hidden border border-gray-100 dark:border-white/5\">\n                                                        {getGoogleDriveDirectLink(shopHeroImages[cat.slug] || '') && (\n                                                            <img src={getGoogleDriveDirectLink(shopHeroImages[cat.slug] || '')} className=\"w-full h-full object-cover\" alt=\"\" />\n                                                        )}\n                                                    </div>\n                                                </div>\n                                                <input\n                                                    type=\"url\"\n                                                    value={shopHeroImages[cat.slug] || ''}\n                                                    onChange={e => setShopHeroImages({ ...shopHeroImages, [cat.slug]: e.target.value })}\n                                                    className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-gray-50 dark:bg-slate-950 border-2 border-transparent focus:border-cyan-500 rounded-xl outline-none text-xs font-bold shadow-sm transition-all\"\n                                                    placeholder={`${cat.name} image link...`}\n                                                />\n                                            </div>\n\n                                            {/* Subcategories (If any) */}\n                                            {cat.subcategories && cat.subcategories.map((sub: any) => (\n                                                <div key={sub.slug} className=\"space-y-3\">\n                                                    <div className=\"flex items-center justify-between gap-4\">\n                                                        <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest flex items-center gap-1\">\n                                                            Sub: {sub.name} <ChevronRight size={10} /> Hero\n                                                        </label>\n                                                        <div className=\"w-16 h-8 rounded bg-gray-100 dark:bg-white/5 overflow-hidden border border-gray-100 dark:border-white/5\">\n                                                            {getGoogleDriveDirectLink(shopHeroImages[`${cat.slug}/${sub.slug}`] || '') && (\n                                                                <img src={getGoogleDriveDirectLink(shopHeroImages[`${cat.slug}/${sub.slug}`] || '')} className=\"w-full h-full object-cover\" alt=\"\" />\n                                                            )}\n                                                        </div>\n                                                    </div>\n                                                    <input\n                                                        type=\"url\"\n                                                        value={shopHeroImages[`${cat.slug}/${sub.slug}`] || ''}\n                                                        onChange={e => setShopHeroImages({ ...shopHeroImages, [`${cat.slug}/${sub.slug}`]: e.target.value })}\n                                                        className=\"w-full text-navy-900 dark:text-white px-3 py-1.5 bg-gray-50 dark:bg-slate-950 border border-gray-200 dark:border-white/10 focus:border-cyan-500 rounded-lg outline-none text-[10px] font-bold shadow-sm transition-all\"\n                                                        placeholder={`${sub.name} sub-hero link...`}\n                                                    />\n                                                </div>\n                                            ))}\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    </section>\n\n\n                    {/* BENTO GRID SECTION */}\n                    <section id=\"bento\" className=\"scroll-mt-32 space-y-6\">\n                        <div className=\"flex items-center gap-4 border-b-2 border-orange-500 dark:border-orange-500/50 pb-4\">\n                            <div className=\"w-12 h-12 rounded-2xl bg-orange-500 flex items-center justify-center text-white shadow-xl\">\n                                <Grid size={22} />\n                            </div>\n                            <div>\n                                <h2 className=\"text-3xl font-black text-navy-900 dark:text-white uppercase tracking-tight\">Department Bento</h2>\n                                <p className=\"text-[10px] font-black text-orange-600/70 dark:text-orange-400/70 uppercase tracking-[0.2em]\">Homepage Category Grid</p>\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                            {bentoContent.tiles.map((tile, idx) => (\n                                <div key={idx} className=\"bg-white dark:bg-white/5 rounded-[2rem] border border-gray-100 dark:border-white/10 p-6 shadow-xl dark:shadow-none hover:shadow-2xl hover:border-orange-100 dark:hover:border-white/20 transition-all group/card\">\n                                    <div className=\"flex gap-6\">\n                                        {/* Image Preview */}\n                                        <div className=\"w-24 h-24 rounded-2xl overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-white/5 border border-gray-100 dark:border-white/10\">\n                                            {getGoogleDriveDirectLink(tile.image) && (\n                                                <img\n                                                    src={getGoogleDriveDirectLink(tile.image)}\n                                                    className=\"w-full h-full object-cover transition-transform group-hover/card:scale-110 duration-700\"\n                                                    alt=\"\"\n                                                />\n                                            )}\n                                        </div>\n\n                                        {/* Inputs Grouped */}\n                                        <div className=\"flex-1 space-y-4\">\n                                            <div className=\"grid grid-cols-2 gap-3\">\n                                                <div className=\"space-y-1\">\n                                                    <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Tile Label</label>\n                                                    <input\n                                                        type=\"text\"\n                                                        value={tile.title}\n                                                        onChange={e => {\n                                                            const newTiles = [...bentoContent.tiles];\n                                                            newTiles[idx] = { ...newTiles[idx], title: e.target.value };\n                                                            setBentoContent({ tiles: newTiles });\n                                                        }}\n                                                        className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-orange-500 rounded-xl outline-none text-sm font-bold transition-all shadow-sm\"\n                                                    />\n                                                </div>\n                                                <div className=\"space-y-1\">\n                                                    <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Accent Text</label>\n                                                    <input\n                                                        type=\"text\"\n                                                        value={tile.subtitle}\n                                                        onChange={e => {\n                                                            const newTiles = [...bentoContent.tiles];\n                                                            newTiles[idx] = { ...newTiles[idx], subtitle: e.target.value };\n                                                            setBentoContent({ tiles: newTiles });\n                                                        }}\n                                                        className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-orange-500 rounded-xl outline-none text-xs font-bold transition-all shadow-sm\"\n                                                    />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"space-y-1\">\n                                                <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Image Asset URL</label>\n                                                <input\n                                                    type=\"url\"\n                                                    value={tile.image}\n                                                    onChange={e => {\n                                                        const newTiles = [...bentoContent.tiles];\n                                                        newTiles[idx] = { ...newTiles[idx], image: e.target.value };\n                                                        setBentoContent({ tiles: newTiles });\n                                                    }}\n                                                    className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-orange-500 rounded-xl outline-none text-xs font-mono transition-all shadow-sm\"\n                                                    placeholder=\"Google Drive link...\"\n                                                />\n                                            </div>\n\n                                            <div className=\"space-y-1\">\n                                                <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Landing Page Slug</label>\n                                                <input\n                                                    type=\"text\"\n                                                    value={tile.href}\n                                                    onChange={e => {\n                                                        const newTiles = [...bentoContent.tiles];\n                                                        newTiles[idx] = { ...newTiles[idx], href: e.target.value };\n                                                        setBentoContent({ tiles: newTiles });\n                                                    }}\n                                                    className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-orange-500 rounded-xl outline-none text-xs font-bold transition-all shadow-sm\"\n                                                    placeholder=\"/shop/...\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </section>\n\n                    {/* SHOP COLLECTIONS SECTION */}\n                    <section id=\"shop\" className=\"scroll-mt-32 space-y-6\">\n                        <div className=\"flex items-center gap-4 border-b-2 border-blue-600 dark:border-blue-600/50 pb-4\">\n                            <div className=\"w-12 h-12 rounded-2xl bg-blue-600 flex items-center justify-center text-white shadow-xl\">\n                                <ShoppingBag size={22} />\n                            </div>\n                            <div>\n                                <h2 className=\"text-3xl font-black text-navy-900 dark:text-white uppercase tracking-tight\">Shop Collections</h2>\n                                <p className=\"text-[10px] font-black text-blue-600/70 dark:text-blue-400/70 uppercase tracking-[0.2em]\">Main Shop Gallery Cards</p>\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n                            {shopCollections.collections.map((col, idx) => (\n                                <div key={idx} className=\"bg-white dark:bg-white/5 rounded-3xl border border-gray-100 dark:border-white/10 overflow-hidden shadow-lg dark:shadow-none hover:shadow-2xl hover:border-blue-100 dark:hover:border-white/20 transition-all group/shopcard\">\n                                    <div className=\"h-40 relative bg-gray-900 overflow-hidden\">\n                                        <img\n                                            src={getGoogleDriveDirectLink(col.image)}\n                                            className=\"w-full h-full object-cover opacity-60 transition-transform group-hover/shopcard:scale-110 duration-1000\"\n                                            alt=\"\"\n                                        />\n                                        <div className=\"absolute inset-0 p-4 flex flex-col justify-end bg-gradient-to-t from-black/80 to-transparent\">\n                                            <span className=\"text-white text-lg font-black tracking-tight leading-none px-2\">{col.name}</span>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"p-5 space-y-4\">\n                                        <div className=\"space-y-1\">\n                                            <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest\">Collection Image Link</label>\n                                            <input\n                                                type=\"url\"\n                                                value={col.image}\n                                                onChange={e => {\n                                                    const newCols = [...shopCollections.collections];\n                                                    newCols[idx] = { ...newCols[idx], image: e.target.value };\n                                                    setShopCollections({ collections: newCols });\n                                                }}\n                                                className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-blue-600 rounded-xl outline-none text-xs truncate transition-all shadow-sm\"\n                                            />\n                                        </div>\n\n                                        <div className=\"grid grid-cols-2 gap-3\">\n                                            <div className=\"space-y-1\">\n                                                <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest\">Display Name</label>\n                                                <input\n                                                    type=\"text\"\n                                                    value={col.name}\n                                                    onChange={e => {\n                                                        const newCols = [...shopCollections.collections];\n                                                        newCols[idx] = { ...newCols[idx], name: e.target.value };\n                                                        setShopCollections({ collections: newCols });\n                                                    }}\n                                                    className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-blue-600 rounded-xl outline-none text-sm font-bold transition-all shadow-sm\"\n                                                />\n                                            </div>\n                                            <div className=\"space-y-1\">\n                                                <label className=\"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest\">Catalog ID</label>\n                                                <input\n                                                    type=\"text\"\n                                                    value={col.slug}\n                                                    onChange={e => {\n                                                        const newCols = [...shopCollections.collections];\n                                                        newCols[idx] = { ...newCols[idx], slug: e.target.value };\n                                                        setShopCollections({ collections: newCols });\n                                                    }}\n                                                    className=\"w-full text-gray-900 dark:text-gray-500 px-3 py-2 bg-gray-50 dark:bg-slate-900 border-2 border-transparent focus:border-blue-600 focus:bg-white rounded-xl outline-none text-xs font-mono transition-all opacity-50 select-none pointer-events-none bg-gray-100 dark:bg-slate-900\"\n                                                    readOnly\n                                                />\n                                            </div>\n                                        </div>\n\n                                        <div className=\"space-y-1\">\n                                            <label className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest\">Gallery Description</label>\n                                            <input\n                                                type=\"text\"\n                                                value={col.description}\n                                                onChange={e => {\n                                                    const newCols = [...shopCollections.collections];\n                                                    newCols[idx] = { ...newCols[idx], description: e.target.value };\n                                                    setShopCollections({ collections: newCols });\n                                                }}\n                                                className=\"w-full text-navy-900 dark:text-white px-3 py-2 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-blue-600 rounded-xl outline-none text-xs font-bold transition-all shadow-sm\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </section>\n\n                    {/* LOGIN PANEL SECTION */}\n                    <section id=\"login\" className=\"scroll-mt-32 space-y-6\">\n                        <div className=\"flex items-center gap-4 border-b-2 border-indigo-500 dark:border-indigo-500/50 pb-4\">\n                            <div className=\"w-12 h-12 rounded-2xl bg-indigo-500 flex items-center justify-center text-white shadow-xl\">\n                                <UserCircle size={22} />\n                            </div>\n                            <div>\n                                <h2 className=\"text-3xl font-black text-navy-900 dark:text-white uppercase tracking-tight\">Login Page</h2>\n                                <p className=\"text-[10px] font-black text-indigo-600/70 dark:text-indigo-400/70 uppercase tracking-[0.2em]\">Authentication Experience</p>\n                            </div>\n                        </div>\n\n                        <div className=\"bg-white dark:bg-white/5 rounded-[2.5rem] border border-gray-100 dark:border-white/10 shadow-2xl dark:shadow-none overflow-hidden p-8\">\n                            <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-10\">\n                                <div className=\"lg:col-span-6 space-y-10\">\n                                    <div className=\"space-y-6\">\n                                        <label className=\"text-xs font-black text-navy-900 dark:text-white uppercase tracking-widest block\">Carousel Imagery (Min 1, Max 3)</label>\n                                        <div className=\"space-y-3\">\n                                            {loginContent.visual_urls.map((url, idx) => (\n                                                <div key={idx} className=\"flex gap-4 items-center\">\n                                                    <div className=\"relative flex-1\">\n                                                        <input\n                                                            type=\"url\"\n                                                            value={url}\n                                                            onChange={e => {\n                                                                const newUrls = [...loginContent.visual_urls];\n                                                                newUrls[idx] = e.target.value;\n                                                                setLoginContent({ ...loginContent, visual_urls: newUrls });\n                                                            }}\n                                                            className=\"w-full text-navy-900 dark:text-white pl-4 pr-10 py-3 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-indigo-500 rounded-2xl outline-none font-bold text-sm transition-all shadow-sm\"\n                                                            placeholder={`Image URL #${idx + 1}`}\n                                                        />\n                                                        {url && (\n                                                            <div className=\"absolute right-3 top-1/2 -translate-y-1/2 w-6 h-6 rounded-full overflow-hidden border border-gray-200\">\n                                                                {getGoogleDriveDirectLink(url) && (\n                                                                    <img src={getGoogleDriveDirectLink(url)} className=\"w-full h-full object-cover\" alt=\"\" />\n                                                                )}\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                            ))}\n                                        </div>\n                                    </div>\n\n                                    <div className=\"space-y-4\">\n                                        <label className=\"text-xs font-black text-navy-900 uppercase tracking-widest block\">Narrative Headline</label>\n                                        <textarea\n                                            value={loginContent.headline}\n                                            onChange={e => setLoginContent({ ...loginContent, headline: e.target.value })}\n                                            rows={4}\n                                            className=\"w-full text-navy-900 dark:text-white px-6 py-4 bg-white dark:bg-slate-950 border-2 border-gray-200 dark:border-white/10 focus:border-indigo-500 rounded-2xl outline-none font-bold text-lg leading-relaxed shadow-sm focus:bg-white dark:focus:bg-slate-950 transition-all\"\n                                            placeholder=\"Introduce the brand vibe...\"\n                                        />\n                                        <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-[0.1em]\">HTML supported. Use \\u003cbr /\\u003e for line breaks.</p>\n                                    </div>\n                                </div>\n\n                                <div className=\"lg:col-span-6 flex flex-col gap-4\">\n                                    <label className=\"text-xs font-black text-navy-900 dark:text-white uppercase tracking-widest flex items-center gap-2\">\n                                        <Smartphone size={14} className=\"text-navy-400\" />\n                                        Visual Mockup\n                                    </label>\n                                    <div className=\"relative aspect-video lg:aspect-auto lg:h-[450px] bg-[#1a1a24] dark:bg-slate-950 rounded-[3rem] overflow-hidden border-[12px] border-black dark:border-white/10 shadow-[0_40px_100px_-20px_rgba(0,0,0,0.6)] group\">\n                                        {/* Background Carousel (Preview first active) */}\n                                        <div className=\"absolute inset-0 z-0\">\n                                            {loginContent.visual_urls.find(url => url !== '') ? (\n                                                <img\n                                                    src={getGoogleDriveDirectLink(loginContent.visual_urls.find(url => url !== '') || '')}\n                                                    className=\"w-full h-full object-cover opacity-60\"\n                                                    alt=\"\"\n                                                />\n                                            ) : (\n                                                <div className=\"w-full h-full bg-navy-900/50\" />\n                                            )}\n                                            <div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent\" />\n                                        </div>\n\n                                        {/* Brand Elements Mockup */}\n                                        <div className=\"absolute inset-0 z-10 p-12 flex flex-col justify-end\">\n                                            <div className=\"w-12 h-12 bg-white rounded-2xl mb-6 shadow-2xl flex items-center justify-center p-2 opacity-50\">\n                                                <div className=\"w-full h-full bg-navy-900 rounded-lg\" />\n                                            </div>\n                                            <div className=\"max-w-xs space-y-4\">\n                                                <h4 className=\"text-white text-3xl font-black leading-[1.1] tracking-tight transition-all duration-700 hover:scale-105 origin-left\" dangerouslySetInnerHTML={{ __html: loginContent.headline }} />\n                                                <div className=\"flex gap-1.5\">\n                                                    {[1, 2, 3].map(i => (\n                                                        <div key={i} className={`h-1 rounded-full transition-all duration-500 ${i === 1 ? 'w-8 bg-white' : 'w-2 bg-white/20'}`} />\n                                                    ))}\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        {/* Auth Form Hint */}\n                                        <div className=\"absolute top-1/2 right-12 -translate-y-1/2 w-48 h-64 bg-white/5 backdrop-blur-3xl rounded-3xl border border-white/10 hidden md:block shadow-2xl p-6 space-y-3\">\n                                            <div className=\"h-2 w-1/2 bg-white/20 rounded-full\" />\n                                            <div className=\"h-8 w-full bg-white/5 rounded-xl\" />\n                                            <div className=\"h-8 w-full bg-white/5 rounded-xl\" />\n                                            <div className=\"h-10 w-full bg-red-600/40 rounded-xl\" />\n                                        </div>\n                                    </div>\n                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-widest text-center\">Authentication Overlay Pattern</p>\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n                </form>\n            </div>\n\n            {/* Floating Mobile/Tablet Save Prompt */}\n            <div className=\"fixed bottom-0 left-0 right-0 p-4 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-t border-gray-100 dark:border-white/10 flex items-center justify-between lg:hidden z-[100] shadow-[0_-20px_50px_-10px_rgba(0,0,0,0.1)]\">\n                <div className=\"flex flex-col\">\n                    <span className=\"text-[10px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest leading-none\">Global Status</span>\n                    <span className=\"text-xs font-black text-navy-900 dark:text-white mt-1 flex items-center gap-2\">\n                        <div className={`w-3 h-3 rounded-full shadow-sm ${saving ? 'bg-orange-500 animate-pulse' : 'bg-green-500'}`} />\n                        {saving ? 'Syncing Customizations...' : 'Cloud Synced'}\n                    </span>\n                </div>\n                <button\n                    onClick={() => handleSave()}\n                    disabled={saving}\n                    className=\"bg-navy-900 text-white font-black py-4 px-8 rounded-2xl flex items-center gap-2 shadow-xl hover:scale-105 active:scale-95 transition-all text-sm tracking-widest\"\n                >\n                    {saving ? <Loader2 className=\"animate-spin\" size={16} /> : <Save size={16} />}\n                    SYNC NOW\n                </button>\n            </div>\n\n            <style jsx global>{`\n                .custom-scrollbar::-webkit-scrollbar {\n                    width: 6px;\n                }\n                .custom-scrollbar::-webkit-scrollbar-track {\n                    background: transparent;\n                }\n                .custom-scrollbar::-webkit-scrollbar-thumb {\n                    background: #e2e8f0;\n                    border-radius: 10px;\n                }\n                .dark .custom-scrollbar::-webkit-scrollbar-thumb {\n                    background: rgba(255, 255, 255, 0.1);\n                }\n                .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n                    background: #cbd5e1;\n                }\n                .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n                    background: rgba(255, 255, 255, 0.2);\n                }\n                \n                @keyframes fade-in {\n                    from { opacity: 0; }\n                    to { opacity: 1; }\n                }\n                \n                @keyframes slide-in-from-bottom {\n                    from { transform: translateY(20px); opacity: 0; }\n                    to { transform: translateY(0); opacity: 1; }\n                }\n\n                @keyframes slide-in-from-right {\n                    from { transform: translateX(20px); opacity: 0; }\n                    to { transform: translateX(0); opacity: 1; }\n                }\n            `}</style>\n\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/api/gift-finder/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[305,308],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[305,308],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1942,1945],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1942,1945],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":70,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2240,2243],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2240,2243],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":86,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2864,2867],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2864,2867],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":121,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4342,4345],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4342,4345],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { createClient } from '@/utils/supabase/server';\nimport { getMomentById } from '@/data/giftMoments';\n\ninterface GiftFinderRequest {\n    moment: string;\n    audience?: string;\n    budget?: number;\n}\n\ninterface ProductWithScore {\n    product: any;\n    score: number;\n}\n\nexport async function POST(request: NextRequest) {\n    try {\n        const body: GiftFinderRequest = await request.json();\n        const { moment, audience, budget } = body;\n\n        if (!moment) {\n            return NextResponse.json({ error: 'Moment is required' }, { status: 400 });\n        }\n\n        const momentConfig = getMomentById(moment);\n        if (!momentConfig) {\n            return NextResponse.json({ error: 'Invalid moment' }, { status: 400 });\n        }\n\n        const supabase = await createClient();\n\n        // Base query - fetch giftable products\n        let query = supabase\n            .from('products')\n            .select('*')\n            .contains('metadata', { is_giftable: true });\n\n        // Budget filter (hard constraint)\n        if (budget) {\n            if (budget === 499) {\n                query = query.lte('price', 499);\n            } else if (budget === 999) {\n                query = query.gt('price', 499).lte('price', 999);\n            } else if (budget === 10000) {\n                query = query.gt('price', 999);\n            }\n        }\n\n        const { data: products, error } = await query.limit(100);\n\n        if (error) {\n            console.error('Supabase error:', error);\n            return NextResponse.json({ error: 'Database error' }, { status: 500 });\n        }\n\n        if (!products || products.length === 0) {\n            return NextResponse.json({ products: [], message: 'No products found' });\n        }\n\n        // Filter by audience (if provided)\n        let filtered = products;\n        if (audience) {\n            filtered = products.filter((p: any) => {\n                const productAudience = p.metadata?.audience || [];\n                return productAudience.includes(audience) || productAudience.includes('unisex');\n            });\n        }\n\n        // Filter by moment (gift_moments or gift_types)\n        filtered = filtered.filter((p: any) => {\n            const productMoments = p.metadata?.gift_moments || [];\n            const productGiftTypes = p.metadata?.gift_types || [];\n\n            // Check if product explicitly matches moment\n            if (productMoments.includes(moment)) return true;\n\n            // Check if product gift types overlap with moment's preferred types\n            const hasMatchingType = momentConfig.giftTypes.some(type =>\n                productGiftTypes.includes(type)\n            );\n\n            return hasMatchingType;\n        });\n\n        // Score products\n        const scored: ProductWithScore[] = filtered.map((product: any) => {\n            let score = 0;\n\n            // Category match bonus\n            const productCategories = product.metadata?.categories || [];\n            const categoryMatch = momentConfig.preferredCategories.length === 0 ||\n                momentConfig.preferredCategories.some(cat => productCategories.includes(cat));\n            if (categoryMatch) score += 30;\n\n            // Price efficiency bonus (if budget provided)\n            if (budget && product.price < budget * 0.8) {\n                score += 20;\n            }\n\n            // Gift type match bonus\n            const productGiftTypes = product.metadata?.gift_types || [];\n            if (productGiftTypes.includes('impulse')) score += 15;\n            if (productGiftTypes.includes('quick')) score += 10;\n\n            // Popularity/Featured bonus\n            if (product.metadata?.is_featured) score += 10;\n            if (product.metadata?.is_new_arrival) score += 5;\n\n            return { product, score };\n        });\n\n        // Sort by score and take top 8\n        scored.sort((a, b) => b.score - a.score);\n        const topProducts = scored.slice(0, 8).map(s => s.product);\n\n        // Fallback: If less than 4 results, relax moment constraint\n        if (topProducts.length < 4 && filtered.length < 4) {\n            // Re-query without moment filter, keep audience + budget\n            let fallbackFiltered = products;\n            if (audience) {\n                fallbackFiltered = products.filter((p: any) => {\n                    const productAudience = p.metadata?.audience || [];\n                    return productAudience.includes(audience) || productAudience.includes('unisex');\n                });\n            }\n            return NextResponse.json({\n                products: fallbackFiltered.slice(0, 8),\n                fallback: true\n            });\n        }\n\n        return NextResponse.json({ products: topProducts });\n\n    } catch (err) {\n        console.error('Gift Finder API error:', err);\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\n    }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/api/proxy-image/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/auth/callback/route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CookieOptions' is defined but never used.","line":1,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":48,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CookieOptions"},"fix":{"range":[27,47],"text":""},"desc":"Remove unused variable \"CookieOptions\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient, type CookieOptions } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport { NextResponse } from 'next/server'\n\nexport async function GET(request: Request) {\n    const { searchParams, origin } = new URL(request.url)\n    const code = searchParams.get('code')\n    // If \"next\" is in param, use it; otherwise default to home\n    const next = searchParams.get('next') ?? '/'\n\n    if (code) {\n        const cookieStore = await cookies()\n        const supabase = createServerClient(\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\n            process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n            {\n                cookies: {\n                    getAll() {\n                        return cookieStore.getAll()\n                    },\n                    setAll(cookiesToSet) {\n                        try {\n                            cookiesToSet.forEach(({ name, value, options }) =>\n                                cookieStore.set(name, value, options)\n                            )\n                        } catch {\n                            // Suppressed: Server Component cannot set cookies\n                        }\n                    },\n                },\n            }\n        )\n\n        const { error } = await supabase.auth.exchangeCodeForSession(code)\n        if (!error) {\n            return NextResponse.redirect(`${origin}${next}`)\n        }\n    }\n\n    // Something went wrong, redirect to an error page or login\n    return NextResponse.redirect(`${origin}/login?error=auth_callback_error`)\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/cart/page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":39,"column":45,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2985,3087],"text":"\n                        Looks like you haven&apos;t discovered our treasures yet!\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2985,3087],"text":"\n                        Looks like you haven&lsquo;t discovered our treasures yet!\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2985,3087],"text":"\n                        Looks like you haven&#39;t discovered our treasures yet!\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2985,3087],"text":"\n                        Looks like you haven&rsquo;t discovered our treasures yet!\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":59,"column":37,"nodeType":"JSXOpeningElement","endLine":59,"endColumn":191},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":96,"column":37,"nodeType":"JSXOpeningElement","endLine":96,"endColumn":172}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { Trash2, Minus, Plus, ArrowRight, ShieldCheck } from 'lucide-react';\nimport GlassCard from '@/components/UI/GlassCard';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { useCart } from '@/context/CartContext';\nimport { formatPrice } from '@/utils/formatPrice';\nimport { useStoreSettings } from '@/context/StoreSettingsContext';\n\nconst CartPage = () => {\n    const { items, removeFromCart, updateQuantity, cartTotal } = useCart();\n    const { settings } = useStoreSettings();\n\n    const shipping = cartTotal >= settings.free_shipping_threshold ? 0 : settings.shipping_charge;\n    const tax = parseFloat((cartTotal * (settings.tax_rate / 100)).toFixed(2)); // Dynamic Tax Rate\n    const total = cartTotal + shipping + tax;\n\n    if (items.length === 0) {\n        const WORLDS = [\n            { name: 'Stationery & Play', subtitle: 'Curiosity & Play.', href: '/shop/kids', icon: 'ðŸŽ¨', color: '#FFD966', image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=400&q=80' },\n            { name: 'Clothing', subtitle: 'Fashion for Everyone.', href: '/shop/clothing', icon: 'ðŸ‘•', color: '#5BC0EB', image: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?auto=format&fit=crop&w=400&q=80' },\n            { name: 'Lifestyle', subtitle: 'Small Joys & Gifting.', href: '/shop/lifestyle', icon: 'ðŸŽ', color: '#B392AC', image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?auto=format&fit=crop&w=400&q=80' },\n            { name: 'Home & Tech', subtitle: 'Decor & Comfort.', href: '/shop/home', icon: 'ðŸ ', color: '#1B263B', image: 'https://images.unsplash.com/photo-1513519245088-0e12902e5a38?auto=format&fit=crop&w=400&q=80' },\n            { name: 'Accessories', subtitle: 'Style Extras.', href: '/shop/accessories', icon: 'ðŸ§¢', color: '#9BC53D', image: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?auto=format&fit=crop&w=400&q=80' },\n            { name: 'Pets', subtitle: 'Furry Friends.', href: '/shop/pets', icon: 'ðŸ¾', color: '#FF6B6B', image: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?auto=format&fit=crop&w=400&q=80' },\n        ];\n\n        return (\n            <div className=\"w-full min-h-[calc(100vh-72px)] bg-background relative overflow-hidden flex flex-col items-center justify-center p-4 md:p-8 mt-[var(--header-height)]\">\n                <AmbientBackground className=\"opacity-60\" />\n\n                {/* Empty State Card */}\n                <GlassCard className=\"mx-auto p-8 md:p-12 text-center max-w-md w-full flex flex-col items-center shadow-xl border border-subtle relative z-10\">\n                    <div className=\"text-6xl mb-6 animate-bounce\">ðŸ›ï¸</div>\n                    <h2 className=\"text-2xl md:text-3xl font-heading font-bold text-primary mb-3 leading-tight\">Your Bag is Empty</h2>\n                    <p className=\"text-secondary font-medium mb-8 leading-relaxed\">\n                        Looks like you haven't discovered our treasures yet!\n                        <br className=\"hidden md:block\" />\n                        Explore our world of wonders.\n                    </p>\n                    <Link href=\"/\" className=\"w-full md:w-auto\">\n                        <button className=\"w-full md:w-auto px-10 py-4 bg-black dark:bg-white text-white dark:text-black font-bold rounded-xl hover:bg-coral-500 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 active:scale-95\">\n                            Start Shopping\n                        </button>\n                    </Link>\n                </GlassCard>\n\n                {/* Worlds Navigation */}\n                <div className=\"mt-12 md:mt-16 w-full max-w-5xl relative z-10\">\n                    <p className=\"text-center text-xs font-bold text-gray-400 uppercase tracking-widest mb-6\">Or Jump Straight Into</p>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 md:gap-6 justify-items-center\">\n                        {WORLDS.map((world) => (\n                            <Link key={world.name} href={world.href} className=\"group flex flex-col items-center gap-3 w-full\">\n                                <div\n                                    className=\"w-full aspect-[3/4] rounded-2xl relative overflow-hidden bg-white shadow-sm transition-all duration-500 group-hover:shadow-xl group-hover:-translate-y-1 border border-white/50\"\n                                >\n                                    <img src={world.image} alt={world.name} className=\"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\" />\n                                    <div className=\"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors\" />\n                                </div>\n                                <div className=\"flex flex-col items-center text-center\">\n                                    <span className=\"text-[10px] md:text-xs font-bold text-navy-800 uppercase tracking-wide group-hover:text-coral-500 transition-colors\">\n                                        {world.name}\n                                    </span>\n                                    <span className=\"text-[9px] text-gray-400 font-medium mt-0.5 group-hover:text-gray-600 transition-colors\">\n                                        {world.subtitle}\n                                    </span>\n                                </div>\n                            </Link>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <main className=\"min-h-screen bg-background relative overflow-hidden pb-32 md:pb-20 pt-[var(--header-height)]\">\n            {/* Background Decor */}\n            <AmbientBackground className=\"opacity-60\" />\n\n            <div className=\"container-premium max-w-[1200px] mx-auto px-4 md:px-6 pt-8 md:pt-12 relative z-10\">\n                <header className=\"mb-8 md:mb-12\">\n                    <h1 className=\"text-3xl md:text-5xl font-heading font-bold text-primary mb-2\">My Bag ðŸ›ï¸</h1>\n                    <p className=\"text-secondary font-medium\">{items.reduce((acc, i) => acc + i.qty, 0)} items ready for adventure</p>\n                </header>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start\">\n                    {/* Items Column */}\n                    <div className=\"lg:col-span-2 space-y-6\">\n                        {items.map((item) => (\n                            <GlassCard key={item.id} className=\"p-4 md:p-6 flex gap-4 md:gap-6 items-center group hover:border-coral-500/30 transition-colors\">\n                                {/* Image */}\n                                <div className=\"w-24 h-24 md:w-32 h-32 bg-surface-2 rounded-2xl overflow-hidden shadow-sm flex-shrink-0 relative\">\n                                    <img src={item.image} alt={item.name} className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\" />\n                                </div>\n\n                                {/* Details */}\n                                <div className=\"flex-1 min-w-0\">\n                                    <div className=\"flex justify-between items-start mb-1\">\n                                        <h3 className=\"text-lg md:text-xl font-bold text-primary leading-tight truncate pr-4\">{item.name}</h3>\n                                        <button\n                                            onClick={() => removeFromCart(item.id)}\n                                            className=\"text-secondary hover:text-red-500 transition-colors bg-surface-2 p-2 rounded-full hover:bg-red-500/10\"\n                                        >\n                                            <Trash2 size={18} />\n                                        </button>\n                                    </div>\n\n                                    <p className=\"text-sm font-bold text-secondary mb-3\">\n                                        {item.size && <span>{item.size} â€¢ </span>}\n                                        {item.color && <span>{item.color}</span>}\n                                    </p>\n\n                                    <div className=\"flex justify-between items-end\">\n                                        <span className=\"text-xl font-bold text-primary\">{formatPrice(item.price)}</span>\n\n                                        {/* Quantity */}\n                                        <div className=\"flex items-center gap-3 bg-surface-2 rounded-xl shadow-sm border border-subtle px-1 py-1\">\n                                            <button\n                                                onClick={() => updateQuantity(item.id, item.qty - 1)}\n                                                className=\"w-8 h-8 flex items-center justify-center text-primary hover:bg-surface-3 rounded-lg transition-colors\"\n                                            >\n                                                <Minus size={14} />\n                                            </button>\n                                            <span className=\"w-4 text-center text-sm font-bold text-primary\">{item.qty}</span>\n                                            <button\n                                                onClick={() => updateQuantity(item.id, item.qty + 1)}\n                                                className=\"w-8 h-8 flex items-center justify-center text-primary hover:bg-surface-3 rounded-lg transition-colors\"\n                                            >\n                                                <Plus size={14} />\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </GlassCard>\n                        ))}\n\n                        {/* Gift Note / Upsell (Optional Adorable Touch) */}\n\n                    </div>\n\n                    {/* Summary Column */}\n                    <div className=\"lg:col-span-1 lg:sticky lg:top-32\">\n                        <GlassCard className=\"p-6 md:p-8 bg-card backdrop-blur-xl border border-subtle\">\n                            <h2 className=\"text-2xl font-heading font-bold text-primary mb-6\">Order Summary</h2>\n\n                            <div className=\"space-y-4 mb-6\">\n                                <div className=\"flex justify-between text-sm font-medium text-secondary\">\n                                    <span>Subtotal</span>\n                                    <span className=\"text-primary font-bold\">{formatPrice(cartTotal)}</span>\n                                </div>\n                                <div className=\"flex justify-between text-sm font-medium text-secondary\">\n                                    <span>Shipping</span>\n                                    <span className={`${shipping === 0 ? 'text-green-500' : 'text-primary'} font-bold`}>\n                                        {shipping === 0 ? 'Free' : formatPrice(shipping)}\n                                    </span>\n                                </div>\n                                <div className=\"flex justify-between text-sm font-medium text-secondary\">\n                                    <span>Tax</span>\n                                    <span className=\"text-primary font-bold\">{formatPrice(tax)}</span>\n                                </div>\n                            </div>\n\n                            <div className=\"border-t border-dashed border-subtle my-6\"></div>\n\n                            <div className=\"flex justify-between items-end mb-8\">\n                                <span className=\"text-lg font-bold text-primary\">Total</span>\n                                <span className=\"text-3xl font-heading font-bold text-primary\">{formatPrice(total)}</span>\n                            </div>\n\n                            <Link href=\"/checkout\" className=\"block w-full\">\n                                <button className=\"w-full py-4 bg-black dark:bg-white text-white dark:text-black font-bold rounded-xl hover:bg-coral-500 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2 group\">\n                                    Checkout <ArrowRight size={20} className=\"group-hover:translate-x-1 transition-transform\" />\n                                </button>\n                            </Link>\n\n                            <div className=\"mt-6 flex items-center justify-center gap-2 text-xs text-secondary font-medium\">\n                                <ShieldCheck size={14} /> Secure Checkout\n                            </div>\n                        </GlassCard>\n                    </div>\n                </div>\n            </div>\n\n            {/* Mobile Sticky Checkout (Optional overlap handling) */}\n            <div className=\"fixed bottom-0 inset-x-0 p-4 bg-card/90 backdrop-blur-md border-t border-subtle md:hidden z-50\">\n                <Link href=\"/checkout\">\n                    <button className=\"w-full py-3.5 bg-black dark:bg-white text-white dark:text-black font-bold rounded-xl shadow-lg flex items-center justify-center gap-2\">\n                        Checkout â€¢ {formatPrice(total)}\n                    </button>\n                </Link>\n            </div>\n        </main>\n    );\n};\n\nexport default CartPage;\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/checkout/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CreditCard' is defined but never used.","line":4,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":31,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CreditCard"},"fix":{"range":[85,97],"text":""},"desc":"Remove unused variable \"CreditCard\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Mail' is defined but never used.","line":4,"column":64,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":68,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Mail"},"fix":{"range":[128,134],"text":""},"desc":"Remove unused variable \"Mail\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MapPin' is defined but never used.","line":4,"column":70,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":76,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MapPin"},"fix":{"range":[134,142],"text":""},"desc":"Remove unused variable \"MapPin\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Phone' is defined but never used.","line":4,"column":78,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":83,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Phone"},"fix":{"range":[142,149],"text":""},"desc":"Remove unused variable \"Phone\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":4,"column":85,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":89,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[149,155],"text":""},"desc":"Remove unused variable \"User\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'walletLoading' is assigned a value but never used.","line":40,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":40,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3052,3055],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3052,3055],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4294,4297],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4294,4297],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":119,"column":8,"nodeType":"ArrayExpression","endLine":119,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[5282,5284],"text":"[supabase]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'isWalletApplied'. Either include it or remove the dependency array.","line":255,"column":8,"nodeType":"ArrayExpression","endLine":255,"endColumn":64,"suggestions":[{"desc":"Update the dependencies array to be: [items, cartTotal, settings, walletBalance, loadingUser, isWalletApplied]","fix":{"range":[10337,10393],"text":"[items, cartTotal, settings, walletBalance, loadingUser, isWalletApplied]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":315,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":315,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":385,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":385,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14865,14868],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14865,14868],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":733,"column":45,"nodeType":"JSXOpeningElement","endLine":733,"endColumn":124}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { ArrowLeft, CreditCard, Wallet, Banknote, ShieldCheck, Mail, MapPin, Phone, User, CheckCircle2, Loader2, ArrowRight, PartyPopper } from 'lucide-react';\nimport confetti from 'canvas-confetti';\nimport { toast } from 'sonner';\n\nimport { formatPrice } from '@/utils/formatPrice';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport GlassCard from '@/components/UI/GlassCard';\nimport { useUI } from '@/context/UIContext';\nimport { useCart } from '@/context/CartContext';\nimport { createOrder } from '@/actions/orderActions'; // Server Action\nimport { createBrowserClient } from '@supabase/ssr'; // Import Supabase Client\n\nimport { useStoreSettings } from '@/context/StoreSettingsContext';\nimport { validateCoupon } from '@/actions/couponActions';\n\n\nconst INDIAN_STATES = [\n    \"Andaman and Nicobar Islands\", \"Andhra Pradesh\", \"Arunachal Pradesh\", \"Assam\", \"Bihar\", \"Chandigarh\", \"Chhattisgarh\", \"Dadra and Nagar Haveli\", \"Daman and Diu\", \"Delhi\", \"Goa\", \"Gujarat\", \"Haryana\", \"Himachal Pradesh\", \"Jammu and Kashmir\", \"Jharkhand\", \"Karnataka\", \"Kerala\", \"Ladakh\", \"Lakshadweep\", \"Madhya Pradesh\", \"Maharashtra\", \"Manipur\", \"Meghalaya\", \"Mizoram\", \"Nagaland\", \"Odisha\", \"Puducherry\", \"Punjab\", \"Rajasthan\", \"Sikkim\", \"Tamil Nadu\", \"Telangana\", \"Tripura\", \"Uttar Pradesh\", \"Uttarakhand\", \"West Bengal\"\n];\n\nexport default function CheckoutPage() {\n    const router = useRouter();\n    const [countdown, setCountdown] = useState(5);\n    const [paymentMethod, setPaymentMethod] = useState('upi');\n    const [orderStatus, setOrderStatus] = useState<'idle' | 'processing' | 'success' | 'rejected'>('idle');\n    const { userName } = useUI();\n    const { items, clearCart, cartTotal } = useCart();\n    const { settings } = useStoreSettings();\n    const [loadingUser, setLoadingUser] = useState(true);\n    const [pincodeLoading, setPincodeLoading] = useState(false);\n\n    // Wallet State\n    const [walletBalance, setWalletBalance] = useState(0);\n    const [isWalletApplied, setIsWalletApplied] = useState(false);\n    const [walletLoading, setWalletLoading] = useState(true);\n\n    // Coupon State\n    const [couponCode, setCouponCode] = useState('');\n    const [appliedCoupon, setAppliedCoupon] = useState<{ code: string; discount: number; type?: 'percentage' | 'fixed_amount' | 'free_shipping' } | null>(null);\n    const [couponError, setCouponError] = useState('');\n    const [couponLoading, setCouponLoading] = useState(false);\n\n    const [lastOrderCashback, setLastOrderCashback] = useState(0);\n\n    const isProcessing = orderStatus === 'processing';\n\n    // Form State\n    const [formData, setFormData] = useState({\n        email: '',\n        phone: '',\n        secondaryPhone: '',\n        name: '',\n        address: '',\n        landmark: '',\n        city: '',\n        pincode: '',\n        state: '',\n        country: 'India'\n    });\n\n    const [savedAddresses, setSavedAddresses] = useState<any[]>([]);\n    const [selectedAddressIndex, setSelectedAddressIndex] = useState<number | null>(null);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    // 1. Fetch User Data, Saved Addresses, and Wallet Balance on Mount\n    useEffect(() => {\n        const fetchUserAndAddresses = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (user) {\n                setFormData(prev => ({\n                    ...prev,\n                    email: user.email || '',\n                    phone: (user.phone ? user.phone.replace(/\\D/g, '').slice(-10) : user.user_metadata?.phone?.replace(/\\D/g, '').slice(-10)) || '',\n                }));\n\n                // Fetch past orders for addresses\n                const { data: orders } = await supabase\n                    .from('orders')\n                    .select('shipping_address')\n                    .eq('user_id', user.id)\n                    .order('created_at', { ascending: false })\n                    .limit(5);\n\n                if (orders && orders.length > 0) {\n                    const unique = new Map();\n                    orders.forEach((o: any) => {\n                        const addr = o.shipping_address;\n                        // Key by pincode + address first 10 chars to avoid duplicates\n                        const key = `${addr.pincode}-${addr.address.slice(0, 10)}`;\n                        if (!unique.has(key)) {\n                            unique.set(key, addr);\n                        }\n                    });\n                    setSavedAddresses(Array.from(unique.values()));\n                }\n\n                // Fetch Wallet Balance\n                try {\n                    const { getWalletBalance } = await import('@/actions/walletActions');\n                    const { balance } = await getWalletBalance();\n                    setWalletBalance(balance);\n                } catch (e) {\n                    console.error(\"Failed to fetch wallet\", e);\n                }\n            }\n            setLoadingUser(false);\n            setWalletLoading(false);\n        };\n        fetchUserAndAddresses();\n    }, []);\n\n    const handleSelectAddress = (index: number) => {\n        if (index === -1) {\n            // New Address - Reset fields but keep email/phone if they were pre-filled from user? \n            // Better to just clear address fields\n            setSelectedAddressIndex(null);\n            setFormData(prev => ({\n                ...prev,\n                name: '',\n                address: '',\n                landmark: '',\n                city: '',\n                state: '',\n                pincode: '',\n                // Keep email/phone as they are likely same for user\n            }));\n            return;\n        }\n\n        const addr = savedAddresses[index];\n        setSelectedAddressIndex(index);\n        setFormData(prev => ({\n            ...prev,\n            name: `${addr.firstName} ${addr.lastName}`,\n            address: addr.address, // This might include landmark if it was appended previously\n            landmark: addr.landmark || '', // If stored separately\n            city: addr.city,\n            state: addr.state || '', // If stored separately\n            pincode: addr.pincode,\n            phone: addr.phone || prev.phone, // Update phone if saved\n            secondaryPhone: addr.secondaryPhone || '',\n        }));\n    };\n\n    // 2. Pincode Lookup Logic\n    useEffect(() => {\n        if (formData.pincode.length === 6) {\n            lookupPincode(formData.pincode);\n        }\n    }, [formData.pincode]);\n\n    const lookupPincode = async (pincode: string) => {\n        setPincodeLoading(true);\n        try {\n            const response = await fetch(`https://api.postalpincode.in/pincode/${pincode}`);\n            const data = await response.json();\n\n            if (data && data[0] && data[0].Status === 'Success') {\n                const details = data[0].PostOffice[0];\n                setFormData(prev => ({\n                    ...prev,\n                    city: details.District,\n                    state: details.State,\n                    country: 'India' // Reset country just in case\n                }));\n            }\n        } catch (error) {\n            console.error(\"Failed to fetch pincode details:\", error);\n        } finally {\n            setPincodeLoading(false);\n        }\n    }\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n        const { name, value } = e.target;\n\n        // Phone Validation (Numbers only, max 10)\n        if (name === 'phone' || name === 'secondaryPhone') {\n            const numericValue = value.replace(/\\D/g, '').slice(0, 10);\n            setFormData(prev => ({ ...prev, [name]: numericValue }));\n            return;\n        }\n\n        // Pincode Validation (Numbers only, max 6)\n        if (name === 'pincode') {\n            const numericValue = value.replace(/\\D/g, '').slice(0, 6);\n            setFormData(prev => ({ ...prev, [name]: numericValue }));\n            return;\n        }\n\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    const subtotal = cartTotal;\n    // Shipping Logic: Free if threshold met OR if free_shipping coupon is active\n    const isFreeShippingCoupon = appliedCoupon?.type === 'free_shipping';\n    const shipping = (subtotal >= settings.free_shipping_threshold || isFreeShippingCoupon) ? 0 : settings.shipping_charge;\n\n    // Calculate Tax\n    let totalTax = 0;\n\n    // 1. Product Tax\n    items.forEach(item => {\n        const itemQty = item.qty;\n\n        if (item.metadata?.is_custom) {\n            // Split Tax Calculation for Custom Products\n            const basePrice = item.metadata.base_price_unit || 0;\n            const customCost = item.metadata.customization_cost_unit || 0;\n            const productGst = item.metadata.gst_percent || 12;\n            const printGst = item.metadata.print_gst_percent || 18;\n\n            const baseTax = (basePrice * itemQty * productGst) / 100;\n            const customTax = (customCost * itemQty * printGst) / 100;\n\n            totalTax += (baseTax + customTax);\n        } else {\n            // Standard Product Tax\n            // We assume standard products have gst_percent in metadata from admin\n            // If not found, fallback to global setting or 18%\n            const gst = item.metadata?.gst_percent || settings.tax_rate;\n            const itemTax = (item.price * itemQty * gst) / 100;\n            totalTax += itemTax;\n        }\n    });\n\n    // 2. Shipping Tax (Standard 18% on Logistics)\n    const shippingTax = shipping * 0.18;\n    totalTax += shippingTax;\n\n    const finalTax = parseFloat(totalTax.toFixed(2));\n    const totalPreWallet = subtotal + shipping + finalTax;\n\n    // Wallet Calculation\n    let walletDiscount = 0;\n    if (isWalletApplied && cartTotal >= 999) {\n        const maxFromCart = cartTotal * 0.10; // 10% of cart value\n        walletDiscount = parseFloat(Math.min(walletBalance, maxFromCart).toFixed(2));\n    }\n\n    // Auto-disable if cart drops below 999\n    useEffect(() => {\n        if (isWalletApplied && cartTotal < 999) {\n            setIsWalletApplied(false);\n        }\n    }, [items, cartTotal, settings, walletBalance, loadingUser]);\n\n    // Auto-Redirect on Success\n    // Auto-Redirect on Success\n    useEffect(() => {\n        let timer: NodeJS.Timeout;\n        if (orderStatus === 'success') {\n            timer = setInterval(() => {\n                setCountdown((prev) => {\n                    if (prev <= 1) {\n                        clearInterval(timer);\n                        return 0;\n                    }\n                    return prev - 1;\n                });\n            }, 1000);\n        }\n        return () => clearInterval(timer);\n    }, [orderStatus]);\n\n    // Handle Redirect Side Effect\n    useEffect(() => {\n        if (orderStatus === 'success' && countdown === 0) {\n            router.push('/');\n        }\n    }, [orderStatus, countdown, router]);\n\n    // Coupon Handler\n    const handleApplyCoupon = async () => {\n        setCouponError('');\n        setCouponLoading(true);\n        try {\n            const res = await validateCoupon(couponCode, cartTotal);\n            if (res.valid) {\n                setAppliedCoupon({\n                    code: res.couponCode!,\n                    discount: res.discountAmount,\n                    type: res.couponType\n                });\n                setCouponCode(''); // Clear input on success\n\n                // Party Cheers Animation\n                confetti({\n                    particleCount: 100,\n                    spread: 70,\n                    origin: { y: 0.6 },\n                    colors: ['#FF5733', '#33FF57', '#3357FF', '#FF33A1', '#FFD700']\n                });\n\n                toast.success(\"Coupon Applied Successfully!\", {\n                    description: `You saved ${formatPrice(res.discountAmount)} with ${res.couponCode}`,\n                    icon: <PartyPopper className=\"text-orange-500\" />,\n                    duration: 4000\n                });\n\n            } else {\n                setCouponError(res.message || 'Invalid coupon');\n                setAppliedCoupon(null);\n                toast.error(\"Invalid Coupon\", { description: res.message });\n            }\n        } catch (error) {\n            setCouponError('Failed to apply coupon');\n            toast.error(\"Error\", { description: \"Failed to apply coupon. Please try again.\" });\n        } finally {\n            setCouponLoading(false);\n        }\n    };\n\n    const removeCoupon = () => {\n        setAppliedCoupon(null);\n        setCouponCode('');\n        setCouponError('');\n    };\n\n    const finalTotal = totalPreWallet - walletDiscount - (appliedCoupon?.discount || 0);\n\n    const handlePlaceOrder = async () => {\n        // Validation\n        if (!formData.name || !formData.address || !formData.email || !formData.city || !formData.state || !formData.pincode) {\n            alert(\"Please fill in all shipping details.\");\n            return;\n        }\n\n        if (formData.phone.length !== 10) {\n            alert(\"Please enter a valid 10-digit phone number.\");\n            return;\n        }\n\n        if (formData.pincode.length !== 6) {\n            alert(\"Please enter a valid 6-digit pincode.\");\n            return;\n        }\n\n        if (!paymentMethod) {\n            alert(\"Please select a payment method.\");\n            return;\n        }\n\n        if (isWalletApplied && paymentMethod === 'cod') {\n            alert(\"Wallet cannot be used with COD.\");\n            return;\n        }\n\n        setOrderStatus('processing');\n\n        try {\n            // Map Cart Items to fit Server Action interface\n            const orderItems = items.map(i => ({\n                id: i.id,\n                productId: i.productId,\n                name: i.name,\n                price: i.price,\n                qty: i.qty,\n                size: i.size,\n                image: i.image,\n                metadata: i.metadata\n            }));\n\n            // Call Server Action\n            // Adapting formData to match expected structure if needed, or assuming Server Action handles it\n            const result = await createOrder(orderItems, {\n                firstName: formData.name.split(' ')[0],\n                lastName: formData.name.split(' ').slice(1).join(' '),\n                phone: formData.phone,\n                address: formData.address + (formData.landmark ? `, Landmark: ${formData.landmark}` : ''),\n                city: formData.city,\n                state: formData.state, // Pass State\n                pincode: formData.pincode,\n                email: formData.email,\n                secondaryPhone: formData.secondaryPhone\n            } as any, finalTotal, paymentMethod, walletDiscount, appliedCoupon?.code, appliedCoupon?.discount);\n\n            if (result.success) {\n                // Calculate Cashback (5% of Cart Total)\n                const cashback = parseFloat((cartTotal * 0.05).toFixed(2));\n                setLastOrderCashback(cashback);\n\n                clearCart();\n                setOrderStatus('success');\n            } else {\n                console.error(result.error);\n                setOrderStatus('rejected');\n                alert(result.error); // Simple feedback for now\n            }\n        } catch (error) {\n            console.error(\"Checkout Error:\", error);\n            setOrderStatus('rejected');\n        }\n    };\n\n    if (orderStatus === 'success') {\n        const name = userName ? userName.toUpperCase() : '';\n        return (\n            <main className=\"min-h-screen w-full bg-background flex flex-col items-center justify-center p-4 relative overflow-hidden pt-24\">\n                <AmbientBackground />\n                <GlassCard disableTilt className=\"max-w-md w-full p-8 text-center bg-card backdrop-blur-xl animate-scale-in border border-subtle\">\n                    <div className=\"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-500 animate-bounce\">\n                        <CheckCircle2 size={40} />\n                    </div>\n                    <h1 className=\"text-2xl md:text-3xl font-heading font-bold text-primary mb-4 leading-tight\">\n                        {name ? `${name} YOUR ORDER WAS PLACED SUCCESSFULLY` : 'YOUR ORDER WAS PLACED SUCCESSFULLY'}\n                    </h1>\n                    <p className=\"text-secondary font-medium mb-8\">\n                        Thank you for shopping with us! Your adventure awaits.\n                    </p>\n\n                    {/* Cashback Notification */}\n                    {lastOrderCashback > 0 && (\n                        <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-8 text-left flex items-start gap-4\">\n                            <div className=\"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 text-amber-600\">\n                                <Wallet size={20} />\n                            </div>\n                            <div>\n                                <p className=\"font-bold text-gray-900\">Cashback Earned!</p>\n                                <p className=\"text-sm text-gray-600\">\n                                    <span className=\"font-bold text-amber-700\">{formatPrice(lastOrderCashback)}</span> has been earned and will be added to your wallet once this order is delivered.\n                                </p>\n                            </div>\n                        </div>\n                    )}\n                    <p className=\"text-sm text-secondary mb-4\">\n                        You will be redirected to the home page in <span className=\"font-bold text-primary\">{countdown}</span> seconds...\n                    </p>\n                    <Link href=\"/\">\n                        <button className=\"w-full py-4 bg-primary text-background font-bold rounded-xl hover:bg-coral-500 transition-colors shadow-lg\">\n                            Continue Shopping Now\n                        </button>\n                    </Link>\n                </GlassCard>\n            </main >\n        );\n    }\n\n    if (orderStatus === 'rejected') {\n        const name = userName ? userName.toUpperCase() : '';\n        return (\n            <main className=\"min-h-screen w-full bg-background flex flex-col items-center justify-center p-4 relative overflow-hidden pt-24\">\n                <AmbientBackground />\n                <GlassCard disableTilt className=\"max-w-md w-full p-8 text-center bg-card backdrop-blur-xl border-red-900/20 border\">\n                    <div className=\"w-20 h-20 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500\">\n                        <ShieldCheck size={40} />\n                    </div>\n                    <h1 className=\"text-2xl md:text-3xl font-heading font-bold text-primary mb-4 leading-tight\">\n                        {name ? `${name} YOUR ORDER WAS REJECTED` : 'YOUR ORDER WAS REJECTED'}\n                    </h1>\n                    <p className=\"text-secondary font-medium mb-8\">\n                        There was an issue processing your payment. Please try again.\n                    </p>\n                    <button\n                        onClick={() => setOrderStatus('idle')}\n                        className=\"w-full py-4 bg-primary text-background font-bold rounded-xl hover:bg-coral-500 transition-colors shadow-lg\"\n                    >\n                        Try Again\n                    </button>\n                </GlassCard>\n            </main>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-background pt-[var(--header-height)] pb-20\">\n            <AmbientBackground />\n\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10\">\n                <Link href=\"/cart\" className=\"inline-flex items-center gap-2 text-secondary hover:text-primary transition-colors mb-6 group font-bold\">\n                    <div className=\"w-8 h-8 rounded-full bg-surface-2 flex items-center justify-center shadow-sm group-hover:-translate-x-1 transition-transform border border-subtle\">\n                        <ArrowLeft size={16} />\n                    </div>\n                    Back to Bag\n                </Link>\n\n                <h1 className=\"text-3xl font-heading font-bold text-primary mb-8 text-center md:text-left\">Checkout</h1>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n\n                    {/* Left Column: Form */}\n                    <div className=\"space-y-8\">\n\n                        {/* 1. Contact Info */}\n                        <section>\n                            <h2 className=\"text-xl font-bold text-primary mb-4 flex items-center gap-2\">\n                                <span className=\"w-8 h-8 rounded-full bg-surface-2 flex items-center justify-center text-sm border border-subtle\">1</span>\n                                Contact Information\n                            </h2>\n                            <div className=\"grid grid-cols-1 gap-4\">\n                                <div>\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">Email Address</label>\n                                    <input\n                                        type=\"email\"\n                                        name=\"email\"\n                                        value={formData.email}\n                                        onChange={handleInputChange}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary transition-colors\"\n                                        placeholder=\"you@example.com\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">Phone Number (10 digits)</label>\n                                    <input\n                                        type=\"tel\"\n                                        name=\"phone\"\n                                        value={formData.phone}\n                                        onChange={handleInputChange}\n                                        maxLength={10}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary transition-colors\"\n                                        placeholder=\"9876543210\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">Secondary Phone Number (Optional)</label>\n                                    <input\n                                        type=\"tel\"\n                                        name=\"secondaryPhone\"\n                                        value={formData.secondaryPhone}\n                                        onChange={handleInputChange}\n                                        maxLength={10}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary transition-colors\"\n                                        placeholder=\"Alternate Number\"\n                                    />\n                                </div>\n                            </div>\n                        </section>\n\n                        {/* 2. Shipping Address */}\n                        <section>\n                            <h2 className=\"text-xl font-bold text-primary mb-4 flex items-center gap-2\">\n                                <span className=\"w-8 h-8 rounded-full bg-surface-2 flex items-center justify-center text-sm border border-subtle\">2</span>\n                                Shipping Address\n                            </h2>\n\n                            {/* Saved Address Selection */}\n                            {savedAddresses.length > 0 && (\n                                <div className=\"mb-6 p-4 bg-surface-2 rounded-xl border border-subtle\">\n                                    <label className=\"block text-sm font-bold text-primary mb-2\">Saved Addresses</label>\n                                    <div className=\"flex gap-2 flex-wrap\">\n                                        {savedAddresses.map((addr, idx) => (\n                                            <button\n                                                key={idx}\n                                                onClick={() => handleSelectAddress(idx)}\n                                                className={`text-left text-sm p-3 rounded-lg border transition-all ${selectedAddressIndex === idx\n                                                    ? 'bg-primary text-background border-primary shadow-md'\n                                                    : 'bg-background text-secondary border-subtle hover:border-primary'\n                                                    }`}\n                                            >\n                                                <p className=\"font-bold\">{addr.firstName} {addr.lastName}</p>\n                                                <p className=\"text-xs opacity-80 truncate max-w-[150px]\">{addr.address}</p>\n                                                <p className=\"text-xs opacity-80\">{addr.city}, {addr.pincode}</p>\n                                            </button>\n                                        ))}\n\n                                    </div>\n                                </div>\n                            )}\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"md:col-span-2\">\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">Full Name</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"name\"\n                                        value={formData.name}\n                                        onChange={handleInputChange}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary transition-colors\"\n                                        placeholder=\"John Doe\"\n                                    />\n                                </div>\n                                <div className=\"md:col-span-2\">\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">Address</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"address\"\n                                        value={formData.address}\n                                        onChange={handleInputChange}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary transition-colors\"\n                                        placeholder=\"Street, Apartment, Suite, etc.\"\n                                    />\n                                </div>\n                                <div className=\"md:col-span-2\">\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">Landmark (Optional)</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"landmark\"\n                                        value={formData.landmark}\n                                        onChange={handleInputChange}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary transition-colors\"\n                                        placeholder=\"Near...\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-medium text-secondary mb-1 flex justify-between\">\n                                        Pincode\n                                        {pincodeLoading && <Loader2 size={14} className=\"animate-spin text-primary\" />}\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"pincode\"\n                                        value={formData.pincode}\n                                        onChange={handleInputChange}\n                                        maxLength={6}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary transition-colors\"\n                                        placeholder=\"560001\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className=\"block text-sm font-medium text-secondary mb-1 flex justify-between\">City (Auto-detected)</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"city\"\n                                        value={formData.city}\n                                        readOnly\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-3 text-secondary focus:outline-none cursor-not-allowed\"\n                                        placeholder=\"Enter Pincode first\"\n                                    />\n                                </div>\n\n                                <div className=\"md:col-span-2\">\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">State (Auto-detected)</label>\n                                    <select\n                                        name=\"state\"\n                                        value={formData.state}\n                                        disabled\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-3 text-secondary focus:outline-none cursor-not-allowed appearance-none\"\n                                    >\n                                        <option value=\"\" disabled>Select State</option>\n                                        {INDIAN_STATES.map(st => (\n                                            <option key={st} value={st}>{st}</option>\n                                        ))}\n                                    </select>\n                                </div>\n                                <div className=\"md:col-span-2\">\n                                    <label className=\"block text-sm font-medium text-secondary mb-1\">Country</label>\n                                    <input\n                                        type=\"text\"\n                                        name=\"country\"\n                                        value={formData.country}\n                                        className=\"w-full px-4 py-3 rounded-xl border border-subtle bg-surface-3 text-secondary focus:outline-none cursor-not-allowed\"\n                                        readOnly\n                                    />\n                                </div>\n                            </div>\n                        </section>\n\n                        {/* 3. Payment Method */}\n                        <section>\n                            <h2 className=\"text-xl font-bold text-primary mb-4 flex items-center gap-2\">\n                                <span className=\"w-8 h-8 rounded-full bg-surface-2 flex items-center justify-center text-sm border border-subtle\">3</span>\n                                Payment Method\n                            </h2>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div\n                                    onClick={() => setPaymentMethod('upi')}\n                                    className={`cursor-pointer p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${paymentMethod === 'upi'\n                                        ? 'border-primary bg-surface-2'\n                                        : 'border-subtle hover:border-primary/50'\n                                        }`}\n                                >\n                                    <div className=\"w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center\">\n                                        <Wallet size={20} />\n                                    </div>\n                                    <div>\n                                        <p className=\"font-bold text-primary\">UPI / Online</p>\n                                        <p className=\"text-xs text-secondary\">Pay securely</p>\n                                    </div>\n                                    {paymentMethod === 'upi' && <CheckCircle2 className=\"ml-auto text-primary\" size={20} />}\n                                </div>\n\n                                <div\n                                    onClick={() => {\n                                        if (isWalletApplied) {\n                                            alert(\"Wallet cannot be used with Cash on Delivery.\");\n                                            return;\n                                        }\n                                        setPaymentMethod('cod');\n                                    }}\n                                    className={`cursor-pointer p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${paymentMethod === 'cod'\n                                        ? 'border-primary bg-surface-2'\n                                        : isWalletApplied ? 'opacity-50 cursor-not-allowed border-subtle' : 'border-subtle hover:border-primary/50'\n                                        }`}\n                                >\n                                    <div className=\"w-10 h-10 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center\">\n                                        <Banknote size={20} />\n                                    </div>\n                                    <div>\n                                        <p className=\"font-bold text-primary\">Cash on Delivery</p>\n                                        <p className=\"text-xs text-secondary\">Pay when it arrives</p>\n                                        {isWalletApplied && <p className=\"text-[10px] text-red-500 font-bold\">Not available with Wallet</p>}\n                                    </div>\n                                    {paymentMethod === 'cod' && <CheckCircle2 className=\"ml-auto text-primary\" size={20} />}\n                                </div>\n                            </div>\n                        </section>\n\n                        <button\n                            onClick={handlePlaceOrder}\n                            disabled={isProcessing}\n                            className={`w-full py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg ${isProcessing\n                                ? 'bg-surface-3 text-secondary cursor-not-allowed'\n                                : 'bg-black dark:bg-white text-white dark:text-black hover:bg-coral-500 dark:hover:bg-coral-400 hover:shadow-xl hover:-translate-y-1'\n                                }`}\n                        >\n                            {isProcessing ? (\n                                <>Processing <Loader2 className=\"animate-spin\" size={20} /></>\n                            ) : (\n                                <>Place Order <ArrowRight size={20} /></>\n                            )}\n                        </button>\n\n                    </div>\n\n                    {/* Right Column: Order Summary */}\n                    <div className=\"lg:sticky lg:top-24 h-fit\">\n                        <div className=\"bg-card rounded-2xl p-6 md:p-8 shadow-xl border border-subtle\">\n                            <h2 className=\"text-xl font-bold text-primary mb-6\">Order Summary</h2>\n\n                            <div className=\"space-y-4 mb-6 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar\">\n                                {items.map((item) => (\n                                    <div key={item.id} className=\"flex gap-4\">\n                                        <div className=\"w-16 h-16 bg-surface-2 rounded-lg overflow-hidden flex-shrink-0 border border-subtle\">\n                                            <img src={item.image} alt={item.name} className=\"w-full h-full object-cover\" />\n                                        </div>\n                                        <div className=\"flex-1\">\n                                            <h4 className=\"text-sm font-bold text-primary truncate\">{item.name}</h4>\n                                            <p className=\"text-xs text-secondary\">{item.size} / {item.metadata?.color || 'N/A'}</p>\n                                            <div className=\"flex justify-between items-center mt-1\">\n                                                <span className=\"text-xs text-secondary\">Qty: {item.qty}</span>\n                                                <span className=\"text-sm font-bold text-primary\">{formatPrice(item.price * item.qty)}</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n\n                            <div className=\"border-t border-dashed border-subtle my-4\"></div>\n\n                            <div className=\"space-y-2\">\n                                <div className=\"flex justify-between text-sm text-secondary\">\n                                    <span>Subtotal</span>\n                                    <span className=\"font-medium text-primary\">{formatPrice(cartTotal)}</span>\n                                </div>\n                                <div className=\"flex justify-between text-sm text-secondary\">\n                                    <span>Shipping</span>\n                                    <span className={`font-medium ${shipping === 0 ? 'text-green-500' : 'text-primary'}`}>\n                                        {shipping === 0 ? (\n                                            <>Free {isFreeShippingCoupon && <span className=\"text-[10px] ml-1 opacity-80\">(Coupon)</span>}</>\n                                        ) : formatPrice(shipping)}\n                                    </span>\n                                </div>\n                                <div className=\"flex justify-between text-sm text-secondary\">\n                                    <span>GST (Calculated)</span>\n                                    <span className=\"font-medium text-primary\">{formatPrice(finalTax)}</span>\n                                </div>\n\n                                {isWalletApplied && (\n                                    <div className=\"flex justify-between text-sm text-green-500 animate-pulse\">\n                                        <span className=\"font-bold flex items-center gap-1\"><Wallet size={14} /> Wallet Credit</span>\n                                        <span className=\"font-bold\">-{formatPrice(walletDiscount)}</span>\n                                    </div>\n                                )}\n\n                                {appliedCoupon && (\n                                    <div className=\"flex justify-between text-sm text-green-500\">\n                                        <span className=\"font-bold flex items-center gap-1\"><Banknote size={14} /> Coupon Discount</span>\n                                        <span className=\"font-bold\">-{formatPrice(appliedCoupon.discount)}</span>\n                                    </div>\n                                )}\n                            </div>\n\n                            <div className=\"border-t border-subtle my-4\"></div>\n\n                            {/* Coupon Section */}\n                            <div className=\"mb-6\">\n                                {appliedCoupon ? (\n                                    <div className=\"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 p-4 rounded-xl flex justify-between items-center animate-scale-in relative overflow-hidden\">\n                                        {/* Subtle background shine effect */}\n                                        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] animate-[shimmer_2s_infinite]\" />\n\n                                        <div className=\"relative z-10\">\n                                            <p className=\"text-sm font-bold text-green-600 flex items-center gap-2\">\n                                                <PartyPopper size={16} className=\"text-green-500 animate-bounce\" />\n                                                {appliedCoupon.type === 'free_shipping' ? 'Free Shipping Active!' : 'Coupon Applied!'}\n                                            </p>\n                                            <p className=\"text-xs text-green-700/80 font-medium mt-0.5\">\n                                                <span className=\"font-mono bg-green-200/50 px-1 rounded text-green-800\">{appliedCoupon.code}</span>\n                                                &nbsp;saved you&nbsp;\n                                                <span className=\"font-bold underline\">{appliedCoupon.type === 'free_shipping' ? 'Shipping Charges' : formatPrice(appliedCoupon.discount)}</span>\n                                            </p>\n                                        </div>\n                                        <button\n                                            onClick={removeCoupon}\n                                            className=\"relative z-10 text-xs text-red-500 hover:text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-lg font-bold transition-all\"\n                                        >\n                                            Remove\n                                        </button>\n                                    </div>\n                                ) : (\n                                    <div className=\"flex gap-2\">\n                                        <input\n                                            type=\"text\"\n                                            placeholder=\"Enter Coupon Code\"\n                                            value={couponCode}\n                                            onChange={(e) => setCouponCode(e.target.value.toUpperCase())}\n                                            className=\"flex-1 bg-surface-2 border border-subtle rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-primary transition-colors\"\n                                        />\n                                        <button\n                                            onClick={handleApplyCoupon}\n                                            disabled={couponLoading || !couponCode}\n                                            className=\"bg-primary text-background px-4 py-2 rounded-xl text-sm font-bold hover:bg-coral-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                                        >\n                                            {couponLoading ? <Loader2 size={16} className=\"animate-spin\" /> : 'Apply'}\n                                        </button>\n                                    </div>\n                                )}\n                                {couponError && <p className=\"text-xs text-red-500 mt-2 ml-1\">{couponError}</p>}\n                            </div>\n\n                            <div className=\"border-t border-subtle my-4\"></div>\n\n                            {/* Wallet Toggle */}\n                            {walletBalance > 0 && cartTotal >= 999 && (\n                                <div className=\"bg-surface-2 p-4 rounded-xl border border-subtle mb-4\">\n                                    <div className=\"flex items-center justify-between\">\n                                        <div>\n                                            <p className=\"text-sm font-bold text-primary flex items-center gap-2\">\n                                                <Wallet size={16} className=\"text-coral-500\" />\n                                                Use Wallet Balance\n                                            </p>\n                                            <p className=\"text-xs text-secondary\">Available: {formatPrice(walletBalance)}</p>\n                                        </div>\n                                        <label className=\"relative inline-flex items-center cursor-pointer\">\n                                            <input\n                                                type=\"checkbox\"\n                                                className=\"sr-only peer\"\n                                                checked={isWalletApplied}\n                                                onChange={(e) => {\n                                                    if (paymentMethod === 'cod' && e.target.checked) {\n                                                        alert(\"Wallet credits cannot be used with Cash on Delivery. Please switch to Online Payment.\");\n                                                        setPaymentMethod('upi'); // Auto switch\n                                                    }\n                                                    setIsWalletApplied(e.target.checked);\n                                                }}\n                                            />\n                                            <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-coral-500\"></div>\n                                        </label>\n                                    </div>\n                                    <p className=\"text-[10px] text-secondary mt-2\">\n                                        Max used: 10% of cart.\n                                        {walletDiscount > 0 && ` (Saving ${formatPrice(walletDiscount)})`}\n                                    </p>\n                                </div>\n                            )}\n\n                            <div className=\"flex justify-between items-end\">\n                                <span className=\"text-lg font-bold text-primary\">Total</span>\n                                <span className=\"text-2xl font-heading font-bold text-primary\">{formatPrice(finalTotal)}</span>\n                            </div>\n\n                            <div className=\"mt-6 text-xs text-secondary text-center flex items-center justify-center gap-2\">\n                                <ShieldCheck size={14} />\n                                Secure SSL Encrypted Transaction\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/collections/[slug]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":8,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[284,301],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useUI' is defined but never used.","line":9,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":15,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useUI"},"fix":{"range":[326,370],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SlidersHorizontal' is defined but never used.","line":12,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":39,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"SlidersHorizontal"},"fix":{"range":[506,525],"text":""},"desc":"Remove unused variable \"SlidersHorizontal\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":12,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":42,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"X"},"fix":{"range":[525,528],"text":""},"desc":"Remove unused variable \"X\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FilterSidebar' is defined but never used.","line":15,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":21,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"FilterSidebar"},"fix":{"range":[670,736],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ActiveFilters' is defined but never used.","line":17,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":21,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ActiveFilters"},"fix":{"range":[808,874],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1240,1243],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1240,1243],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mobileFiltersOpen' is assigned a value but never used.","line":32,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setMobileFiltersOpen' is assigned a value but never used.","line":32,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":51},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":80,"column":8,"nodeType":"ArrayExpression","endLine":80,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [slug, supabase]","fix":{"range":[3095,3101],"text":"[slug, supabase]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3937,3940],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3937,3940],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":132,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":132,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5205,5208],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5205,5208],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":164,"column":8,"nodeType":"ArrayExpression","endLine":164,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [node, supabase]","fix":{"range":[6551,6557],"text":"[node, supabase]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleFilterChange' is assigned a value but never used.","line":217,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":217,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":223,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":223,"endColumn":38},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'removeFilter' is assigned a value but never used.","line":233,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":233,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":238,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":238,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'clearAllFilters' is assigned a value but never used.","line":245,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":245,"endColumn":26},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":264,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":264,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9956,9959],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9956,9959],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":323,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":323,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12724,12727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12724,12727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":347,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":347,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14545,14548],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14545,14548],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState, useMemo } from 'react';\nimport Link from 'next/link';\nimport { useParams } from 'next/navigation';\nimport GlassCard from '@/components/UI/GlassCard';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useUI } from '@/context/UIContext';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { createClient } from '@/utils/supabase/client';\nimport { LayoutGrid, SlidersHorizontal, X } from 'lucide-react';\nimport BrandLoader from '@/components/UI/BrandLoader';\nimport { FLAT_TAXONOMY, FlatNode } from '@/data/flatTaxonomy';\nimport FilterSidebar from '@/components/Collection/FilterSidebar';\nimport SortBar, { SortOption } from '@/components/Collection/SortBar';\nimport ActiveFilters from '@/components/Collection/ActiveFilters';\nimport TabbedProductShowcase from '@/components/Home/TabbedProductShowcase';\n\n// This page handles ALL levels: World, Category, and Leaf Item\nexport default function CollectionPage() {\n    const params = useParams();\n    const slug = params?.slug as string;\n\n    const [node, setNode] = useState<FlatNode | null>(null);\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    // Filter & Sort State\n    const [filters, setFilters] = useState<Record<string, string[]>>({});\n    const [sortOption, setSortOption] = useState<SortOption>('featured');\n    const [mobileFiltersOpen, setMobileFiltersOpen] = useState(false);\n\n    const supabase = createClient();\n\n    // 1. Resolve Node from Flat Taxonomy OR Curated DB\n    useEffect(() => {\n        if (!slug) return;\n\n        const resolveData = async () => {\n            // A. Check Flat Taxonomy (Static)\n            const foundNode = FLAT_TAXONOMY[slug];\n            if (foundNode) {\n                setNode(foundNode);\n                setLoading(false);\n                return;\n            }\n\n            // B. Check Curated Collections (Dynamic DB)\n            // GUID Regex or just try fetching\n            if (slug.length > 20) { // Simple heuristic for UUID-like length\n                const { data: section } = await supabase\n                    .from('curated_sections')\n                    .select('*')\n                    .eq('id', slug)\n                    .single();\n\n                if (section) {\n                    setNode({\n                        type: 'curated',\n                        data: {\n                            name: section.title,\n                            slug: section.id, // Use ID as slug for internal logic\n                            description: section.description,\n                            image: section.image_url,\n                            items: []\n                        },\n                        parent: { name: 'Collections', slug: '' }\n                    });\n                    setLoading(false);\n                    return;\n                }\n            }\n\n            setNode(null);\n            setLoading(false);\n        };\n\n        resolveData();\n    }, [slug]);\n\n    // 2. Fetch Products\n    useEffect(() => {\n        const fetchProducts = async () => {\n            if (!node) return;\n\n            setLoading(true);\n\n            // Case A: Curated Collection\n            if (node.type === 'curated') {\n                // Fetch ALL products (optimized select) then filter in memory/JS for reliability with JSON arrays\n                const { data, error } = await supabase\n                    .from('products')\n                    .select('id, name, price, compare_at_price, images, stock_status, created_at, category_id, metadata');\n\n                if (error) {\n                    console.error(\"Error fetching products:\", error);\n                } else if (data) {\n                    // Filter where curated_section_ids includes our slug\n                    const filtered = data.filter((p: any) =>\n                        p.metadata?.curated_section_ids?.includes(node.data.slug)\n                    );\n                    setProducts(filtered);\n                }\n                setLoading(false);\n                return;\n            }\n\n            // Case C: Standard Category/Item\n            if (node.type === 'item' || node.type === 'category') {\n                const targetSlug = node.data.slug;\n\n                // 1. Get Category ID\n                const { data: catData, error: catError } = await supabase\n                    .from('categories')\n                    .select('id')\n                    .eq('slug', targetSlug)\n                    .single();\n\n                if (catError || !catData) {\n                    setLoading(false);\n                    return;\n                }\n\n                let productQuery = supabase.from('products').select('id, name, price, compare_at_price, images, stock_status, created_at, category_id');\n\n                if (node.type === 'item') {\n                    // Leaf: Direct match\n                    productQuery = productQuery.eq('category_id', catData.id);\n                } else {\n                    // Category: Match children items\n                    const childSlugs = node.data.items?.map((i: any) => i.slug) || [];\n                    if (childSlugs.length > 0) {\n                        const { data: childrenCats } = await supabase\n                            .from('categories')\n                            .select('id')\n                            .in('slug', childSlugs);\n\n                        if (childrenCats && childrenCats.length > 0) {\n                            const ids = childrenCats.map((c: { id: string }) => c.id);\n                            ids.push(catData.id);\n                            productQuery = productQuery.in('category_id', ids);\n                        } else {\n                            productQuery = productQuery.eq('category_id', catData.id);\n                        }\n                    } else {\n                        productQuery = productQuery.eq('category_id', catData.id);\n                    }\n                }\n\n                const { data, error } = await productQuery;\n                if (error) console.error(\"Error fetching products:\", error);\n\n                setProducts(data || []);\n                setLoading(false);\n            } else if (node.type === 'world') {\n                // Worlds show TabbedProductShowcase, no direct product fetch needed\n                setProducts([]);\n                setLoading(false);\n            }\n        };\n\n        fetchProducts();\n    }, [node]);\n\n    // 3. Client-Side Filtering & Sorting\n    const filteredProducts = useMemo(() => {\n        let result = [...products];\n\n        // Filter: Price (Mock Logic - actual would parse \"$50 - $100\")\n        if (filters.price?.length) {\n            // Very basic implementation for demo\n        }\n\n        // Filter: Color\n        if (filters.color?.length) {\n            result = result.filter(p => {\n                const pColor = p.metadata?.color || p.metadata?.colors?.[0]?.name;\n                return filters.color.includes(pColor);\n            });\n        }\n\n        // Filter: Size\n        if (filters.size?.length) {\n            result = result.filter(p => {\n                const pSizes = p.metadata?.sizes || [];\n                return filters.size.some(s => pSizes.includes(s));\n            });\n        }\n\n        // Sort\n        switch (sortOption) {\n            case 'price-asc':\n                result.sort((a, b) => a.price - b.price);\n                break;\n            case 'price-desc':\n                result.sort((a, b) => b.price - a.price);\n                break;\n            case 'alpha-asc':\n                result.sort((a, b) => a.name.localeCompare(b.name));\n                break;\n            case 'alpha-desc':\n                result.sort((a, b) => b.name.localeCompare(a.name));\n                break;\n            case 'newest':\n                result.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n                break;\n            default: // featured\n                break;\n        }\n\n        return result;\n    }, [products, filters, sortOption]);\n\n\n    // Handlers\n    const handleFilterChange = (type: string, value: string) => {\n        setFilters(prev => {\n            const current = prev[type] || [];\n            if (current.includes(value)) {\n                const updated = current.filter(v => v !== value);\n                if (updated.length === 0) {\n                    const { [type]: _, ...rest } = prev;\n                    return rest;\n                }\n                return { ...prev, [type]: updated };\n            } else {\n                return { ...prev, [type]: [...current, value] };\n            }\n        });\n    };\n\n    const removeFilter = (key: string, value: string) => {\n        setFilters(prev => {\n            const current = prev[key] || [];\n            const updated = current.filter(v => v !== value);\n            if (updated.length === 0) {\n                const { [key]: _, ...rest } = prev;\n                return rest;\n            }\n            return { ...prev, [key]: updated };\n        });\n    };\n\n    const clearAllFilters = () => setFilters({});\n\n\n    if (loading) return <BrandLoader text=\"Loading Collection...\" />;\n\n    if (!node) {\n        return (\n            <div className=\"min-h-screen pt-[var(--header-height)] flex items-center justify-center bg-background\">\n                <div className=\"text-center\">\n                    <h2 className=\"text-3xl font-heading font-bold text-primary mb-2\">Collection Not Found</h2>\n                    <Link href=\"/\" className=\"px-6 py-3 bg-black dark:bg-white text-white dark:text-black rounded-full font-bold hover:bg-coral-500 transition-all inline-block mt-4\">\n                        Return Home\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n\n    // Determine content type\n    let children: any[] = [];\n    if (node.type === 'world') {\n        children = node.data.subcategories || [];\n    } else if (node.type === 'category') {\n        children = node.data.items || [];\n    }\n\n    const showCards = children.length > 0;\n    const showProducts = node.type === 'item' || node.type === 'category'; // 'category' can show both subs and products ideally, but sticking to logic\n\n    // Dynamic Gradient\n    const heroGradient = node.type === 'world'\n        ? 'from-blue-500/10 via-purple-500/5 to-coral-500/10'\n        : 'from-emerald-500/10 via-teal-500/5 to-blue-500/10';\n\n    return (\n        <div className=\"relative min-h-screen bg-background pt-[120px] -mt-[120px] pb-20 overflow-hidden\">\n            <AmbientBackground />\n\n\n\n            {/* Background Blob (Retained for color tint) */}\n            <div className={`absolute top-0 left-0 right-0 h-[500px] bg-gradient-to-br ${heroGradient} blur-3xl opacity-40 pointer-events-none z-0`} />\n\n            {/* Breadcrumbs */}\n            <div className=\"relative z-40 px-6 py-4 container-premium mx-auto\">\n                <div className=\"text-xs font-bold uppercase tracking-wider text-secondary flex items-center gap-2\">\n                    <Link href=\"/\" className=\"hover:text-coral-500 transition-colors\">Home</Link>\n                    <span>/</span>\n                    {node.parent && (\n                        <>\n                            <Link href={`/collections/${node.parent.slug}`} className=\"hover:text-coral-500 transition-colors\">{node.parent.name}</Link>\n                            <span>/</span>\n                        </>\n                    )}\n                    <span className=\"text-primary\">{node.data.name}</span>\n                </div>\n            </div>\n\n            {/* Special Layout for World Categories (Everyday Icons, Little Legends, etc.) */}\n            {node.type === 'world' ? (\n                <div className=\"-mt-12\">\n                    <TabbedProductShowcase categorySlug={slug} />\n                </div>\n            ) : (\n                <>\n                    {/* STANDARD HERO TITLE REMOVED - Visualizing only Breadcrumbs */}\n                    <div className=\"mb-4\"></div>\n\n                    {/* STANDARD CONTENT AREA */}\n                    <div className=\"container-premium mx-auto px-4 md:px-6\">\n\n                        {/* 1. Sub-Collection Cards (Standard) */}\n                        {showCards && !showProducts && (\n                            <motion.div\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\"\n                            >\n                                {children.map((child: any, idx: number) => (\n                                    <Link key={idx} href={`/collections/${child.slug}`}>\n                                        <GlassCard className=\"p-8 h-full flex flex-col items-center justify-center text-center hover:border-coral-500/30 transition-colors\">\n                                            <LayoutGrid size={32} className=\"text-coral-500 mb-4\" />\n                                            <h3 className=\"text-xl font-bold text-primary\">{child.name}</h3>\n                                            <p className=\"text-sm text-secondary mt-2\">{child.description}</p>\n                                        </GlassCard>\n                                    </Link>\n                                ))}\n                            </motion.div>\n                        )}\n\n                        {/* 2. Products with Sidebar */}\n                        {showProducts && (\n                            <div className=\"flex gap-8 lg:gap-12 relative items-start\">\n                                {/* Category Sidebar (Restored) */}\n                                <aside className=\"hidden lg:block w-64 flex-shrink-0 sticky top-24\">\n                                    <div className=\"border-r border-subtle pr-6 min-h-[50vh]\">\n                                        <h3 className=\"font-bold mb-6 uppercase text-xs tracking-wider text-secondary\">\n                                            {node.type === 'item' ? node.parent?.name || 'More in this collection' : 'Categories'}\n                                        </h3>\n                                        <div className=\"space-y-1\">\n                                            {(() => {\n                                                // Determine Sidebar Items\n                                                let sidebarItems: any[] = [];\n                                                let parentSlug = slug;\n\n                                                if (node.type === 'category') {\n                                                    sidebarItems = node.data.items || [];\n                                                    parentSlug = slug;\n                                                } else if (node.type === 'item' && node.parent?.slug) {\n                                                    const parentNode = FLAT_TAXONOMY[node.parent.slug];\n                                                    sidebarItems = parentNode?.data?.items || [];\n                                                    parentSlug = node.parent.slug;\n                                                }\n\n                                                return (\n                                                    <>\n                                                        <Link\n                                                            href={`/collections/${parentSlug}`}\n                                                            className={`block py-2 text-sm font-medium transition-colors ${slug === parentSlug\n                                                                ? 'text-coral-500 translate-x-1 font-bold'\n                                                                : 'text-secondary hover:text-coral-500 hover:translate-x-1'\n                                                                }`}\n                                                        >\n                                                            All Products\n                                                        </Link>\n\n                                                        {sidebarItems.map((item) => {\n                                                            const isActive = slug === item.slug;\n                                                            return (\n                                                                <Link\n                                                                    key={item.slug}\n                                                                    href={`/collections/${item.slug}`}\n                                                                    className={`block py-2 text-sm font-medium transition-colors ${isActive\n                                                                        ? 'text-coral-500 translate-x-1'\n                                                                        : 'text-secondary hover:text-coral-500 hover:translate-x-1'\n                                                                        }`}\n                                                                >\n                                                                    {item.name}\n                                                                </Link>\n                                                            );\n                                                        })}\n                                                    </>\n                                                );\n                                            })()}\n                                        </div>\n                                    </div>\n                                </aside>\n\n                                {/* Sort Bar & Grid Only (Filters Removed) */}\n                                <div className=\"flex-1 w-full\">\n                                    <SortBar\n                                        totalProducts={filteredProducts.length}\n                                        sortOption={sortOption}\n                                        onSortChange={setSortOption}\n                                    />\n                                    {/* ActiveFilters removed as there are no filters */}\n\n                                    {filteredProducts.length > 0 ? (\n                                        <motion.div\n                                            layout\n                                            className=\"grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-10 md:gap-x-6 lg:gap-x-8\"\n                                        >\n                                            {filteredProducts.map((product) => (\n                                                <motion.div layout key={product.id}>\n                                                    <ProductCard\n                                                        id={product.id}\n                                                        name={product.name}\n                                                        price={product.price}\n                                                        originalPrice={product.compare_at_price}\n                                                        image={product.images?.[0] || product.image_url || '/images/placeholder.jpg'}\n                                                        secondaryImage={product.images?.[1]}\n                                                        badge={product.stock_status === 'out_of_stock' ? 'Sold Out' : undefined}\n                                                    />\n                                                </motion.div>\n                                            ))}\n                                        </motion.div>\n                                    ) : (\n                                        <div className=\"py-20 text-center text-secondary\">\n                                            <h3 className=\"text-xl font-bold\">No products found</h3>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </>\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/curated/CuratedClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Rocket' is defined but never used.","line":8,"column":40,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":46,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Rocket"},"fix":{"range":[267,275],"text":""},"desc":"Remove unused variable \"Rocket\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { motion } from 'framer-motion';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport GlassCard from '@/components/UI/GlassCard';\nimport { Sparkles, Gift, Coffee, Home, Rocket, ChevronRight, Heart, ArrowRight } from 'lucide-react';\n\nexport default function CuratedPage() {\n    return (\n        <main className=\"relative min-h-screen pt-[var(--header-height)] pb-24 bg-[#FFF9F2] dark:bg-black overflow-hidden\">\n            <AmbientBackground />\n\n            {/* Header */}\n            <div className=\"relative z-10 container-premium max-w-[1200px] mx-auto px-6 py-12 text-center\">\n                <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"max-w-2xl mx-auto\"\n                >\n                    <div className=\"inline-flex items-center gap-2 mb-4 px-4 py-1.5 rounded-full bg-coral-500/10 text-coral-500 font-bold text-xs uppercase tracking-widest border border-coral-500/20\">\n                        <Sparkles size={12} />\n                        <span>Curated Selections</span>\n                    </div>\n                    <h1 className=\"text-4xl md:text-6xl font-heading font-black text-navy-900 dark:text-white mb-6 leading-tight\">\n                        Find the <span className=\"text-coral-500\">Perfect Gift</span>\n                    </h1>\n                    <p className=\"text-lg text-gray-600 dark:text-gray-300\">\n                        Thoughtfully chosen collections for every occasion. Unwrap something special.\n                    </p>\n                </motion.div>\n            </div>\n\n            {/* Curated Sections */}\n            <div className=\"relative z-10 container-premium max-w-[1200px] mx-auto px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6\">\n\n                {/* 1. Gifts Under 499 (Large Feature) */}\n                <div className=\"col-span-1 md:col-span-2 lg:col-span-8\">\n                    <Link href=\"/collections/little-luxuries\" className=\"block h-full group\">\n                        <GlassCard className=\"h-[300px] md:h-[400px] relative overflow-hidden flex items-center bg-gradient-to-br from-pink-500 via-rose-500 to-coral-600 border-none shadow-xl hover:shadow-2xl transition-all duration-300 transform group-hover:-translate-y-1\">\n                            <div className=\"relative z-10 p-8 md:p-12 max-w-lg text-white\">\n                                <span className=\"inline-block px-3 py-1 bg-white/20 backdrop-blur-md rounded-lg text-xs font-bold uppercase tracking-widest mb-4\">\n                                    Budget Friendly\n                                </span>\n                                <h2 className=\"text-3xl md:text-5xl font-heading font-bold mb-4 leading-none\">\n                                    Little Luxuries <br />Under â‚¹499\n                                </h2>\n                                <p className=\"text-white/90 text-lg mb-8 max-w-sm\">\n                                    Small tokens that make a big impact. Keychains, badges, and more.\n                                </p>\n                                <span className=\"inline-flex items-center gap-2 font-bold uppercase tracking-wider text-sm group-hover:gap-4 transition-all\">\n                                    Shop Now <ChevronRight size={16} />\n                                </span>\n                            </div>\n                            {/* Decorative Icon */}\n                            <Gift className=\"absolute -right-12 -bottom-12 text-white opacity-10 rotate-12\" size={300} />\n                        </GlassCard>\n                    </Link>\n                </div>\n\n                {/* 2. Drinkware */}\n                <div className=\"col-span-1 md:col-span-1 lg:col-span-4\">\n                    <Link href=\"/collections/coffee-mugs\" className=\"block h-full group\">\n                        <GlassCard className=\"h-[300px] md:h-[400px] relative overflow-hidden flex flex-col justify-end p-8 bg-blue-600 dark:bg-blue-800 border-none hover:shadow-xl transition-all duration-300\">\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-0\"></div>\n                            <Coffee className=\"absolute top-8 right-8 text-white/20\" size={80} />\n                            <div className=\"relative z-10 text-white\">\n                                <h3 className=\"text-2xl font-bold mb-2\">Drinkware</h3>\n                                <p className=\"text-white/80 text-sm mb-4\">Sip in style with our premium mugs and bottles.</p>\n                                <span className=\"text-sm font-bold uppercase tracking-wider group-hover:text-coral-300 transition-colors\">Explore &rarr;</span>\n                            </div>\n                        </GlassCard>\n                    </Link>\n                </div>\n\n                {/* 3. For Kids */}\n                <div className=\"col-span-1 md:col-span-1 lg:col-span-4\">\n                    <Link href=\"/collections/little-legends\" className=\"block h-full group\">\n                        <GlassCard className=\"h-[280px] hover:bg-white/80 dark:hover:bg-navy-800/80 transition-all p-8 flex flex-col justify-between group-hover:border-coral-500/30\">\n                            <div>\n                                <div className=\"w-12 h-12 rounded-2xl bg-indigo-100 text-indigo-600 flex items-center justify-center mb-6 text-2xl\">\n                                    ðŸš€\n                                </div>\n                                <h3 className=\"text-xl font-bold text-navy-900 dark:text-white mb-2\">For The Little Legends</h3>\n                                <p className=\"text-gray-500 text-sm\">Books, puzzles, and fun learning tools.</p>\n                            </div>\n                            <span className=\"text-indigo-600 font-bold text-sm uppercase tracking-wider flex items-center gap-2 group-hover:translate-x-1 transition-transform\">\n                                View Collection <ArrowRight size={14} />\n                            </span>\n                        </GlassCard>\n                    </Link>\n                </div>\n\n                {/* 4. Home & Decor */}\n                <div className=\"col-span-1 md:col-span-1 lg:col-span-4\">\n                    <Link href=\"/collections/space-stories\" className=\"block h-full group\">\n                        <GlassCard className=\"h-[280px] hover:bg-white/80 dark:hover:bg-navy-800/80 transition-all p-8 flex flex-col justify-between group-hover:border-emerald-500/30\">\n                            <div>\n                                <div className=\"w-12 h-12 rounded-2xl bg-emerald-100 text-emerald-600 flex items-center justify-center mb-6\">\n                                    <Home size={24} />\n                                </div>\n                                <h3 className=\"text-xl font-bold text-navy-900 dark:text-white mb-2\">Space Stories</h3>\n                                <p className=\"text-gray-500 text-sm\">Transform your space with posters and cushions.</p>\n                            </div>\n                            <span className=\"text-emerald-600 font-bold text-sm uppercase tracking-wider flex items-center gap-2 group-hover:translate-x-1 transition-transform\">\n                                View Decor <ArrowRight size={14} />\n                            </span>\n                        </GlassCard>\n                    </Link>\n                </div>\n\n                {/* 5. Best Sellers / Favs */}\n                <div className=\"col-span-1 md:col-span-2 lg:col-span-4\">\n                    <Link href=\"/collections/everyday-icons\" className=\"block h-full group\">\n                        <GlassCard className=\"h-[280px] bg-navy-900 text-white p-8 flex flex-col justify-center text-center relative overflow-hidden border-none\">\n                            <div className=\"absolute inset-0 bg-gradient-to-r from-navy-900 to-purple-900 opacity-50\"></div>\n                            <div className=\"relative z-10\">\n                                <Heart className=\"mx-auto mb-4 text-pink-500 fill-current\" size={32} />\n                                <h3 className=\"text-2xl font-bold mb-2\">Fan Favorites</h3>\n                                <p className=\"text-white/70 text-sm mb-6 max-w-xs mx-auto\">See what everyone else is loving right now.</p>\n                                <button className=\"px-6 py-2 bg-white text-navy-900 rounded-full font-bold text-xs uppercase tracking-widest hover:bg-coral-500 hover:text-white transition-all\">\n                                    Shop Best Sellers\n                                </button>\n                            </div>\n                        </GlassCard>\n                    </Link>\n                </div>\n\n            </div>\n\n            {/* Bottom Link to Full Catalog */}\n            <div className=\"text-center mt-16\">\n                <Link href=\"/worlds\" className=\"text-gray-500 hover:text-navy-900 dark:hover:text-white font-medium text-sm transition-colors border-b border-transparent hover:border-gray-400 pb-1\">\n                    &larr; Back to Full Catalog\n                </Link>\n            </div>\n\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/curated/[slug]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[694,697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[694,697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1772,1775],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1772,1775],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":83,"column":8,"nodeType":"ArrayExpression","endLine":83,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [slug, supabase]","fix":{"range":[2927,2933],"text":"[slug, supabase]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport BrandLoader from '@/components/UI/BrandLoader';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { createClient } from '@/utils/supabase/client';\nimport { LayoutGrid, ArrowLeft } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\nimport { CURATED_CONFIG } from '@/data/curatedConfig';\n\nexport default function CuratedFeedPage() {\n    const params = useParams();\n    const slug = params?.slug as string;\n\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const meta = CURATED_CONFIG[slug] || { title: 'Curated Collection', description: 'Handpicked just for you.', category_slugs: [] };\n\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            setLoading(true);\n            const config = CURATED_CONFIG[slug];\n\n            if (!config) {\n                // Fallback for unknown slugs or old links\n                const { data } = await supabase.from('products').select('*').limit(20);\n                setProducts(data || []);\n                setLoading(false);\n                return;\n            }\n\n            // 1. Resolve Category Slugs to IDs\n            let categoryIds: string[] = [];\n            if (config.category_slugs && config.category_slugs.length > 0) {\n                const { data: cats } = await supabase\n                    .from('categories')\n                    .select('id')\n                    .in('slug', config.category_slugs);\n\n                if (cats) categoryIds = cats.map((c: any) => c.id);\n            }\n\n            // 2. Build Product Query\n            let query = supabase.from('products').select('*');\n\n            if (categoryIds.length > 0) {\n                query = query.in('category_id', categoryIds);\n            }\n\n            // 3. Apply Price Filter\n            if (config.price_max) {\n                query = query.lt('price', config.price_max);\n            }\n\n            const { data, error } = await query.limit(50);\n\n            if (error) console.error(error);\n\n            let finalProducts = data || [];\n\n            // FALLBACK: If no products found for this specific curation, fetch popular items\n            if (finalProducts.length === 0) {\n                const { data: fallbackData } = await supabase\n                    .from('products')\n                    .select('*')\n                    .limit(20);\n\n                finalProducts = fallbackData || [];\n            }\n\n            // Randomize for \"Discovery\" feel\n            const shuffled = finalProducts.sort(() => 0.5 - Math.random());\n            setProducts(shuffled);\n            setLoading(false);\n        };\n        fetchProducts();\n    }, [slug]);\n\n    if (loading) return <BrandLoader text=\"Curating your feed...\" />;\n\n    return (\n        <div className=\"min-h-screen bg-background pt-[var(--header-height)] pb-20\">\n            <AmbientBackground />\n\n            {/* Header */}\n            <div className=\"sticky top-[72px] z-30 bg-white/80 dark:bg-navy-900/80 backdrop-blur-md border-b border-gray-100 dark:border-white/5 py-4 px-6 md:px-12 flex items-center justify-between\">\n                <div className=\"flex items-center gap-4\">\n                    <Link href=\"/\" className=\"p-2 -ml-2 hover:bg-black/5 rounded-full transition-colors\">\n                        <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                    </Link>\n                    <div>\n                        <h1 className=\"text-xl font-bold font-heading text-navy-900 dark:text-white leading-none\">\n                            {meta.title}\n                        </h1>\n                        <p className=\"text-xs text-gray-500 font-medium uppercase tracking-wider mt-1\">{meta.description}</p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Feed Grid */}\n            <div className=\"max-w-[1400px] mx-auto px-4 md:px-6 py-8\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-8 md:gap-8\">\n                    {products.length > 0 ? products.map((product, idx) => (\n                        <motion.div\n                            key={product.id}\n                            initial={{ opacity: 0, y: 20 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            transition={{ delay: idx * 0.05 }}\n                        >\n                            <ProductCard\n                                id={product.id}\n                                name={product.name}\n                                brand=\"BroncStudio\"\n                                price={product.price}\n                                originalPrice={product.compare_at_price}\n                                image={product.images?.[0] || product.image_url || '/images/placeholder.jpg'}\n                                badge={idx % 5 === 0 ? 'Editor Pick' : undefined}\n                            />\n                        </motion.div>\n                    )) : (\n                        <div className=\"col-span-full text-center py-20 text-gray-400\">\n                            <LayoutGrid size={48} className=\"mx-auto mb-4 opacity-50\" />\n                            <p>Curating products for you...</p>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/curated/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/error.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":9,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":10},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":31,"column":24,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1072,1150],"text":"\n                    Don&apos;t worry, our team has been notified.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1072,1150],"text":"\n                    Don&lsquo;t worry, our team has been notified.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1072,1150],"text":"\n                    Don&#39;t worry, our team has been notified.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1072,1150],"text":"\n                    Don&rsquo;t worry, our team has been notified.\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { RefreshCw, Home } from 'lucide-react';\n\nexport default function Error({\n    error,\n    reset,\n}: {\n    error: Error & { digest?: string };\n    reset: () => void;\n}) {\n    return (\n        <div className=\"min-h-screen bg-background flex flex-col items-center justify-center p-6 relative overflow-hidden\">\n            <AmbientBackground />\n\n            <div className=\"container-premium max-w-md mx-auto text-center relative z-10\">\n                <div className=\"mb-8\">\n                    <div className=\"text-9xl font-heading font-bold text-primary/10 select-none\">\n                        Oops\n                    </div>\n                </div>\n\n                <h1 className=\"text-3xl font-heading font-bold text-primary mb-4\">\n                    Something went wrong!\n                </h1>\n                <p className=\"text-secondary mb-8 leading-relaxed\">\n                    We encountered an unexpected error. <br />\n                    Don't worry, our team has been notified.\n                </p>\n\n                <div className=\"flex flex-col gap-3\">\n                    <button\n                        onClick={reset}\n                        className=\"bg-black dark:bg-white text-white dark:text-black font-bold py-3 px-6 rounded-full hover:bg-coral-500 dark:hover:bg-coral-400 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2\"\n                    >\n                        <RefreshCw size={18} /> Try Again\n                    </button>\n                    <Link\n                        href=\"/\"\n                        className=\"bg-card text-primary font-bold py-3 px-6 rounded-full border border-subtle hover:border-primary transition-all flex items-center justify-center gap-2\"\n                    >\n                        <Home size={18} /> Return Home\n                    </Link>\n                </div>\n            </div>\n\n            {/* Decorative Elements */}\n            <div className=\"absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-background to-transparent pointer-events-none\" />\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/gift-finder/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":5,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[112,129],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":102,"column":48,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we&apos;ll help you find something they'll love.\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we&lsquo;ll help you find something they'll love.\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we&#39;ll help you find something they'll love.\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we&rsquo;ll help you find something they'll love.\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":102,"column":80,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we'll help you find something they&apos;ll love.\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we'll help you find something they&lsquo;ll love.\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we'll help you find something they&#39;ll love.\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4088,4198],"text":"\n                        Tell us the moment â€” we'll help you find something they&rsquo;ll love.\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":250,"column":49,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14042,14092],"text":"\n                                                &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14042,14092],"text":"\n                                                &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14042,14092],"text":"\n                                                &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14042,14092],"text":"\n                                                &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":250,"column":77,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14119,14165],"text":"&quot;\n                                            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14119,14165],"text":"&ldquo;\n                                            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14119,14165],"text":"&#34;\n                                            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14119,14165],"text":"&rdquo;\n                                            "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Gift, RotateCcw, Palette, Loader2 } from 'lucide-react';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { GIFT_MOMENTS, AUDIENCE_OPTIONS, BUDGET_OPTIONS, getMomentById } from '@/data/giftMoments';\n\ninterface Product {\n    id: string;\n    name: string;\n    price: number;\n    images?: string[];\n    metadata?: {\n        why_gift?: string;\n    };\n}\n\nexport default function GiftFinderPage() {\n    const [selectedMoment, setSelectedMoment] = useState<string | null>(null);\n    const [audience, setAudience] = useState<string | null>(null);\n    const [budget, setBudget] = useState<number | null>(null);\n    const [products, setProducts] = useState<Product[]>([]);\n    const [loading, setLoading] = useState(false);\n\n    // Fetch products when filters change\n    useEffect(() => {\n        if (!selectedMoment) return;\n\n        const fetchGifts = async () => {\n            setLoading(true);\n            try {\n                const res = await fetch('/api/gift-finder', {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        moment: selectedMoment,\n                        audience: audience || undefined,\n                        budget: budget || undefined,\n                    }),\n                });\n                const data = await res.json();\n                setProducts(data.products || []);\n            } catch (err) {\n                console.error('Failed to fetch gifts:', err);\n                setProducts([]);\n            }\n            setLoading(false);\n        };\n\n        fetchGifts();\n    }, [selectedMoment, audience, budget]);\n\n    const reset = () => {\n        setSelectedMoment(null);\n        setAudience(null);\n        setBudget(null);\n        setProducts([]);\n    };\n\n    const currentMoment = selectedMoment ? getMomentById(selectedMoment) : null;\n\n    // Dynamic helper text\n    const getHelperText = () => {\n        const parts: string[] = [];\n        if (currentMoment) parts.push(currentMoment.label.toLowerCase());\n        if (audience) {\n            const aud = AUDIENCE_OPTIONS.find(a => a.id === audience);\n            if (aud) parts.push(aud.label.toLowerCase());\n        }\n        if (budget) {\n            const bud = BUDGET_OPTIONS.find(b => b.id === budget);\n            if (bud) parts.push(bud.label.toLowerCase());\n        }\n        return parts.length > 0 ? `Based on ${parts.join(', ')}.` : '';\n    };\n\n    return (\n        <div className=\"min-h-screen bg-gradient-to-b from-[#FFF9F2] to-white dark:from-black dark:to-black pt-[var(--header-height)] pb-20\">\n            {/* Background Pattern */}\n            <div className=\"absolute inset-0 z-0 opacity-30 pointer-events-none\" style={{\n                backgroundImage: 'radial-gradient(#E5E7EB 1.5px, transparent 1.5px)',\n                backgroundSize: '24px 24px'\n            }}></div>\n\n            <div className=\"container-premium max-w-[1100px] mx-auto px-4 md:px-6 py-8 md:py-12 relative z-10\">\n\n                {/* ===== HEADER ===== */}\n                <div className=\"text-center mb-10 md:mb-14\">\n                    <motion.div\n                        initial={{ opacity: 0, scale: 0.8 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"w-16 h-16 md:w-20 md:h-20 mx-auto bg-white dark:bg-white/10 rounded-2xl shadow-xl flex items-center justify-center mb-5 rotate-3 border-4 border-white dark:border-white/10\"\n                    >\n                        <Gift size={36} className=\"text-coral-500\" />\n                    </motion.div>\n                    <h1 className=\"text-3xl md:text-5xl font-heading font-bold text-navy-900 dark:text-white leading-tight mb-3\">\n                        Find the Perfect Gift\n                    </h1>\n                    <p className=\"text-gray-500 dark:text-gray-400 text-base md:text-lg max-w-xl mx-auto\">\n                        Tell us the moment â€” we'll help you find something they'll love.\n                    </p>\n                </div>\n\n                {/* ===== MOMENT SELECTION ===== */}\n                {!selectedMoment && (\n                    <motion.section\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"mb-12\"\n                    >\n                        <h2 className=\"text-lg font-bold text-navy-900 dark:text-white mb-6 text-center md:text-left uppercase tracking-widest text-xs opacity-70\">\n                            Choose a moment\n                        </h2>\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                            {GIFT_MOMENTS.map((moment, idx) => (\n                                <motion.button\n                                    key={moment.id}\n                                    onClick={() => setSelectedMoment(moment.id)}\n                                    whileHover={{ scale: 1.02, y: -2 }}\n                                    whileTap={{ scale: 0.98 }}\n                                    initial={{ opacity: 0, y: 20 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                    transition={{ delay: idx * 0.05 }}\n                                    className=\"bg-white/80 dark:bg-white/5 backdrop-blur-sm rounded-xl p-6 text-left shadow-sm hover:shadow-xl border border-gray-100 dark:border-white/10 hover:border-navy-900 dark:hover:border-white/30 transition-all group relative overflow-hidden\"\n                                >\n                                    <div className=\"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110\">\n                                        <moment.icon size={64} strokeWidth={1} className=\"dark:text-white\" />\n                                    </div>\n                                    <div className=\"w-12 h-12 rounded-full bg-gray-50 dark:bg-white/10 flex items-center justify-center mb-4 group-hover:bg-navy-900 group-hover:text-white transition-colors duration-300\">\n                                        <moment.icon size={24} strokeWidth={1.5} className=\"dark:text-white group-hover:text-white\" />\n                                    </div>\n                                    <h3 className=\"font-bold text-navy-900 dark:text-white text-sm md:text-base mb-2 group-hover:text-navy-900 dark:group-hover:text-white transition-colors\">\n                                        {moment.label}\n                                    </h3>\n                                    <p className=\"text-gray-400 text-xs leading-relaxed group-hover:text-gray-500 dark:group-hover:text-gray-300\">\n                                        {moment.tagline}\n                                    </p>\n                                </motion.button>\n                            ))}\n                        </div>\n                    </motion.section>\n                )}\n\n                {/* ===== REFINEMENT BAR ===== */}\n                {selectedMoment && currentMoment && (\n                    <motion.section\n                        initial={{ opacity: 0, y: -10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"mb-8\"\n                    >\n                        <div className=\"flex flex-col md:flex-row items-center justify-between gap-6 bg-white dark:bg-white/5 p-6 rounded-2xl shadow-xl shadow-gray-100 dark:shadow-none border border-gray-100 dark:border-white/10\">\n                            {/* Selected Moment */}\n                            <div className=\"flex items-center gap-4 w-full md:w-auto\">\n                                <div className=\"w-12 h-12 rounded-full bg-navy-50 dark:bg-white/10 text-navy-900 dark:text-white flex items-center justify-center\">\n                                    <currentMoment.icon size={24} strokeWidth={1.5} />\n                                </div>\n                                <div className=\"flex-1\">\n                                    <p className=\"font-bold text-navy-900 dark:text-white text-lg leading-none mb-1\">{currentMoment.label}</p>\n                                    <button onClick={reset} className=\"text-coral-500 text-xs font-bold hover:underline flex items-center gap-1 uppercase tracking-wider\">\n                                        <RotateCcw size={10} /> Change moment\n                                    </button>\n                                </div>\n                            </div>\n\n                            {/* Filters */}\n                            <div className=\"flex flex-wrap gap-3\">\n                                {/* Audience */}\n                                <div className=\"flex gap-2\">\n                                    {AUDIENCE_OPTIONS.map(opt => (\n                                        <button\n                                            key={opt.id}\n                                            onClick={() => setAudience(audience === opt.id ? null : opt.id)}\n                                            className={`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${audience === opt.id\n                                                ? 'bg-navy-900 text-white dark:bg-white dark:text-black'\n                                                : 'bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20'\n                                                }`}\n                                        >\n                                            {opt.label}\n                                        </button>\n                                    ))}\n                                </div>\n\n                                <div className=\"w-px h-6 bg-gray-200 dark:bg-white/10 hidden md:block\" />\n\n                                {/* Budget */}\n                                <div className=\"flex gap-2\">\n                                    {BUDGET_OPTIONS.map(opt => (\n                                        <button\n                                            key={opt.id}\n                                            onClick={() => setBudget(budget === opt.id ? null : opt.id)}\n                                            className={`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${budget === opt.id\n                                                ? 'bg-coral-500 text-white'\n                                                : 'bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/20'\n                                                }`}\n                                        >\n                                            {opt.label}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    </motion.section>\n                )}\n\n                {/* ===== RESULTS SECTION ===== */}\n                {selectedMoment && (\n                    <motion.section\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        transition={{ delay: 0.2 }}\n                    >\n                        <div className=\"mb-6\">\n                            <h2 className=\"text-xl md:text-2xl font-heading font-bold text-navy-900 dark:text-white mb-1\">\n                                Gift ideas for this moment\n                            </h2>\n                            <p className=\"text-gray-500 dark:text-gray-400 text-sm\">{getHelperText()}</p>\n                        </div>\n\n                        {loading ? (\n                            <div className=\"flex items-center justify-center py-20\">\n                                <Loader2 size={40} className=\"animate-spin text-coral-500\" />\n                                <span className=\"ml-3 text-gray-500 dark:text-gray-400 font-medium\">Finding perfect gifts...</span>\n                            </div>\n                        ) : products.length === 0 ? (\n                            <div className=\"text-center py-16 bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10\">\n                                <Gift size={48} className=\"mx-auto mb-4 text-gray-300 dark:text-gray-600\" />\n                                <p className=\"text-gray-500 dark:text-gray-400 font-medium mb-2\">No gifts found for these filters</p>\n                                <p className=\"text-gray-400 dark:text-gray-500 text-sm\">Try adjusting the audience or budget</p>\n                            </div>\n                        ) : (\n                            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6\">\n                                {products.map((product, idx) => (\n                                    <motion.div\n                                        key={product.id}\n                                        initial={{ opacity: 0, y: 20 }}\n                                        animate={{ opacity: 1, y: 0 }}\n                                        transition={{ delay: idx * 0.05 }}\n                                    >\n                                        <ProductCard\n                                            id={product.id}\n                                            name={product.name}\n                                            brand=\"BroncStudio\"\n                                            price={product.price}\n                                            image={product.images?.[0] || '/images/placeholder.jpg'}\n                                        />\n                                        {product.metadata?.why_gift && (\n                                            <p className=\"text-xs text-gray-400 mt-2 px-1 italic\">\n                                                \"{product.metadata.why_gift}\"\n                                            </p>\n                                        )}\n                                    </motion.div>\n                                ))}\n                            </div>\n                        )}\n                    </motion.section>\n                )}\n\n                {/* ===== PERSONALISATION CTA ===== */}\n                {selectedMoment && (\n                    <motion.section\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        transition={{ delay: 0.5 }}\n                        className=\"mt-16 pt-10 border-t border-gray-200 dark:border-white/10\"\n                    >\n                        <div className=\"text-center max-w-lg mx-auto\">\n                            <h3 className=\"text-xl md:text-2xl font-heading font-bold text-navy-900 dark:text-white mb-3\">\n                                âœ¨ Want to make it truly yours?\n                            </h3>\n                            <p className=\"text-gray-500 dark:text-gray-400 text-sm md:text-base mb-6\">\n                                You can personalise our products by printing your own image or design on selected items like tops, bottles, keychains, fridge magnets, and more.\n                            </p>\n                            <Link\n                                href=\"/personalise\"\n                                className=\"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-coral-500 to-pink-500 text-white rounded-full font-bold shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all\"\n                            >\n                                <Palette size={20} />\n                                Personalise a Product\n                            </Link>\n                        </div>\n                    </motion.section>\n                )}\n\n                {/* ===== EMPTY STATE ===== */}\n                {!selectedMoment && (\n                    <p className=\"text-center text-gray-400 text-sm mt-8\">\n                        Select a moment above to see gift ideas.\n                    </p>\n                )}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/contact/ContactClient.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":15,"column":27,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[438,637],"text":"\n                        We&apos;d love to hear from you! Whether you have a question about shipping, products, or just want to say hi, our team is ready to answer all your questions.\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[438,637],"text":"\n                        We&lsquo;d love to hear from you! Whether you have a question about shipping, products, or just want to say hi, our team is ready to answer all your questions.\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[438,637],"text":"\n                        We&#39;d love to hear from you! Whether you have a question about shipping, products, or just want to say hi, our team is ready to answer all your questions.\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[438,637],"text":"\n                        We&rsquo;d love to hear from you! Whether you have a question about shipping, products, or just want to say hi, our team is ready to answer all your questions.\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":26,"column":73,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1256,1286],"text":"We&apos;ll respond within 24 hours."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1256,1286],"text":"We&lsquo;ll respond within 24 hours."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1256,1286],"text":"We&#39;ll respond within 24 hours."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1256,1286],"text":"We&rsquo;ll respond within 24 hours."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport InfoPage from '@/components/Layout/InfoPage';\nimport { Mail, Phone, MapPin } from 'lucide-react';\n\nexport default function ContactClient() {\n    return (\n        <InfoPage title=\"Contact Us\">\n            <div className=\"grid md:grid-cols-2 gap-12\">\n\n                {/* Contact Info */}\n                <div className=\"space-y-8\">\n                    <p className=\"text-lg text-secondary\">\n                        We'd love to hear from you! Whether you have a question about shipping, products, or just want to say hi, our team is ready to answer all your questions.\n                    </p>\n\n                    <div className=\"space-y-6\">\n                        <div className=\"flex items-start gap-4\">\n                            <div className=\"w-10 h-10 rounded-full bg-surface-2 flex items-center justify-center text-primary shrink-0\">\n                                <Mail size={20} />\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-primary\">Email Us</h4>\n                                <p className=\"text-secondary\">broncstudio@gmail.com</p>\n                                <p className=\"text-secondary text-sm\">We'll respond within 24 hours.</p>\n                            </div>\n                        </div>\n\n                        <div className=\"flex items-start gap-4\">\n                            <div className=\"w-10 h-10 rounded-full bg-surface-2 flex items-center justify-center text-primary shrink-0\">\n                                <Phone size={20} />\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-primary\">Call Us</h4>\n                                <p className=\"text-secondary\">+91 98765xxxxx</p>\n                                <p className=\"text-secondary text-sm\">Monâ€“Sat, 9amâ€“6pm IST.</p>\n                            </div>\n                        </div>\n\n                        <div className=\"flex items-start gap-4\">\n                            <div className=\"w-10 h-10 rounded-full bg-surface-2 flex items-center justify-center text-primary shrink-0\">\n                                <MapPin size={20} />\n                            </div>\n                            <div>\n                                <h4 className=\"font-bold text-primary\">Office</h4>\n                                <p className=\"text-secondary\">\n                                    403, Sri Krishna Kruthi CR Pride, Nagashettyhalli, Sanjaynagar main road, Bengaluru - 560094\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Form */}\n                <div className=\"bg-card p-8 rounded-2xl shadow-lg border border-subtle\">\n                    <h3 className=\"text-xl font-bold text-primary mb-6\">Send a Message</h3>\n                    <form className=\"space-y-4\">\n                        <div>\n                            <label className=\"block text-sm font-bold text-primary mb-1\">Name</label>\n                            <input type=\"text\" className=\"w-full px-4 py-2 rounded-lg border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary placeholder:text-gray-400 dark:placeholder:text-gray-500\" />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-primary mb-1\">Email</label>\n                            <input type=\"email\" className=\"w-full px-4 py-2 rounded-lg border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary\" />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-bold text-primary mb-1\">Message</label>\n                            <textarea rows={4} className=\"w-full px-4 py-2 rounded-lg border border-subtle bg-surface-2 text-primary focus:outline-none focus:border-primary\"></textarea>\n                        </div>\n                        <button className=\"w-full bg-black dark:bg-white text-white dark:text-black font-bold py-3 rounded-lg hover:bg-coral-500 dark:hover:bg-coral-400 transition-colors\">\n                            Send Message\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </InfoPage>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/contact/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/faq/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/returns/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/shipping/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/size-guide/SizeGuideClient.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":100,"column":104,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5813,5829],"text":"Child&apos;s Height ("},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5813,5829],"text":"Child&lsquo;s Height ("},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5813,5829],"text":"Child&#39;s Height ("},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5813,5829],"text":"Child&rsquo;s Height ("},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":189,"column":100,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[12910,12983],"text":"We always recommend sizing up. It&apos;s better to have a little room to grow!"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[12910,12983],"text":"We always recommend sizing up. It&lsquo;s better to have a little room to grow!"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[12910,12983],"text":"We always recommend sizing up. It&#39;s better to have a little room to grow!"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[12910,12983],"text":"We always recommend sizing up. It&rsquo;s better to have a little room to grow!"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport InfoPage from '@/components/Layout/InfoPage';\nimport { Ruler, CheckCircle, ArrowRight, Calculator } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ntype Unit = 'cm' | 'in';\ntype Category = 'baby' | 'toddler' | 'kid';\n\nconst SIZES = {\n    baby: [\n        { label: '0-3M', heightCm: '55-61', weightKg: '4-6', heightIn: '21.5-24', weightLb: '8-13' },\n        { label: '3-6M', heightCm: '61-67', weightKg: '6-8', heightIn: '24-26.5', weightLb: '13-17.5' },\n        { label: '6-12M', heightCm: '67-78', weightKg: '8-10', heightIn: '26.5-30.5', weightLb: '17.5-22' },\n    ],\n    toddler: [\n        { label: '12-18M', heightCm: '78-83', weightKg: '10-12', heightIn: '30.5-32.5', weightLb: '22-26.5' },\n        { label: '18-24M', heightCm: '83-86', weightKg: '12-13', heightIn: '32.5-34', weightLb: '26.5-28.5' },\n        { label: '2-3Y', heightCm: '86-98', weightKg: '13-15', heightIn: '34-38.5', weightLb: '28.5-33' },\n    ],\n    kid: [\n        { label: '3-4Y', heightCm: '98-104', weightKg: '15-17', heightIn: '38.5-41', weightLb: '33-37.5' },\n        { label: '4-5Y', heightCm: '104-110', weightKg: '17-19', heightIn: '41-43.5', weightLb: '37.5-42' },\n        { label: '5-6Y', heightCm: '110-116', weightKg: '19-21', heightIn: '43.5-45.5', weightLb: '42-46' },\n        { label: '6-7Y', heightCm: '116-122', weightKg: '21-23', heightIn: '45.5-48', weightLb: '46-50.5' },\n    ]\n};\n\nexport default function SizeGuidePage() {\n    const [activeTab, setActiveTab] = useState<Category>('toddler');\n    const [unit, setUnit] = useState<Unit>('cm');\n\n    return (\n        <InfoPage title=\"Size Guide\">\n            <div className=\"max-w-4xl mx-auto\">\n                <div className=\"text-center mb-12\">\n                    <p className=\"text-xl text-gray-500 dark:text-gray-400 font-medium max-w-2xl mx-auto leading-relaxed\">\n                        Kids grow fast! Use our guide to find the perfect fit. <br className=\"hidden md:block\" />\n                        When in doubt, we recommend <span className=\"text-navy-900 dark:text-white font-bold\">sizing up</span> for longer wear.\n                    </p>\n                </div>\n\n                {/* Controls Container */}\n                <div className=\"flex flex-col md:flex-row justify-between items-center gap-6 mb-8 bg-white dark:bg-white/5 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10\">\n\n                    {/* Category Tabs */}\n                    <div className=\"bg-gray-100/80 dark:bg-white/10 p-1.5 rounded-xl flex\">\n                        {(['baby', 'toddler', 'kid'] as const).map(tab => (\n                            <button\n                                key={tab}\n                                onClick={() => setActiveTab(tab)}\n                                className={`px-6 py-2.5 rounded-lg text-sm font-bold transition-all relative ${activeTab === tab\n                                    ? 'text-navy-900 dark:text-white'\n                                    : 'text-gray-500 dark:text-gray-400 hover:text-navy-700 dark:hover:text-gray-200'\n                                    } capitalize`}\n                            >\n                                {activeTab === tab && (\n                                    <motion.div\n                                        layoutId=\"activeTab\"\n                                        className=\"absolute inset-0 bg-white dark:bg-white/10 rounded-lg shadow-sm\"\n                                        transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\n                                    />\n                                )}\n                                <span className=\"relative z-10\">{tab}</span>\n                            </button>\n                        ))}\n                    </div>\n\n                    {/* Unit Toggle */}\n                    <div className=\"flex items-center gap-3 bg-gray-100/80 dark:bg-white/10 p-1.5 rounded-xl\">\n                        <button\n                            onClick={() => setUnit('cm')}\n                            className={`px-4 py-2.5 rounded-lg text-xs font-bold transition-all ${unit === 'cm'\n                                ? 'bg-white dark:bg-white/10 text-navy-900 dark:text-white shadow-sm'\n                                : 'text-gray-500 dark:text-gray-400 hover:text-navy-700 dark:hover:text-gray-200'\n                                }`}\n                        >\n                            CM / KG\n                        </button>\n                        <button\n                            onClick={() => setUnit('in')}\n                            className={`px-4 py-2.5 rounded-lg text-xs font-bold transition-all ${unit === 'in'\n                                ? 'bg-white dark:bg-white/10 text-navy-900 dark:text-white shadow-sm'\n                                : 'text-gray-500 dark:text-gray-400 hover:text-navy-700 dark:hover:text-gray-200'\n                                }`}\n                        >\n                            IN / LB\n                        </button>\n                    </div>\n                </div>\n\n                {/* Table */}\n                <div className=\"bg-white dark:bg-white/5 rounded-3xl border border-gray-100 dark:border-white/10 overflow-hidden mb-12 shadow-lg shadow-gray-100/50 dark:shadow-none\">\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-left border-collapse\">\n                            <thead>\n                                <tr className=\"bg-navy-900 dark:bg-white/10 text-white\">\n                                    <th className=\"p-6 font-bold tracking-wide uppercase text-xs\">Size Label</th>\n                                    <th className=\"p-6 font-bold tracking-wide uppercase text-xs\">Child's Height ({unit === 'cm' ? 'cm' : 'in'})</th>\n                                    <th className=\"p-6 font-bold tracking-wide uppercase text-xs\">Weight (Approx)</th>\n                                    <th className=\"p-6 font-bold tracking-wide uppercase text-xs text-right\">Age Group</th>\n                                </tr>\n                            </thead>\n                            <tbody className=\"divide-y divide-gray-100 dark:divide-white/10\">\n                                <AnimatePresence mode='wait'>\n                                    {SIZES[activeTab].map((row, i) => (\n                                        <motion.tr\n                                            key={row.label}\n                                            initial={{ opacity: 0, y: 10 }}\n                                            animate={{ opacity: 1, y: 0 }}\n                                            exit={{ opacity: 0, y: -10 }}\n                                            transition={{ delay: i * 0.05 }}\n                                            className=\"group hover:bg-blue-50/30 dark:hover:bg-white/5 transition-colors\"\n                                        >\n                                            <td className=\"p-6 font-heading font-bold text-navy-900 dark:text-white text-lg group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors\">\n                                                {row.label}\n                                            </td>\n                                            <td className=\"p-6 text-gray-600 dark:text-gray-300 font-medium\">\n                                                {unit === 'cm' ? row.heightCm : row.heightIn}\n                                                <span className=\"text-gray-400 dark:text-gray-500 text-xs ml-1\">{unit}</span>\n                                            </td>\n                                            <td className=\"p-6 text-gray-600 dark:text-gray-300 font-medium\">\n                                                {unit === 'cm' ? row.weightKg : row.weightLb}\n                                                <span className=\"text-gray-400 dark:text-gray-500 text-xs ml-1\">{unit === 'cm' ? 'kg' : 'lbs'}</span>\n                                            </td>\n                                            <td className=\"p-6 text-right\">\n                                                <span className=\"inline-block px-3 py-1 rounded-full bg-gray-100 dark:bg-white/10 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase\">\n                                                    {activeTab}\n                                                </span>\n                                            </td>\n                                        </motion.tr>\n                                    ))}\n                                </AnimatePresence>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n                {/* How to Measure Grid */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12\">\n                    <div className=\"bg-blue-50/50 dark:bg-blue-900/10 rounded-3xl p-8 border border-blue-50 dark:border-blue-900/20 flex flex-col justify-between\">\n                        <div>\n                            <div className=\"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center text-blue-600 dark:text-blue-400 mb-6 rotate-3\">\n                                <Ruler size={24} strokeWidth={2.5} />\n                            </div>\n                            <h3 className=\"text-2xl font-bold text-navy-900 dark:text-white mb-2\">How to Measure</h3>\n                            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">For the most accurate fit, we recommend measuring your child wearing lightweight clothing.</p>\n\n                            <ul className=\"space-y-4\">\n                                <li className=\"flex items-start gap-3 text-gray-700 dark:text-gray-300\">\n                                    <CheckCircle size={20} className=\"text-blue-500 dark:text-blue-400 shrink-0 mt-0.5\" />\n                                    <div>\n                                        <strong className=\"block text-navy-900 dark:text-white\">Height</strong>\n                                        <span className=\"text-sm\">Stand straight against a wall without shoes. Measure from top of head to floor.</span>\n                                    </div>\n                                </li>\n                                <li className=\"flex items-start gap-3 text-gray-700 dark:text-gray-300\">\n                                    <CheckCircle size={20} className=\"text-blue-500 dark:text-blue-400 shrink-0 mt-0.5\" />\n                                    <div>\n                                        <strong className=\"block text-navy-900 dark:text-white\">Chest</strong>\n                                        <span className=\"text-sm\">Measure under arms at the fullest part of the chest.</span>\n                                    </div>\n                                </li>\n                                <li className=\"flex items-start gap-3 text-gray-700 dark:text-gray-300\">\n                                    <CheckCircle size={20} className=\"text-blue-500 dark:text-blue-400 shrink-0 mt-0.5\" />\n                                    <div>\n                                        <strong className=\"block text-navy-900 dark:text-white\">Waist</strong>\n                                        <span className=\"text-sm\">Measure around the natural waistline, keeping tape loose.</span>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    <div className=\"bg-amber-50/50 dark:bg-amber-900/10 rounded-3xl p-8 border border-amber-50 dark:border-amber-900/20 flex flex-col justify-between\">\n                        <div>\n                            <div className=\"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-2xl flex items-center justify-center text-amber-600 dark:text-amber-400 mb-6 -rotate-3\">\n                                <Calculator size={24} strokeWidth={2.5} />\n                            </div>\n                            <h3 className=\"text-2xl font-bold text-navy-900 dark:text-white mb-2\">Fit Tips</h3>\n                            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">Every child grows at their own pace. Here are some tips to help you choose.</p>\n\n                            <ul className=\"space-y-4\">\n                                <li className=\"flex items-start gap-3 text-gray-700 dark:text-gray-300\">\n                                    <ArrowRight size={20} className=\"text-amber-500 dark:text-amber-400 shrink-0 mt-0.5\" />\n                                    <div>\n                                        <strong className=\"block text-navy-900 dark:text-white\">In Between Sizes?</strong>\n                                        <span className=\"text-sm\">We always recommend sizing up. It's better to have a little room to grow!</span>\n                                    </div>\n                                </li>\n                                <li className=\"flex items-start gap-3 text-gray-700 dark:text-gray-300\">\n                                    <ArrowRight size={20} className=\"text-amber-500 dark:text-amber-400 shrink-0 mt-0.5\" />\n                                    <div>\n                                        <strong className=\"block text-navy-900 dark:text-white\">Cotton Shrinkage</strong>\n                                        <span className=\"text-sm\">Our 100% organic cotton may shrink up to 5% after the first wash.</span>\n                                    </div>\n                                </li>\n                                <li className=\"flex items-start gap-3 text-gray-700 dark:text-gray-300\">\n                                    <ArrowRight size={20} className=\"text-amber-500 dark:text-amber-400 shrink-0 mt-0.5\" />\n                                    <div>\n                                        <strong className=\"block text-navy-900 dark:text-white\">Relaxed Fits</strong>\n                                        <span className=\"text-sm\">Most of our styles are designed for a relaxed, comfortable fit for play.</span>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </InfoPage>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/size-guide/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/help/track/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/journal/[slug]/page.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":23,"column":17,"nodeType":"JSXOpeningElement","endLine":28,"endColumn":19},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":50,"column":117,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn&apos;t just about the words on the page; it's about the worlds you build together.\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn&lsquo;t just about the words on the page; it's about the worlds you build together.\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn&#39;t just about the words on the page; it's about the worlds you build together.\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn&rsquo;t just about the words on the page; it's about the worlds you build together.\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":50,"column":156,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn't just about the words on the page; it&apos;s about the worlds you build together.\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn't just about the words on the page; it&lsquo;s about the worlds you build together.\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn't just about the words on the page; it&#39;s about the worlds you build together.\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2597,2756],"text":" became a topic worth exploring. Reading to children isn't just about the words on the page; it&rsquo;s about the worlds you build together.\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":60,"column":29,"nodeType":"JSXOpeningElement","endLine":60,"endColumn":185}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { useParams } from 'next/navigation';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport Link from 'next/link';\nimport { ArrowLeft, Share2, Clock, Calendar } from 'lucide-react';\n\nexport default function ArticlePage() {\n    const params = useParams();\n    const slug = params?.slug as string;\n\n    // In a real app, fetch data based on slug.\n    // Here we hardcode a generic look for demo.\n    const title = slug ? slug.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ') : 'Article Title';\n\n    return (\n        <div className=\"min-h-screen bg-[#FAF9F7] pb-20 pt-[var(--header-height)]\">\n            <AmbientBackground />\n\n            {/* Header Image */}\n            <div className=\"w-full h-[60vh] relative\">\n                <img\n                    src=\"https://images.unsplash.com/photo-1512820790803-83ca734da794?q=80&w=2000&auto=format&fit=crop\"\n                    alt=\"Cover\"\n                    className=\"w-full h-full object-cover fixed top-0 left-0 -z-10\" // Parallax effect\n                    style={{ height: '60vh' }}\n                />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-[#FAF9F7] via-[#FAF9F7]/20 to-transparent\" />\n            </div>\n\n            <div className=\"container-premium max-w-[800px] mx-auto px-6 -mt-32 relative z-10\">\n                <Link href=\"/journal\" className=\"inline-flex items-center gap-2 text-sm font-bold text-navy-900 bg-white/50 backdrop-blur-md px-4 py-2 rounded-full mb-8 hover:bg-white transition-colors\">\n                    <ArrowLeft size={16} /> Back to Journal\n                </Link>\n\n                <div className=\"bg-white rounded-3xl p-8 md:p-12 shadow-sm border border-gray-100\">\n                    <div className=\"flex items-center gap-6 text-sm text-gray-500 mb-6 border-b border-gray-100 pb-6\">\n                        <span className=\"flex items-center gap-2\"><Calendar size={16} /> Jan 24, 2024</span>\n                        <span className=\"flex items-center gap-2\"><Clock size={16} /> 5 min read</span>\n                        <span className=\"text-coral-500 font-bold uppercase tracking-wider ml-auto\">Education</span>\n                    </div>\n\n                    <h1 className=\"text-3xl md:text-5xl font-heading font-bold text-navy-900 mb-8 leading-tight\">\n                        {title}\n                    </h1>\n\n                    <div className=\"prose prose-lg prose-navy max-w-none\">\n                        <p className=\"lead\">\n                            This is the story of how {title} became a topic worth exploring. Reading to children isn't just about the words on the page; it's about the worlds you build together.\n                        </p>\n                        <p>\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\n                        </p>\n                        <h3>Why It Matters</h3>\n                        <p>\n                            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n                        </p>\n                        <figure>\n                            <img src=\"https://images.unsplash.com/photo-1519337265831-281ec6cc8514?q=80&w=1000&auto=format&fit=crop\" alt=\"Reading time\" className=\"rounded-xl w-full\" />\n                            <figcaption className=\"text-center text-sm text-gray-400 mt-2 italic\">Building memories, one page at a time.</figcaption>\n                        </figure>\n                        <p>\n                            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.\n                        </p>\n                    </div>\n\n                    <div className=\"mt-12 pt-8 border-t border-gray-100 flex items-center justify-between\">\n                        <div className=\"text-sm font-bold text-navy-900\">Share this story:</div>\n                        <div className=\"flex gap-4\">\n                            <button className=\"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-navy-900 hover:bg-navy-900 hover:text-white transition-colors\"><Share2 size={18} /></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/journal/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":6,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":30,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Calendar"},"fix":{"range":[158,168],"text":""},"desc":"Remove unused variable \"Calendar\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":6,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[168,174],"text":""},"desc":"Remove unused variable \"User\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":6,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":43,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Clock"},"fix":{"range":[174,181],"text":""},"desc":"Remove unused variable \"Clock\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":58,"column":29,"nodeType":"JSXOpeningElement","endLine":62,"endColumn":31},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":92,"column":33,"nodeType":"JSXOpeningElement","endLine":96,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { ArrowRight, Calendar, User, Clock } from 'lucide-react';\n\nconst ARTICLES = [\n    {\n        slug: '5-books-every-little-legend-should-read',\n        title: '5 Books Every Little Legend Should Read',\n        excerpt: 'From magical forests to space adventures, these stories will spark your childâ€™s imagination like never before.',\n        image: 'https://images.unsplash.com/photo-1512820790803-83ca734da794?q=80&w=1000&auto=format&fit=crop',\n        category: 'Education',\n        date: 'Jan 24, 2024',\n        readTime: '5 min read'\n    },\n    {\n        slug: 'style-guide-dressing-for-play',\n        title: 'Style Guide: Dressing for Play',\n        excerpt: 'Comfort meets cool. How to choose outfits that survive the playground test while looking picture-perfect.',\n        image: 'https://images.unsplash.com/photo-1502781252888-9143ba7f074e?q=80&w=1000&auto=format&fit=crop',\n        category: 'Fashion',\n        date: 'Jan 18, 2024',\n        readTime: '4 min read'\n    },\n    {\n        slug: 'behind-the-scenes',\n        title: 'Behind the Scenes of Our New Collection',\n        excerpt: 'Take a peek into our design studio and see how our latest \"Space Stories\" collection came to life.',\n        image: 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=1000&auto=format&fit=crop',\n        category: 'Inside Broncstudio',\n        date: 'Jan 10, 2024',\n        readTime: '6 min read'\n    }\n];\n\nexport default function JournalPage() {\n    const featured = ARTICLES[0];\n    const recent = ARTICLES.slice(1);\n\n    return (\n        <div className=\"min-h-screen bg-[#FAF9F7] pb-20 pt-[var(--header-height)]\">\n            <AmbientBackground />\n\n            <div className=\"container-premium max-w-[1200px] mx-auto px-6 py-12\">\n                <div className=\"text-center mb-16\">\n                    <span className=\"text-coral-500 font-bold tracking-widest uppercase text-xs mb-4 block\">The Bronc Journal</span>\n                    <h1 className=\"text-4xl md:text-5xl font-heading font-bold text-navy-900\">\n                        Stories & Ideas\n                    </h1>\n                </div>\n\n                {/* Featured Article */}\n                <Link href={`/journal/${featured.slug}`} className=\"group block mb-16\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center\">\n                        <div className=\"aspect-[4/3] rounded-3xl overflow-hidden bg-gray-200 relative shadow-md group-hover:shadow-xl transition-all duration-500\">\n                            <img\n                                src={featured.image}\n                                alt={featured.title}\n                                className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700\"\n                            />\n                            <div className=\"absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-black uppercase tracking-wider\">\n                                {featured.category}\n                            </div>\n                        </div>\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-center gap-4 text-xs text-gray-400 font-bold uppercase tracking-wider\">\n                                <span>{featured.date}</span>\n                                <span>â€¢</span>\n                                <span>{featured.readTime}</span>\n                            </div>\n                            <h2 className=\"text-3xl md:text-4xl font-heading font-bold text-navy-900 group-hover:text-coral-500 transition-colors\">\n                                {featured.title}\n                            </h2>\n                            <p className=\"text-gray-500 text-lg leading-relaxed\">\n                                {featured.excerpt}\n                            </p>\n                            <span className=\"inline-flex items-center gap-2 text-navy-900 font-bold underline decoration-2 decoration-coral-500/30 group-hover:decoration-coral-500 transition-all\">\n                                Read Story <ArrowRight size={18} />\n                            </span>\n                        </div>\n                    </div>\n                </Link>\n\n                {/* Recent Grid */}\n                <h3 className=\"text-2xl font-bold text-navy-900 mb-8 pt-8 border-t border-gray-100\">Latest Reads</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n                    {recent.map((article, i) => (\n                        <Link key={i} href={`/journal/${article.slug}`} className=\"group block bg-white rounded-2xl p-4 shadow-sm hover:shadow-md transition-all border border-gray-100\">\n                            <div className=\"aspect-[3/2] rounded-xl overflow-hidden bg-gray-200 mb-4\">\n                                <img\n                                    src={article.image}\n                                    alt={article.title}\n                                    className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\"\n                                />\n                            </div>\n                            <div className=\"space-y-3\">\n                                <div className=\"flex items-center justify-between text-xs text-gray-400 font-medium\">\n                                    <span className=\"text-coral-500 font-bold uppercase\">{article.category}</span>\n                                    <span>{article.readTime}</span>\n                                </div>\n                                <h4 className=\"text-xl font-heading font-bold text-navy-900 group-hover:text-coral-500 transition-colors leading-tight\">\n                                    {article.title}\n                                </h4>\n                                <p className=\"text-sm text-gray-500 line-clamp-2\">\n                                    {article.excerpt}\n                                </p>\n                            </div>\n                        </Link>\n                    ))}\n\n                    {/* Placeholder for \"Coming Soon\" or more layout balance */}\n                    <div className=\"bg-navy-900 rounded-2xl p-8 flex flex-col justify-center text-center text-white\">\n                        <h4 className=\"text-2xl font-heading font-bold mb-2\">Join the Club</h4>\n                        <p className=\"text-white/70 text-sm mb-6\">Get stories, styling tips, and new product drops sent to your inbox.</p>\n                        <form className=\"flex flex-col gap-2\">\n                            <input type=\"email\" placeholder=\"Your email\" className=\"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-sm text-white placeholder-white/50 focus:outline-none\" />\n                            <button className=\"bg-white text-navy-900 font-bold py-2 rounded-lg text-sm hover:bg-coral-500 hover:text-white transition-colors\">Subscribe</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/login/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowLeft' is defined but never used.","line":8,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowLeft"},"fix":{"range":[240,250],"text":""},"desc":"Remove unused variable \"ArrowLeft\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Mail' is defined but never used.","line":8,"column":33,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Mail"},"fix":{"range":[261,267],"text":""},"desc":"Remove unused variable \"Mail\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Lock' is defined but never used.","line":8,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":43,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Lock"},"fix":{"range":[267,273],"text":""},"desc":"Remove unused variable \"Lock\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":8,"column":45,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":49,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[273,279],"text":""},"desc":"Remove unused variable \"User\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Phone' is defined but never used.","line":8,"column":86,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":91,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Phone"},"fix":{"range":[314,321],"text":""},"desc":"Remove unused variable \"Phone\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'KeyRound' is defined but never used.","line":8,"column":93,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":101,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"KeyRound"},"fix":{"range":[321,331],"text":""},"desc":"Remove unused variable \"KeyRound\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used.","line":8,"column":116,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":124,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Sparkles"},"fix":{"range":[344,354],"text":""},"desc":"Remove unused variable \"Sparkles\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronLeft' is defined but never used.","line":8,"column":126,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":137,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronLeft"},"fix":{"range":[354,367],"text":""},"desc":"Remove unused variable \"ChevronLeft\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AmbientBackground' is defined but never used.","line":9,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":25,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"AmbientBackground"},"fix":{"range":[391,457],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setAuthMethod' is assigned a value but never used.","line":17,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setPhone' is assigned a value but never used.","line":30,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":30,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setOtp' is assigned a value but never used.","line":31,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":34,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":138,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":138,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5323,5326],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5323,5326],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":371,"column":33,"nodeType":"JSXOpeningElement","endLine":371,"endColumn":132},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":378,"column":33,"nodeType":"JSXOpeningElement","endLine":378,"endColumn":147}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ArrowLeft, ArrowRight, Mail, Lock, User, AlertCircle, CheckCircle, Loader2, Phone, KeyRound, Eye, EyeOff, Sparkles, ChevronLeft } from 'lucide-react';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { createClient } from '@/utils/supabase/client';\nimport { getGoogleDriveDirectLink } from '@/utils/googleDrive';\n\ntype AuthMethod = 'email' | 'phone';\n\nexport default function LoginPage() {\n    const [isLogin, setIsLogin] = useState(true);\n    const [authMethod, setAuthMethod] = useState<AuthMethod>('email');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [message, setMessage] = useState<string | null>(null);\n    const [checkingAuth, setCheckingAuth] = useState(true);\n\n    // Form State\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [showPassword, setShowPassword] = useState(false);\n    const [fullName, setFullName] = useState('');\n\n    // Phone Auth State\n    const [phone, setPhone] = useState('');\n    const [otp, setOtp] = useState('');\n    const [otpSent, setOtpSent] = useState(false);\n\n    const router = useRouter();\n    const supabase = createClient();\n\n    // Login Content Config\n    const [loginConfig, setLoginConfig] = useState({\n        visual_urls: [\n            'https://images.unsplash.com/photo-1473580044384-7ba9967e16a0?q=80&w=2070&auto=format&fit=crop',\n            'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?q=80&w=2071&auto=format&fit=crop',\n            'https://images.unsplash.com/photo-1501785888041-af3ef285b470?q=80&w=2070&auto=format&fit=crop'\n        ],\n        headline: 'Capturing Moments,<br />Creating Memories'\n    });\n\n    const [currentIndex, setCurrentIndex] = useState(0);\n\n    // Carousel Logic\n    useEffect(() => {\n        const validUrls = loginConfig.visual_urls.filter(url => url !== '');\n        if (validUrls.length > 1) {\n            const interval = setInterval(() => {\n                setCurrentIndex(prev => (prev + 1) % validUrls.length);\n            }, 5000);\n            return () => clearInterval(interval);\n        }\n    }, [loginConfig.visual_urls]);\n\n    // Check if user is already logged in & Fetch Config\n    useEffect(() => {\n        const checkExistingSession = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (user) {\n                window.location.href = '/?login=success';\n            } else {\n                setCheckingAuth(false);\n            }\n        };\n\n        const fetchLoginConfig = async () => {\n            const { data } = await supabase\n                .from('content_blocks')\n                .select('content')\n                .eq('section_id', 'login_page')\n                .single();\n\n            if (data && data.content) {\n                setLoginConfig(prev => ({\n                    ...prev,\n                    ...data.content,\n                    visual_urls: data.content.visual_urls || (data.content.visual_url ? [data.content.visual_url, '', ''] : prev.visual_urls)\n                }));\n            }\n        };\n\n        checkExistingSession();\n        fetchLoginConfig();\n    }, [supabase]);\n\n    const handleAuth = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(null);\n        setMessage(null);\n\n        try {\n            if (authMethod === 'phone') {\n                if (!otpSent) {\n                    const { error } = await supabase.auth.signInWithOtp({\n                        phone: phone,\n                    });\n                    if (error) throw error;\n                    setOtpSent(true);\n                    setMessage('OTP sent! Please check your mobile.');\n                } else {\n                    const { error } = await supabase.auth.verifyOtp({\n                        phone: phone,\n                        token: otp,\n                        type: 'sms',\n                    });\n                    if (error) throw error;\n                    window.location.href = '/?login=success';\n                }\n            } else {\n                if (isLogin) {\n                    const { error } = await supabase.auth.signInWithPassword({\n                        email,\n                        password,\n                    });\n                    if (error) throw error;\n                    window.location.href = '/?login=success';\n                } else {\n                    const { error } = await supabase.auth.signUp({\n                        email,\n                        password,\n                        options: {\n                            data: {\n                                full_name: fullName,\n                                avatar_url: `https://api.dicebear.com/7.x/micah/svg?seed=${fullName}`,\n                            },\n                        },\n                    });\n                    if (error) throw error;\n                    setMessage('Check your email for the confirmation link!');\n                }\n            }\n        } catch (err: any) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleOAuth = async (provider: 'google') => {\n        setLoading(true);\n        const { error } = await supabase.auth.signInWithOAuth({\n            provider,\n            options: {\n                redirectTo: `${location.origin}/auth/callback`,\n            },\n        });\n        if (error) setError(error.message);\n        setLoading(false);\n    };\n\n    if (checkingAuth) {\n        return (\n            <div className=\"min-h-screen w-full flex items-center justify-center bg-[#020617]\">\n                <Loader2 className=\"animate-spin text-coral-500\" size={32} />\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-[calc(100vh-72px)] w-full flex items-center justify-center bg-black text-white p-4 md:p-8 font-sans selection:bg-red-500/30 overflow-x-hidden relative\">\n            {/* Cinematic Red & Black Background */}\n            <div className=\"absolute inset-0 z-0 overflow-hidden pointer-events-none\">\n                {/* Primary Radial Glow */}\n                <div\n                    className=\"absolute inset-0 opacity-80\"\n                    style={{\n                        background: 'radial-gradient(circle at 35% 50%, rgba(185, 28, 28, 0.25) 0%, rgba(127, 29, 29, 0.1) 40%, rgba(0, 0, 0, 1) 100%)'\n                    }}\n                />\n\n                {/* Top-Right Secondary Glow */}\n                <div\n                    className=\"absolute inset-0 opacity-30\"\n                    style={{\n                        background: 'radial-gradient(circle at 85% 15%, rgba(185, 28, 28, 0.15) 0%, transparent 50%)'\n                    }}\n                />\n\n                {/* Micro-Texture Overlay (Low-opacity grain) */}\n                <div\n                    className=\"absolute inset-0 opacity-[0.03] mix-blend-overlay\"\n                    style={{\n                        backgroundImage: `url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")`\n                    }}\n                />\n            </div>\n\n            <motion.div\n                initial={{ opacity: 0, scale: 0.95 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ duration: 0.8, ease: [0.16, 1, 0.3, 1] }}\n                className=\"w-full max-w-5xl relative z-10 grid grid-cols-1 md:grid-cols-2 rounded-[32px] overflow-hidden shadow-[0_40px_100px_-20px_rgba(0,0,0,0.8)] border border-white/5 font-sans md:h-[min(750px,80vh)]\"\n            >\n                {/* LEFT PANEL: Cinematic Visual */}\n                <div className=\"relative hidden md:flex flex-col justify-between p-12 order-1 h-full\">\n                    {/* Background Visual Carousel */}\n                    <div className=\"absolute inset-0 z-0\">\n                        <AnimatePresence mode=\"wait\">\n                            <motion.div\n                                key={currentIndex}\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                exit={{ opacity: 0 }}\n                                transition={{ duration: 1.5 }}\n                                className=\"absolute inset-0\"\n                            >\n                                <Image\n                                    src={getGoogleDriveDirectLink(loginConfig.visual_urls.filter(url => url !== '')[currentIndex] || loginConfig.visual_urls[0])}\n                                    alt=\"Visual\"\n                                    fill\n                                    className=\"object-cover\"\n                                    priority\n                                    unoptimized={loginConfig.visual_urls[currentIndex]?.startsWith('http')}\n                                />\n                            </motion.div>\n                        </AnimatePresence>\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/40\" />\n                    </div>\n\n                    {/* Header */}\n                    <div className=\"relative z-10 flex items-center justify-end\">\n                        <Link href=\"/\" className=\"px-4 py-2 bg-white/10 backdrop-blur-md border border-white/10 rounded-full text-[10px] font-bold uppercase tracking-widest hover:bg-white/20 transition-all flex items-center gap-2\">\n                            Back to website <ArrowRight size={12} />\n                        </Link>\n                    </div>\n\n                    {/* Narrative Text - Removed Headline as requested */}\n                    <div className=\"relative z-10 max-w-sm\">\n                        {/* Carousel Indicators */}\n                        <div className=\"flex gap-2\">\n                            {loginConfig.visual_urls.filter(url => url !== '').map((_, idx) => (\n                                <motion.div\n                                    key={idx}\n                                    className={`h-[2px] rounded-full transition-all duration-500 ${idx === currentIndex ? 'w-12 bg-white' : 'w-6 bg-white/40'}`}\n                                />\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                {/* RIGHT PANEL: Form */}\n                <div className=\"p-8 md:p-12 lg:p-16 bg-[#0c0c0e] flex flex-col justify-center order-2 h-full overflow-y-auto\">\n                    <div className=\"max-w-md mx-auto w-full py-4\">\n                        <header className=\"mb-6 md:mb-10\">\n                            <h1 className=\"text-3xl md:text-5xl font-semibold mb-3 md:mb-4 tracking-tight\">\n                                {isLogin ? 'Welcome back' : 'Create an account'}\n                            </h1>\n                            <p className=\"text-white/40 text-sm font-medium\">\n                                {isLogin ? 'Don\\'t have an account?' : 'Already have an account?'}\n                                <button\n                                    onClick={() => {\n                                        setIsLogin(!isLogin);\n                                        setError(null);\n                                        setMessage(null);\n                                    }}\n                                    className=\"ml-2 text-red-600 hover:text-red-500 font-bold transition-colors underline underline-offset-4\"\n                                >\n                                    {isLogin ? 'Create new account' : 'Log in'}\n                                </button>\n                            </p>\n                        </header>\n\n                        {/* Notifications */}\n                        <AnimatePresence mode=\"wait\">\n                            {(error || message) && (\n                                <motion.div\n                                    initial={{ opacity: 0, y: -10 }}\n                                    animate={{ opacity: 1, y: 0 }}\n                                    exit={{ opacity: 0, scale: 0.95 }}\n                                    className={`mb-8 p-4 rounded-xl border flex items-start gap-4 text-xs font-bold ${error\n                                        ? 'bg-red-500/10 border-red-500/20 text-red-400'\n                                        : 'bg-cyan-500/10 border-cyan-500/20 text-cyan-400'\n                                        }`}\n                                >\n                                    {error ? <AlertCircle size={16} className=\"shrink-0\" /> : <CheckCircle size={16} className=\"shrink-0\" />}\n                                    <p className=\"leading-relaxed\">{error || message}</p>\n                                </motion.div>\n                            )}\n                        </AnimatePresence>\n\n                        {/* Auth Form */}\n                        <form className=\"space-y-6\" onSubmit={handleAuth}>\n                            {!isLogin && authMethod === 'email' && (\n                                <div className=\"grid grid-cols-2 gap-4\">\n                                    <div className=\"relative\">\n                                        <input\n                                            type=\"text\"\n                                            placeholder=\"First name\"\n                                            value={fullName.split(' ')[0] || ''}\n                                            onChange={(e) => setFullName(`${e.target.value} ${fullName.split(' ')[1] || ''}`)}\n                                            required={!isLogin}\n                                            className=\"w-full px-5 py-4 bg-white/5 border border-white/5 rounded-[14px] text-white placeholder:text-white/30 focus:outline-none focus:border-red-600/50 transition-all text-sm font-medium\"\n                                        />\n                                    </div>\n                                    <div className=\"relative\">\n                                        <input\n                                            type=\"text\"\n                                            placeholder=\"Last name\"\n                                            value={fullName.split(' ')[1] || ''}\n                                            onChange={(e) => setFullName(`${fullName.split(' ')[0] || ''} ${e.target.value}`)}\n                                            className=\"w-full px-5 py-4 bg-white/5 border border-white/5 rounded-[14px] text-white placeholder:text-white/30 focus:outline-none focus:border-red-600/50 transition-all text-sm font-medium\"\n                                        />\n                                    </div>\n                                </div>\n                            )}\n\n                            <div className=\"relative\">\n                                <input\n                                    type=\"email\"\n                                    placeholder=\"Email\"\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                    required\n                                    className=\"w-full px-5 py-4 bg-white/5 border border-white/5 rounded-[14px] text-white placeholder:text-white/30 focus:outline-none focus:border-red-600/50 transition-all text-sm font-medium\"\n                                />\n                            </div>\n\n                            <div className=\"relative\">\n                                <input\n                                    type={showPassword ? \"text\" : \"password\"}\n                                    placeholder=\"Enter your password\"\n                                    value={password}\n                                    onChange={(e) => setPassword(e.target.value)}\n                                    required\n                                    minLength={6}\n                                    className=\"w-full px-5 py-4 bg-white/5 border border-white/5 rounded-[14px] text-white placeholder:text-white/30 focus:outline-none focus:border-red-600/50 transition-all text-sm font-medium\"\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setShowPassword(!showPassword)}\n                                    className=\"absolute right-5 top-1/2 -translate-y-1/2 text-white/30 hover:text-white transition-colors\"\n                                >\n                                    {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                                </button>\n                            </div>\n\n                            <motion.button\n                                whileTap={{ scale: 0.98 }}\n                                type=\"submit\"\n                                disabled={loading}\n                                className=\"w-full py-[18px] bg-red-700 hover:bg-red-800 text-white font-bold text-base rounded-[14px] transition-all shadow-lg shadow-red-500/10 disabled:opacity-50 flex items-center justify-center gap-2 transform active:scale-[0.98]\"\n                            >\n                                {loading ? <Loader2 size={22} className=\"animate-spin\" /> : (\n                                    <>{isLogin ? 'Log in' : 'Create account'}</>\n                                )}\n                            </motion.button>\n                        </form>\n\n                        <div className=\"mt-12 relative\">\n                            <div className=\"absolute inset-0 flex items-center\">\n                                <div className=\"w-full border-t border-white/5\" />\n                            </div>\n                            <div className=\"relative flex justify-center text-[11px] font-bold uppercase tracking-widest text-white/20\">\n                                <span className=\"bg-[#0c0c0e] px-4\">Or register with</span>\n                            </div>\n                        </div>\n\n                        {/* Side-by-side Social */}\n                        <div className=\"mt-8 grid grid-cols-2 gap-4\">\n                            <button\n                                type=\"button\"\n                                onClick={() => handleOAuth('google')}\n                                className=\"flex items-center justify-center gap-2 py-[18px] bg-transparent border border-white/10 rounded-[14px] hover:bg-white/5 transition-all group\"\n                            >\n                                <img src=\"https://www.svgrepo.com/show/475656/google-color.svg\" className=\"w-5 h-5\" alt=\"Google\" />\n                                <span className=\"text-sm font-semibold text-white\">Google</span>\n                            </button>\n                            <button\n                                type=\"button\"\n                                className=\"flex items-center justify-center gap-2 py-[18px] bg-transparent border border-white/10 rounded-[14px] hover:bg-white/5 transition-all group\"\n                            >\n                                <img src=\"https://www.svgrepo.com/show/511330/apple-173.svg\" className=\"w-5 h-5 invert opacity-100\" alt=\"Apple\" />\n                                <span className=\"text-sm font-semibold text-white\">Apple</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </motion.div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/lookbook/page.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":42,"column":29,"nodeType":"JSXOpeningElement","endLine":46,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { Instagram, ShoppingBag } from 'lucide-react';\nimport { getProductImage } from '@/utils/sampleImages';\n\nconst LOOKS = [\n    { id: 1, image: getProductImage(1), user: '@momlife_adventures' },\n    { id: 2, image: getProductImage(2), user: '@little.explorers' },\n    { id: 3, image: getProductImage(3), user: '@broncstudio' },\n    { id: 4, image: getProductImage(4), user: '@sunny_days' },\n    { id: 5, image: getProductImage(5), user: '@creative_kids' },\n    { id: 6, image: getProductImage(6), user: '@pet_pals' },\n    { id: 7, image: getProductImage(7), user: '@style_mini' },\n    { id: 8, image: getProductImage(8), user: '@bronc_fam' }\n];\n\nexport default function LookbookPage() {\n    return (\n        <div className=\"min-h-screen bg-background pt-[var(--header-height)] pb-20\">\n            <AmbientBackground />\n\n            <div className=\"container-premium max-w-[1200px] mx-auto px-6 py-12\">\n                <div className=\"text-center mb-16\">\n                    <span className=\"text-coral-500 font-bold tracking-widest uppercase text-xs mb-4 block\">#SpottedInBronc</span>\n                    <h1 className=\"text-4xl md:text-5xl font-heading font-bold text-primary mb-6\">\n                        Real Kids. Real Style.\n                    </h1>\n                    <p className=\"text-secondary max-w-xl mx-auto\">\n                        Tag us using <strong>#Broncstudio</strong> to be featured in our gallery of legends.\n                    </p>\n                    <a href=\"#\" className=\"inline-flex items-center gap-2 mt-6 px-6 py-3 bg-card border border-subtle rounded-full text-primary font-bold hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black transition-colors shadow-sm\">\n                        <Instagram size={18} /> Follow @broncstudio\n                    </a>\n                </div>\n\n                {/* Masonry Grid */}\n                <div className=\"columns-1 md:columns-3 lg:columns-4 gap-6 space-y-6\">\n                    {LOOKS.map(look => (\n                        <div key={look.id} className=\"relative group break-inside-avoid rounded-2xl overflow-hidden bg-surface-2\">\n                            <img\n                                src={look.image}\n                                alt={`Look by ${look.user}`}\n                                className=\"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105\"\n                            />\n\n                            {/* Overlay */}\n                            <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-between p-6\">\n                                <div className=\"text-white text-xs font-bold uppercase tracking-widest text-right\">\n                                    Featured\n                                </div>\n                                <div>\n                                    <div className=\"text-white font-bold mb-3\">{look.user}</div>\n                                    <button className=\"bg-white text-black px-4 py-2 rounded-lg text-xs font-bold flex items-center gap-2 hover:bg-coral-500 hover:text-white transition-colors w-fit\">\n                                        <ShoppingBag size={14} /> Shop Look\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/manifest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/not-found.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":35,"column":40,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can&apos;t find the page you're looking for. "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can&lsquo;t find the page you're looking for. "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can&#39;t find the page you're looking for. "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can&rsquo;t find the page you're looking for. "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":35,"column":60,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can't find the page you&apos;re looking for. "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can't find the page you&lsquo;re looking for. "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can't find the page you&#39;re looking for. "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1386,1463],"text":"\n                        It seems we can't find the page you&rsquo;re looking for. "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { ArrowLeft, Home } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\nexport default function NotFound() {\n    return (\n        <div className=\"min-h-screen bg-background flex flex-col items-center justify-center p-6 relative overflow-hidden\">\n            <AmbientBackground />\n\n            <div className=\"container-premium max-w-md mx-auto text-center relative z-10\">\n                <motion.div\n                    initial={{ scale: 0.8, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    transition={{ duration: 0.5 }}\n                    className=\"mb-8\"\n                >\n                    <div className=\"text-9xl font-heading font-bold text-primary/10 select-none\">\n                        404\n                    </div>\n                </motion.div>\n\n                <motion.div\n                    initial={{ y: 20, opacity: 0 }}\n                    animate={{ y: 0, opacity: 1 }}\n                    transition={{ delay: 0.2 }}\n                >\n                    <h1 className=\"text-3xl font-heading font-bold text-primary mb-4\">\n                        Wandered off the path?\n                    </h1>\n                    <p className=\"text-secondary mb-8 leading-relaxed\">\n                        It seems we can't find the page you're looking for. <br />\n                        Even little legends get lost sometimes!\n                    </p>\n\n                    <div className=\"flex flex-col gap-3\">\n                        <Link\n                            href=\"/\"\n                            className=\"bg-black dark:bg-white text-white dark:text-black font-bold py-3 px-6 rounded-full hover:bg-coral-500 dark:hover:bg-coral-400 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex items-center justify-center gap-2\"\n                        >\n                            <Home size={18} /> Return Home\n                        </Link>\n                        <button\n                            onClick={() => window.history.back()}\n                            className=\"bg-card text-primary font-bold py-3 px-6 rounded-full border border-subtle hover:border-primary transition-all flex items-center justify-center gap-2\"\n                        >\n                            <ArrowLeft size={18} /> Go Back\n                        </button>\n                    </div>\n                </motion.div>\n            </div>\n\n            {/* Decorative Elements */}\n            <div className=\"absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-background to-transparent pointer-events-none\" />\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/personalise/PersonaliseClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":3,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":44,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useRef"},"fix":{"range":[50,58],"text":""},"desc":"Remove unused variable \"useRef\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Loader2"},"fix":{"range":[137,145],"text":""},"desc":"Remove unused variable \"Loader2\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[844,847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[844,847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":130,"column":8,"nodeType":"ArrayExpression","endLine":130,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[5940,5942],"text":"[supabase]"}}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":140,"column":17,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":140,"endColumn":30,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[6288,6301],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":142,"column":21,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":142,"endColumn":34,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[6395,6408],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":145,"column":17,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":145,"endColumn":30,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[6521,6534],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":147,"column":21,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":147,"endColumn":34,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[6602,6615],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/personalise/PersonaliseClient.tsx:172:9\n  170 |         }\n  171 |\n> 172 |         setFilteredProducts(result);\n      |         ^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  173 |     }, [selectedCategory, selectedSubCategory, searchQuery, products]);\n  174 |\n  175 |     const categories = ['All', ...Object.keys(PERSONALIZATION_TAXONOMY)];","line":172,"column":9,"nodeType":null,"endLine":172,"endColumn":28},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":261,"column":30,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":261,"endColumn":46,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[12654,12670],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":276,"column":42,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":276,"endColumn":58,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[13912,13928],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":373,"column":113,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[20750,20840],"text":"We couldn&apos;t find any products matching your current filters. Try picking another category!"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[20750,20840],"text":"We couldn&lsquo;t find any products matching your current filters. Try picking another category!"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[20750,20840],"text":"We couldn&#39;t find any products matching your current filters. Try picking another category!"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[20750,20840],"text":"We couldn&rsquo;t find any products matching your current filters. Try picking another category!"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Loader2, Search, Filter, ChevronRight, ArrowRight, Sparkles } from 'lucide-react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { PERSONALIZATION_TAXONOMY } from '@/lib/personalization';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\n\n\n// ----------------------------------------------------------------------\n// TYPES\n// ----------------------------------------------------------------------\ninterface BaseProduct {\n    id: string;\n    name: string;\n    slug: string;\n    price: number;\n    images: string[];\n    description: string;\n    metadata: {\n        product_type: string;\n        personalization: any;\n    };\n}\n\n// ----------------------------------------------------------------------\n// COMPONENTS\n// ----------------------------------------------------------------------\n\nconst ProductCard = ({ product }: { product: BaseProduct }) => (\n    <motion.div\n        layout\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, scale: 0.95 }}\n        whileHover={{ y: -4 }}\n        className=\"group relative bg-white dark:bg-neutral-900 rounded-3xl border border-neutral-200 dark:border-neutral-800 overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300\"\n    >\n        <Link href={`/personalise/${product.id}`}>\n            <div className=\"relative aspect-[4/5] overflow-hidden bg-neutral-100 dark:bg-neutral-800\">\n                <Image\n                    src={product.images[0] || 'https://placehold.co/600x800/png?text=No+Image'}\n                    alt={product.name}\n                    fill\n                    className=\"object-cover group-hover:scale-105 transition-transform duration-700\"\n                />\n\n                {/* Mobile Quick Action Overlay */}\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4 lg:hidden\">\n                    <div className=\"w-full py-3 bg-white text-black font-black text-sm rounded-2xl shadow-xl flex items-center justify-center gap-2\">\n                        Customize <ArrowRight size={14} />\n                    </div>\n                </div>\n\n                {/* Desktop Quick Action */}\n                <div className=\"absolute bottom-6 left-6 right-6 translate-y-12 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 hidden lg:block\">\n                    <button className=\"w-full py-4 bg-white/95 backdrop-blur-md text-black font-black rounded-2xl shadow-2xl hover:bg-white flex items-center justify-center gap-2 transform active:scale-95 transition-transform\">\n                        Start Designing <Sparkles size={18} className=\"text-blue-600\" />\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"p-5\">\n                <div className=\"flex justify-between items-start gap-2 mb-1\">\n                    <h3 className=\"font-black text-lg text-neutral-900 dark:text-white leading-tight truncate\" title={product.name}>\n                        {product.name}\n                    </h3>\n                </div>\n                <p className=\"text-neutral-500 text-xs font-bold uppercase tracking-widest\">{product.metadata.product_type}</p>\n\n                <div className=\"mt-4 flex items-center justify-between\">\n                    <div className=\"flex flex-col\">\n                        <span className=\"text-2xl font-black text-neutral-900 dark:text-white\">â‚¹{product.price}</span>\n                        <span className=\"text-[10px] font-bold text-neutral-400 uppercase\">Base Price</span>\n                    </div>\n                    <div className=\"h-10 w-10 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300\">\n                        <ChevronRight size={20} />\n                    </div>\n                </div>\n            </div>\n        </Link>\n    </motion.div>\n);\n\n// ----------------------------------------------------------------------\n// MAIN PAGE\n// ----------------------------------------------------------------------\nexport default function PersonaliseListingPage() {\n    const [loading, setLoading] = useState(true);\n    const [products, setProducts] = useState<BaseProduct[]>([]);\n    const [filteredProducts, setFilteredProducts] = useState<BaseProduct[]>([]);\n\n    // Filters\n    const [selectedCategory, setSelectedCategory] = useState<string>('All');\n    const [selectedSubCategory, setSelectedSubCategory] = useState<string>('');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [isSearchFocused, setIsSearchFocused] = useState(false);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    // 1. Fetch Products\n    useEffect(() => {\n        const fetchProducts = async () => {\n            setLoading(true);\n            const { data } = await supabase\n                .from('products')\n                .select('*')\n                .eq('metadata->>type', 'personalization_base')\n                .order('created_at', { ascending: false });\n\n            if (data) {\n                const shuffled = [...data];\n                for (let i = shuffled.length - 1; i > 0; i--) {\n                    const j = Math.floor(Math.random() * (i + 1));\n                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n                }\n                setProducts(shuffled);\n                setFilteredProducts(shuffled);\n            }\n            setLoading(false);\n        };\n\n        fetchProducts();\n    }, []);\n\n    // 2. Filter Logic\n    useEffect(() => {\n        let result = products;\n\n        if (selectedCategory !== 'All') {\n            result = result.filter(p => {\n                const catConfig = PERSONALIZATION_TAXONOMY[selectedCategory as keyof typeof PERSONALIZATION_TAXONOMY];\n                if (!catConfig) return false;\n                // @ts-ignore\n                if (catConfig.types && Array.isArray(catConfig.types)) {\n                    // @ts-ignore\n                    return catConfig.types.includes(p.metadata.product_type);\n                }\n                // @ts-ignore\n                if (catConfig.subcategories) {\n                    // @ts-ignore\n                    const allTypes = Object.values(catConfig.types).flat();\n                    return allTypes.includes(p.metadata.product_type);\n                }\n                return false;\n            });\n        }\n\n        if (selectedSubCategory) {\n            result = result.filter(p => {\n                const pGenders = p.metadata.personalization?.gender_supported || [];\n                const target = selectedSubCategory.toLowerCase();\n                if (target === 'kids') return pGenders.includes('kids');\n                return pGenders.includes(target) || pGenders.includes('unisex');\n            });\n        }\n\n        if (searchQuery) {\n            const q = searchQuery.toLowerCase();\n            result = result.filter(p =>\n                p.name.toLowerCase().includes(q) ||\n                p.metadata.product_type.toLowerCase().includes(q)\n            );\n        }\n\n        setFilteredProducts(result);\n    }, [selectedCategory, selectedSubCategory, searchQuery, products]);\n\n    const categories = ['All', ...Object.keys(PERSONALIZATION_TAXONOMY)];\n\n    return (\n        <div className=\"relative min-h-screen bg-background pt-[220px] -mt-[120px] pb-20 overflow-hidden\">\n            <AmbientBackground />\n\n            {/* HERO BANNER IMAGE */}\n            <div className=\"absolute top-0 left-0 right-0 h-[400px] md:h-[500px] z-0\">\n                <div className=\"absolute inset-0 bg-black/50 z-10\" />\n                <Image\n                    src=\"https://images.unsplash.com/photo-1513346038313-05b1c5905d53?w=1600&q=80\"\n                    alt=\"Custom Studio Hero\"\n                    fill\n                    className=\"object-cover\"\n                    priority\n                />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-gray-50 dark:from-black to-transparent z-20\" />\n            </div>\n\n            {/* Background Blob */}\n            <div className=\"absolute top-0 left-0 right-0 h-[500px] bg-gradient-to-br from-blue-500/10 via-purple-500/5 to-cyan-500/10 opacity-40 blur-3xl pointer-events-none z-0\" />\n\n            {/* Breadcrumbs */}\n            <div className=\"relative z-40 px-6 py-4 mt-8\">\n                <div className=\"max-w-fit mx-auto px-6 py-2 bg-white/50 dark:bg-black/50 backdrop-blur-xl rounded-full border border-white/20 dark:border-white/5 flex items-center space-x-2 text-xs font-bold uppercase tracking-wider text-neutral-500 dark:text-neutral-400 shadow-sm\">\n                    <Link href=\"/\" className=\"hover:text-blue-500 transition-colors\">Home</Link>\n                    <span className=\"opacity-40\">/</span>\n                    <span className=\"text-blue-600\">Personalise</span>\n                </div>\n            </div>\n\n            {/* Hero Title & Tagline */}\n            <div className=\"relative z-30 max-w-[1400px] mx-auto px-6 pt-4 pb-12 text-center\">\n                <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-full text-[10px] font-black uppercase tracking-[0.2em] text-white/80 mb-6 mx-auto\"\n                >\n                    <Sparkles size={12} className=\"text-yellow-400\" /> Custom Design Studio\n                </motion.div>\n                <motion.h1\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.1 }}\n                    className=\"text-5xl lg:text-7xl font-black mb-6 tracking-tight text-white drop-shadow-2xl\"\n                >\n                    Create Your <span className=\"text-blue-400\">Own</span>\n                </motion.h1>\n                <motion.p\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.2 }}\n                    className=\"text-lg lg:text-xl text-white/90 max-w-2xl mx-auto font-medium drop-shadow-lg\"\n                >\n                    Premium custom apparel and accessories. Select a base product and make it uniquely yours.\n                </motion.p>\n            </div>\n\n            <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16\">\n                <div className=\"flex flex-col lg:flex-row gap-12\">\n\n                    {/* SIDEBAR (Desktop) */}\n                    <div className=\"hidden lg:block w-72 flex-shrink-0 space-y-10\">\n                        <div className=\"sticky top-[calc(var(--header-height)+40px)]\">\n                            <h3 className=\"font-black text-2xl mb-6 flex items-center gap-3\">\n                                <Filter size={24} /> Categories\n                            </h3>\n                            <div className=\"space-y-3\">\n                                {categories.map(cat => (\n                                    <button\n                                        key={cat}\n                                        onClick={() => {\n                                            setSelectedCategory(cat);\n                                            setSelectedSubCategory('');\n                                        }}\n                                        className={`w-full text-left px-5 py-4 rounded-2xl text-sm font-black transition-all duration-300 ${selectedCategory === cat\n                                            ? 'bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 shadow-xl translate-x-1'\n                                            : 'text-neutral-500 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:bg-neutral-800 hover:translate-x-1'\n                                            }`}\n                                    >\n                                        {cat}\n                                    </button>\n                                ))}\n                            </div>\n\n                            {/* Subcategories (Conditional Desktop) */}\n                            {/* @ts-ignore */}\n                            {selectedCategory !== 'All' && PERSONALIZATION_TAXONOMY[selectedCategory]?.subcategories && (\n                                <motion.div\n                                    initial={{ opacity: 0, x: -20 }}\n                                    animate={{ opacity: 1, x: 0 }}\n                                    className=\"mt-10 pt-10 border-t border-neutral-200 dark:border-neutral-800\"\n                                >\n                                    <h3 className=\"font-black text-xs text-neutral-400 uppercase tracking-widest mb-6\">Collection</h3>\n                                    <div className=\"space-y-2\">\n                                        <button\n                                            onClick={() => setSelectedSubCategory('')}\n                                            className={`w-full text-left px-5 py-3 rounded-xl text-sm font-black transition-colors ${!selectedSubCategory ? 'bg-blue-50 text-blue-600 dark:bg-blue-900/20' : 'text-neutral-500 hover:text-neutral-900 dark:hover:text-white'}`}\n                                        >\n                                            View All\n                                        </button>\n                                        {/* @ts-ignore */}\n                                        {PERSONALIZATION_TAXONOMY[selectedCategory].subcategories.map((sub: string) => (\n                                            <button\n                                                key={sub}\n                                                onClick={() => setSelectedSubCategory(sub)}\n                                                className={`w-full text-left px-5 py-3 rounded-xl text-sm font-black transition-colors ${selectedSubCategory === sub\n                                                    ? 'bg-blue-50 text-blue-600 dark:bg-blue-900/20 shadow-sm'\n                                                    : 'text-neutral-500 hover:text-neutral-900 dark:hover:text-white'\n                                                    }`}\n                                            >\n                                                {sub}\n                                            </button>\n                                        ))}\n                                    </div>\n                                </motion.div>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* MAIN CONTENT */}\n                    <div className=\"flex-1\">\n\n                        {/* SEARCH & MOBILE FILTERS (Premium Redux) */}\n                        <div className=\"sticky top-[var(--header-height)] z-30 lg:static bg-white/50 dark:bg-black/50 backdrop-blur-xl -mx-4 px-4 py-4 lg:p-0 lg:bg-transparent lg:backdrop-blur-none lg:mb-10 lg:z-auto\">\n                            <div className=\"flex flex-col gap-4 lg:flex-row lg:items-center\">\n                                {/* Search Bar */}\n                                <div className={`relative flex-1 group transition-all duration-300 ${isSearchFocused ? 'ring-2 ring-blue-600 rounded-2xl' : ''}`}>\n                                    <div className=\"absolute left-5 top-1/2 -translate-y-1/2 text-neutral-400 transition-colors group-focus-within:text-blue-600\">\n                                        <Search size={20} strokeWidth={3} />\n                                    </div>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Search for hoodies, t-shirts, mugs...\"\n                                        onFocus={() => setIsSearchFocused(true)}\n                                        onBlur={() => setIsSearchFocused(false)}\n                                        className=\"w-full pl-14 pr-6 py-4 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl font-bold focus:outline-none shadow-sm transition-all\"\n                                        value={searchQuery}\n                                        onChange={(e) => setSearchQuery(e.target.value)}\n                                    />\n                                    {searchQuery && (\n                                        <button\n                                            onClick={() => setSearchQuery('')}\n                                            className=\"absolute right-5 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-black dark:hover:text-white font-black text-xs uppercase\"\n                                        >\n                                            Clear\n                                        </button>\n                                    )}\n                                </div>\n\n                                {/* Horizontal Mobile Categories (Chips) */}\n                                <div className=\"lg:hidden flex overflow-x-auto gap-2 -mx-4 px-4 pb-2 no-scrollbar\">\n                                    {categories.map(cat => (\n                                        <button\n                                            key={cat}\n                                            onClick={() => {\n                                                setSelectedCategory(cat);\n                                                setSelectedSubCategory('');\n                                            }}\n                                            className={`flex-shrink-0 px-6 py-3 rounded-full text-xs font-black transition-all whitespace-nowrap shadow-sm border ${selectedCategory === cat\n                                                ? 'bg-neutral-900 text-white border-neutral-900 dark:bg-white dark:text-neutral-900 dark:border-white scale-105'\n                                                : 'bg-white text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800'\n                                                }`}\n                                        >\n                                            {cat}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* PRODUCT GRID */}\n                        <AnimatePresence mode=\"popLayout\">\n                            {loading ? (\n                                <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8 pr-1\">\n                                    {[1, 2, 3, 4, 5, 6].map(i => (\n                                        <div key={i} className=\"aspect-[4/5] bg-neutral-200 dark:bg-neutral-900 rounded-3xl animate-pulse\" />\n                                    ))}\n                                </div>\n                            ) : filteredProducts.length > 0 ? (\n                                <motion.div\n                                    layout\n                                    className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8 pr-1\"\n                                >\n                                    {filteredProducts.map(product => (\n                                        <ProductCard key={product.id} product={product} />\n                                    ))}\n                                </motion.div>\n                            ) : (\n                                <motion.div\n                                    initial={{ opacity: 0 }}\n                                    animate={{ opacity: 1 }}\n                                    className=\"text-center py-24 lg:py-32\"\n                                >\n                                    <div className=\"inline-flex items-center justify-center w-24 h-24 rounded-full bg-neutral-100 dark:bg-neutral-900 mb-8\">\n                                        <Search size={40} className=\"text-neutral-300\" />\n                                    </div>\n                                    <h3 className=\"text-3xl font-black text-neutral-900 dark:text-white mb-4\">No Designs Found</h3>\n                                    <p className=\"text-neutral-500 mb-10 max-w-sm mx-auto font-medium\">We couldn't find any products matching your current filters. Try picking another category!</p>\n                                    <button\n                                        onClick={() => { setSelectedCategory('All'); setSearchQuery(''); setSelectedSubCategory(''); }}\n                                        className=\"px-10 py-4 bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 rounded-2xl font-black shadow-xl hover:-translate-y-1 transition-all\"\n                                    >\n                                        Clear All Filters\n                                    </button>\n                                </motion.div>\n                            )}\n                        </AnimatePresence>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/personalise/[id]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used.","line":5,"column":81,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":89,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Sparkles"},"fix":{"range":[211,221],"text":""},"desc":"Remove unused variable \"Sparkles\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Heart' is defined but never used.","line":5,"column":109,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":114,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Heart"},"fix":{"range":[239,246],"text":""},"desc":"Remove unused variable \"Heart\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useScroll' is defined but never used.","line":10,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":44,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useScroll"},"fix":{"range":[441,452],"text":""},"desc":"Remove unused variable \"useScroll\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useTransform' is defined but never used.","line":10,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":58,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useTransform"},"fix":{"range":[452,466],"text":""},"desc":"Remove unused variable \"useTransform\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'scrollContainerRef' is assigned a value but never used.","line":36,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":29},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2732,2735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2732,2735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":92,"column":8,"nodeType":"ArrayExpression","endLine":92,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [id, router, supabase]","fix":{"range":[3310,3322],"text":"[id, router, supabase]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":94,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":97,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3669,3672],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3669,3672],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":396,"column":120,"nodeType":"Identifier","messageId":"unusedVar","endLine":396,"endColumn":121}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState, use, useRef } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { Loader2, ArrowLeft, Upload, ShoppingBag, Check, X, ChevronRight, Info, Sparkles, Zap, ShieldCheck, Heart } from 'lucide-react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { toast } from 'sonner';\nimport { motion, AnimatePresence, useScroll, useTransform } from 'framer-motion';\nimport { useCart } from '@/context/CartContext';\nimport { PersonalizationConfig } from '@/lib/personalization';\n\n// ----------------------------------------------------------------------\n// TYPES\n// ----------------------------------------------------------------------\ninterface BaseProduct {\n    id: string;\n    name: string;\n    description: string;\n    price: number;\n    images: string[];\n    metadata: {\n        product_type: string;\n        personalization: PersonalizationConfig;\n    };\n}\n\n// ----------------------------------------------------------------------\n// MAIN PAGE\n// ----------------------------------------------------------------------\nexport default function PersonaliseDetailPage({ params }: { params: Promise<{ id: string }> }) {\n    const { id } = use(params);\n    const router = useRouter();\n    const { addToCart } = useCart();\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n    const [loading, setLoading] = useState(true);\n    const [product, setProduct] = useState<BaseProduct | null>(null);\n\n    // Selections\n    const [selectedSize, setSelectedSize] = useState<string>('');\n    const [selectedColor, setSelectedColor] = useState<string>('');\n\n    // Per-Placement Configuration\n    const [placements, setPlacements] = useState<Record<string, { enabled: boolean, printType: string, uploadedImage: string | null }>>({});\n    const [uploadingState, setUploadingState] = useState<Record<string, boolean>>({});\n    const [note, setNote] = useState('');\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    // 1. Fetch Product\n    useEffect(() => {\n        const fetchProduct = async () => {\n            const { data, error } = await supabase\n                .from('products')\n                .select('*')\n                .eq('id', id)\n                .single();\n\n            if (error || !data) {\n                toast.error('Product not found');\n                router.push('/personalise');\n                return;\n            }\n\n            setProduct(data);\n\n            const meta = data.metadata?.personalization;\n            if (meta?.placements) {\n                const initialPlacements: any = {};\n                Object.keys(meta.placements).forEach(key => {\n                    initialPlacements[key] = {\n                        enabled: false,\n                        printType: '',\n                        uploadedImage: null\n                    };\n                });\n                setPlacements(initialPlacements);\n            }\n\n            if (meta?.sizes?.length === 1) setSelectedSize(meta.sizes[0]);\n            if (meta?.colors?.length === 1) setSelectedColor(meta.colors[0]);\n\n            setLoading(false);\n        };\n\n        fetchProduct();\n    }, [id, router]);\n\n    // 2. Handlers\n    const togglePlacement = (key: string) => {\n        setPlacements(prev => ({\n            ...prev,\n            [key]: {\n                ...prev[key],\n                enabled: !prev[key].enabled\n            }\n        }));\n    };\n\n    const updatePlacementConfig = (key: string, field: 'printType' | 'uploadedImage', value: any) => {\n        setPlacements(prev => ({\n            ...prev,\n            [key]: {\n                ...prev[key],\n                [field]: value\n            }\n        }));\n    };\n\n    const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>, placementKey: string) => {\n        if (!e.target.files?.[0]) return;\n        const file = e.target.files[0];\n\n        setUploadingState(prev => ({ ...prev, [placementKey]: true }));\n\n        try {\n            const fileExt = file.name.split('.').pop();\n            const fileName = `${placementKey}-${Math.random().toString(36).substring(2)}-${Date.now()}.${fileExt}`;\n            const filePath = `${product?.id}/${fileName}`;\n\n            const { error: uploadError } = await supabase.storage\n                .from('personalization-uploads')\n                .upload(filePath, file);\n\n            if (uploadError) throw uploadError;\n\n            const { data: { publicUrl } } = supabase.storage\n                .from('personalization-uploads')\n                .getPublicUrl(filePath);\n\n            updatePlacementConfig(placementKey, 'uploadedImage', publicUrl);\n            toast.success(`${placementKey}: Design ready`);\n        } catch (error) {\n            console.error(error);\n            toast.error('Upload failed');\n        } finally {\n            setUploadingState(prev => ({ ...prev, [placementKey]: false }));\n        }\n    };\n\n    const totalPrice = (() => {\n        if (!product) return 0;\n        let total = product.price;\n        const config = product.metadata.personalization;\n\n        Object.entries(placements).forEach(([key, state]) => {\n            if (state.enabled) {\n                const placementConfig = config.placements[key];\n                if (placementConfig) total += placementConfig.price;\n\n                if (state.printType && config.print_types[state.printType]) {\n                    total += config.print_types[state.printType].price;\n                }\n            }\n        });\n        return total;\n    })();\n\n    const activePlacements = Object.values(placements).filter(p => p.enabled);\n    const isValid =\n        product &&\n        (product.metadata.personalization.sizes?.length === 0 || selectedSize) &&\n        (product.metadata.personalization.colors?.length === 0 || selectedColor) &&\n        activePlacements.length > 0 &&\n        activePlacements.every(p => p.printType && p.uploadedImage);\n\n    const handleAddToCart = () => {\n        if (!isValid || !product) return;\n\n        const customMetadata = {\n            is_custom: true,\n            base_product_id: product.id,\n            size: selectedSize,\n            color: selectedColor,\n            placements: placements,\n            note: note,\n            base_price_unit: product.price,\n            customization_cost_unit: totalPrice - product.price,\n            gst_percent: product.metadata.personalization.gst_percent ?? 12,\n            print_gst_percent: product.metadata.personalization.print_gst_percent ?? 18\n        };\n\n        addToCart({\n            ...product,\n            price: totalPrice,\n            metadata: customMetadata\n        }, selectedSize || 'OS');\n\n        toast.success('Your design has been added to the cart!');\n    };\n\n    if (loading) return (\n        <div className=\"min-h-screen flex items-center justify-center pt-[var(--header-height)]\">\n            <Loader2 className=\"animate-spin text-neutral-400\" size={32} />\n        </div>\n    );\n\n    if (!product) return null;\n\n    const meta = product.metadata.personalization;\n\n    return (\n        <div className=\"min-h-screen bg-neutral-50 dark:bg-neutral-950 pt-[var(--header-height)] pb-32\">\n\n            {/* STICKY MOBILE PREVIEW */}\n            <div className=\"sticky top-[var(--header-height)] z-40 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl border-b border-neutral-200 dark:border-neutral-800 lg:hidden px-4 py-3 flex items-center justify-between animate-in fade-in slide-in-from-top-4\">\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"w-12 h-12 rounded-xl bg-neutral-100 dark:bg-neutral-800 relative overflow-hidden flex-shrink-0\">\n                        <Image src={product.images[0]} alt={product.name} fill className=\"object-cover\" />\n                    </div>\n                    <div className=\"overflow-hidden\">\n                        <h2 className=\"text-sm font-black truncate w-40 dark:text-white uppercase tracking-tight\">{product.name}</h2>\n                        <div className=\"flex items-center gap-2\">\n                            <span className=\"text-xs font-black text-blue-600\">â‚¹{totalPrice.toFixed(2)}</span>\n                            {totalPrice > product.price && <span className=\"text-[10px] text-neutral-400 font-bold\">Customized</span>}\n                        </div>\n                    </div>\n                </div>\n                <Link href=\"/personalise\" className=\"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors text-neutral-400\">\n                    <ArrowLeft size={20} />\n                </Link>\n            </div>\n\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-16\">\n\n                {/* Desktop Back Nav */}\n                <Link href=\"/personalise\" className=\"hidden lg:inline-flex items-center gap-2 text-neutral-500 hover:text-neutral-900 dark:hover:text-white mb-10 transition-all font-black uppercase text-xs tracking-widest hover:-translate-x-1\">\n                    <ArrowLeft size={16} /> Back to Studio\n                </Link>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24\">\n\n                    {/* LEFT: GALLERY */}\n                    <div className=\"space-y-8\">\n                        <motion.div\n                            initial={{ opacity: 0, scale: 0.95 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            className=\"relative aspect-[4/5] bg-white dark:bg-neutral-900 rounded-[2.5rem] overflow-hidden border border-neutral-200 dark:border-neutral-800 shadow-2xl group\"\n                        >\n                            <Image\n                                src={product.images[0]}\n                                alt={product.name}\n                                fill\n                                className=\"object-cover group-hover:scale-105 transition-transform duration-1000\"\n                                priority\n                            />\n\n                            {/* Visual Accents */}\n                            <div className=\"absolute top-6 left-6 flex flex-col gap-2\">\n                                <span className=\"px-4 py-2 bg-black/80 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-widest rounded-full\">Pro Studio</span>\n                                <span className=\"px-4 py-2 bg-blue-600/90 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-widest rounded-full\">Eco-Conscious</span>\n                            </div>\n                        </motion.div>\n\n                        {/* Trust Badges */}\n                        <div className=\"grid grid-cols-3 gap-4\">\n                            {[\n                                { icon: ShieldCheck, label: 'Quality Audit' },\n                                { icon: Zap, label: 'Fast Print' },\n                                { icon: ShieldCheck, label: 'Secure Pay' }\n                            ].map((badge, idx) => (\n                                <div key={idx} className=\"flex flex-col items-center gap-2 p-4 rounded-2xl bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800\">\n                                    <badge.icon size={20} className=\"text-blue-600\" />\n                                    <span className=\"text-[10px] font-black uppercase tracking-tighter text-neutral-500 text-center\">{badge.label}</span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    {/* RIGHT: CONFIGURATION */}\n                    <div className=\"space-y-12\">\n                        <div>\n                            <div className=\"flex items-center gap-2 mb-4\">\n                                <span className=\"px-3 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-500 text-[10px] font-black uppercase tracking-widest rounded-lg\">Official Product</span>\n                                <span className=\"h-1 w-1 rounded-full bg-neutral-300\" />\n                                <span className=\"text-[10px] font-black uppercase tracking-widest text-neutral-400\">Personalizable</span>\n                            </div>\n                            <h1 className=\"text-5xl lg:text-6xl font-black text-neutral-900 dark:text-white mb-6 tracking-tighter leading-none\">{product.name}</h1>\n\n                            <div className=\"flex items-end gap-6 mb-8\">\n                                <div className=\"flex flex-col\">\n                                    <span className=\"text-[10px] font-black text-neutral-400 uppercase tracking-widest mb-1\">Total Impact</span>\n                                    <span className=\"text-4xl font-black text-neutral-900 dark:text-white\">â‚¹{totalPrice.toFixed(2)}</span>\n                                </div>\n                                {totalPrice > product.price && (\n                                    <div className=\"mb-1 text-sm font-bold text-neutral-400 line-through\">Base: â‚¹{product.price}</div>\n                                )}\n                            </div>\n\n                            <p className=\"text-neutral-500 text-lg leading-relaxed font-medium\">{product.description}</p>\n                        </div>\n\n                        {/* CONFIGURATION SECTIONS */}\n                        <div className=\"space-y-12\">\n                            {/* 1. SELECTIONS */}\n                            <div className=\"space-y-8 p-8 bg-white dark:bg-neutral-900 rounded-[2rem] border border-neutral-100 dark:border-neutral-800 shadow-sm\">\n                                {meta.colors && meta.colors.length > 0 && (\n                                    <div className=\"animate-in fade-in slide-in-from-left-4\">\n                                        <div className=\"flex items-center justify-between mb-4\">\n                                            <label className=\"text-xs font-black uppercase tracking-widest text-neutral-400\">01. Choose Palette</label>\n                                            <span className=\"text-xs font-bold text-blue-600\">{selectedColor || 'None'}</span>\n                                        </div>\n                                        <div className=\"flex flex-wrap gap-4\">\n                                            {meta.colors.map(color => (\n                                                <button\n                                                    key={color}\n                                                    onClick={() => setSelectedColor(color)}\n                                                    className={`px-6 py-3 rounded-2xl border-2 font-black text-sm transition-all duration-300 transform active:scale-95 ${selectedColor === color\n                                                        ? 'border-neutral-900 bg-neutral-900 text-white dark:border-white dark:bg-white dark:text-neutral-900 shadow-xl'\n                                                        : 'border-neutral-100 text-neutral-500 hover:border-neutral-300 dark:border-neutral-800'\n                                                        }`}\n                                                >\n                                                    {color}\n                                                </button>\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n\n                                {meta.sizes && meta.sizes.length > 0 && (\n                                    <div className=\"animate-in fade-in slide-in-from-left-4 [animation-delay:100ms]\">\n                                        <div className=\"flex items-center justify-between mb-4\">\n                                            <label className=\"text-xs font-black uppercase tracking-widest text-neutral-400\">02. Select Size</label>\n                                            <span className=\"text-xs font-bold text-blue-600\">{selectedSize || 'None'}</span>\n                                        </div>\n                                        <div className=\"flex flex-wrap gap-3\">\n                                            {meta.sizes.map(size => (\n                                                <button\n                                                    key={size}\n                                                    onClick={() => setSelectedSize(size)}\n                                                    className={`w-14 h-14 flex items-center justify-center rounded-2xl border-2 font-black text-sm transition-all duration-300 transform active:scale-95 ${selectedSize === size\n                                                        ? 'border-neutral-900 bg-neutral-900 text-white dark:border-white dark:bg-white dark:text-neutral-900 shadow-xl'\n                                                        : 'border-neutral-100 text-neutral-500 hover:border-neutral-300 dark:border-neutral-800'\n                                                        }`}\n                                                >\n                                                    {size}\n                                                </button>\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* 2. PLACEMENTS */}\n                            <div className=\"space-y-6\">\n                                <div className=\"flex items-center justify-between mb-2\">\n                                    <h3 className=\"text-xs font-black uppercase tracking-widest text-neutral-400\">03. Design Placements</h3>\n                                    <div className=\"h-px flex-1 mx-4 bg-neutral-200 dark:bg-neutral-800\" />\n                                </div>\n\n                                <div className=\"space-y-4\">\n                                    {Object.entries(meta.placements).map(([key, config]) => {\n                                        if (!config.enabled) return null;\n                                        const isActive = placements[key]?.enabled;\n\n                                        return (\n                                            <div key={key} className={`group border-2 rounded-3xl transition-all duration-500 overflow-hidden ${isActive ? 'border-blue-600 bg-white dark:bg-blue-900/5 shadow-2xl' : 'border-neutral-100 dark:border-neutral-900 bg-neutral-50/50 dark:bg-neutral-900/30'}`}>\n                                                <button\n                                                    onClick={() => togglePlacement(key)}\n                                                    className=\"w-full flex items-center justify-between p-6 text-left\"\n                                                >\n                                                    <div className=\"flex items-center gap-5\">\n                                                        <div className={`w-10 h-10 rounded-2xl border-2 flex items-center justify-center transition-all duration-500 ${isActive ? 'bg-blue-600 border-blue-600 text-white scale-110 rotate-3 shadow-lg' : 'border-neutral-200 bg-white dark:bg-neutral-800'}`}>\n                                                            {isActive ? <Check size={20} strokeWidth={3} /> : <div className=\"w-2 h-2 rounded-full bg-neutral-300\" />}\n                                                        </div>\n                                                        <div>\n                                                            <span className={`text-lg font-black block transition-colors leading-none mb-1 ${isActive ? 'text-neutral-900 dark:text-white' : 'text-neutral-400'}`}>{key}</span>\n                                                            <span className=\"text-[10px] font-bold text-blue-600 uppercase tracking-widest\">+â‚¹{config.price} Option</span>\n                                                        </div>\n                                                    </div>\n                                                    <ChevronRight size={20} className={`text-neutral-300 transition-transform duration-500 ${isActive ? 'rotate-90 text-blue-600 scale-125' : ''}`} />\n                                                </button>\n\n                                                <AnimatePresence>\n                                                    {isActive && (\n                                                        <motion.div\n                                                            initial={{ height: 0, opacity: 0 }}\n                                                            animate={{ height: 'auto', opacity: 1 }}\n                                                            exit={{ height: 0, opacity: 0 }}\n                                                            className=\"overflow-hidden\"\n                                                        >\n                                                            <div className=\"p-6 pt-0 border-t border-dashed border-neutral-100 dark:border-neutral-800\">\n                                                                <div className=\"grid grid-cols-1 gap-6 pt-6 animate-in fade-in slide-in-from-top-4\">\n\n                                                                    {/* Print Method */}\n                                                                    <div className=\"space-y-3\">\n                                                                        <label className=\"text-[10px] font-black uppercase tracking-widest text-neutral-400 flex items-center gap-2\">\n                                                                            <ShieldCheck size={12} className=\"text-blue-600\" /> Technology\n                                                                        </label>\n                                                                        <div className=\"grid grid-cols-1 gap-2\">\n                                                                            {Object.entries(meta.print_types).filter(([_, c]) => c.enabled).map(([pKey, pConf]) => (\n                                                                                <button\n                                                                                    key={pKey}\n                                                                                    onClick={() => updatePlacementConfig(key, 'printType', pKey)}\n                                                                                    className={`flex items-center justify-between p-4 rounded-2xl border-2 text-sm font-black transition-all ${placements[key].printType === pKey\n                                                                                        ? 'border-blue-600 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400'\n                                                                                        : 'border-neutral-50 dark:border-neutral-800 hover:border-neutral-100'}`}\n                                                                                >\n                                                                                    <span>{pKey}</span>\n                                                                                    <span className=\"text-[10px] font-bold\">+â‚¹{pConf.price}</span>\n                                                                                </button>\n                                                                            ))}\n                                                                        </div>\n                                                                    </div>\n\n                                                                    {/* Upload */}\n                                                                    <div className=\"space-y-3\">\n                                                                        <label className=\"text-[10px] font-black uppercase tracking-widest text-neutral-400 flex items-center gap-2\">\n                                                                            <Upload size={12} className=\"text-blue-600\" /> Digital Artwork\n                                                                        </label>\n                                                                        <div className={`relative group/upload border-2 border-dashed rounded-[2rem] p-8 text-center transition-all duration-500 ${placements[key].uploadedImage ? 'border-green-500 bg-green-50/20 dark:bg-green-900/10 shadow-inner' : 'border-neutral-200 dark:border-neutral-800 hover:border-blue-400 bg-white/50 dark:bg-transparent'}`}>\n                                                                            {placements[key].uploadedImage ? (\n                                                                                <div className=\"flex flex-col items-center gap-4\">\n                                                                                    <div className=\"w-24 h-24 bg-white rounded-3xl border-2 border-green-200 relative overflow-hidden shadow-2xl rotate-2\">\n                                                                                        <Image src={placements[key].uploadedImage!} alt=\"Upload\" fill className=\"object-contain p-2\" />\n                                                                                    </div>\n                                                                                    <div className=\"flex flex-col items-center\">\n                                                                                        <span className=\"text-sm font-black text-green-700 dark:text-green-400 mb-2\">Design Captured</span>\n                                                                                        <button\n                                                                                            onClick={() => updatePlacementConfig(key, 'uploadedImage', null)}\n                                                                                            className=\"px-6 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-[10px] font-black uppercase tracking-[0.2em] rounded-full hover:bg-red-600 hover:text-white transition-all shadow-sm\"\n                                                                                        >\n                                                                                            Remove X\n                                                                                        </button>\n                                                                                    </div>\n                                                                                </div>\n                                                                            ) : (\n                                                                                <label className=\"cursor-pointer flex flex-col items-center justify-center gap-4 py-4 group\">\n                                                                                    <input type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={(e) => handleFileUpload(e, key)} disabled={uploadingState[key]} />\n                                                                                    <div className=\"w-16 h-16 rounded-full bg-blue-50 dark:bg-neutral-800 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-all duration-500 group-hover:scale-110 shadow-lg\">\n                                                                                        {uploadingState[key] ? <Loader2 className=\"animate-spin\" size={24} /> : <Upload size={24} />}\n                                                                                    </div>\n                                                                                    <div>\n                                                                                        <div className=\"text-sm font-black text-neutral-900 dark:text-white mb-1 tracking-tight\">Select High Res Image</div>\n                                                                                        <p className=\"text-[10px] font-bold text-neutral-400 uppercase tracking-widest\">Supports PNG, JPG (SVG Pro)</p>\n                                                                                    </div>\n                                                                                </label>\n                                                                            )}\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </motion.div>\n                                                    )}\n                                                </AnimatePresence>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n\n                            {/* 3. NOTES */}\n                            <div className=\"space-y-4 p-8 bg-neutral-900 dark:bg-white rounded-[2rem] text-white dark:text-neutral-900 shadow-2xl\">\n                                <label className=\"text-xs font-black uppercase tracking-widest opacity-60 flex items-center gap-2\">\n                                    <Info size={14} /> Production Mandate\n                                </label>\n                                <textarea\n                                    className=\"w-full bg-white/10 dark:bg-neutral-100 border-0 rounded-2xl p-5 text-sm font-bold focus:ring-4 focus:ring-blue-600/30 outline-none transition-all placeholder:text-neutral-600\"\n                                    placeholder=\"Write any unique instructions regarding placement or specific color matching here...\"\n                                    rows={3}\n                                    value={note}\n                                    onChange={(e) => setNote(e.target.value)}\n                                />\n                            </div>\n                        </div>\n\n                        {/* STICKY BOTTOM ACTION BAR (Mobile) */}\n                        <div className=\"fixed bottom-0 left-0 right-0 z-50 p-4 lg:hidden\">\n                            <motion.div\n                                initial={{ y: 100 }}\n                                animate={{ y: 0 }}\n                                className=\"bg-white/80 dark:bg-neutral-900/80 backdrop-blur-2xl border border-neutral-100 dark:border-neutral-800 rounded-[2.5rem] p-4 shadow-[0_-20px_60px_-15px_rgba(0,0,0,0.1)] dark:shadow-[0_-20px_60px_-15px_rgba(0,0,0,0.5)]\"\n                            >\n                                <div className=\"flex items-center gap-4\">\n                                    <button\n                                        onClick={handleAddToCart}\n                                        disabled={!isValid}\n                                        className={`flex-1 py-5 rounded-2xl font-black text-base shadow-2xl flex items-center justify-center gap-3 transition-all transform active:scale-95 ${isValid\n                                            ? 'bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 hover:shadow-blue-500/20'\n                                            : 'bg-neutral-100 text-neutral-300 cursor-not-allowed'\n                                            }`}\n                                    >\n                                        <div className=\"relative\">\n                                            <ShoppingBag size={20} strokeWidth={3} />\n                                            {isValid && <motion.div animate={{ scale: [1, 1.5, 1] }} transition={{ repeat: Infinity, duration: 2 }} className=\"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full\" />}\n                                        </div>\n                                        <span>Add to Designer Pack</span>\n                                    </button>\n                                </div>\n                                {!isValid && (\n                                    <div className=\"flex items-center justify-center gap-2 mt-4 px-2\">\n                                        <Info size={12} className=\"text-red-500\" />\n                                        <p className=\"text-[10px] font-black uppercase tracking-tighter text-red-500\"> Complete all steps to finalize design </p>\n                                    </div>\n                                )}\n                            </motion.div>\n                        </div>\n\n                        {/* DESKTOP ACTION BAR */}\n                        <div className=\"hidden lg:block pt-10\">\n                            <div className={`p-10 rounded-[2.5rem] border-2 transition-all duration-700 ${isValid ? 'border-neutral-900 dark:border-white shadow-2xl' : 'border-neutral-100 dark:border-neutral-900'}`}>\n                                <div className=\"flex items-center justify-between mb-8\">\n                                    <div>\n                                        <h4 className=\"text-sm font-black text-neutral-400 uppercase tracking-widest mb-1\">Estimated Pack Value</h4>\n                                        <div className=\"text-4xl font-black text-neutral-900 dark:text-white\">â‚¹{totalPrice.toFixed(2)}</div>\n                                    </div>\n                                    <div className=\"flex flex-col items-end\">\n                                        <span className=\"text-[10px] font-black text-neutral-400 uppercase tracking-widest mb-2\">Production Queue</span>\n                                        <span className=\"px-3 py-1 bg-green-50 text-green-600 text-[10px] font-bold rounded-lg flex items-center gap-1\">\n                                            <div className=\"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse\" /> Ready In 3 Days\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <button\n                                    onClick={handleAddToCart}\n                                    disabled={!isValid}\n                                    className={`w-full py-6 rounded-3xl font-black text-xl shadow-2xl flex items-center justify-center gap-4 transition-all transform active:scale-95 ${isValid\n                                        ? 'bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 hover:translate-y-[-4px] hover:shadow-2xl'\n                                        : 'bg-neutral-100 text-neutral-300 cursor-not-allowed'\n                                        }`}\n                                >\n                                    <ShoppingBag size={24} strokeWidth={3} />\n                                    <span>Personalize & Checkout</span>\n                                </button>\n\n                                {!isValid && (\n                                    <p className=\"text-center text-xs text-red-500 mt-6 font-black uppercase tracking-widest flex items-center justify-center gap-2 opacity-70\">\n                                        <X size={14} className=\"stroke-[3]\" /> Please complete the design steps above\n                                    </p>\n                                )}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n\n            {/* Visual Background Elements */}\n            <div className=\"fixed top-0 left-0 w-full h-full pointer-events-none -z-10 opacity-30\">\n                <div className=\"absolute top-[20%] left-[10%] w-[40vw] h-[40vw] bg-blue-500/5 blur-[150px] rounded-full animate-pulse\" />\n                <div className=\"absolute bottom-[20%] right-[10%] w-[30vw] h-[30vw] bg-purple-500/5 blur-[120px] rounded-full\" />\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/personalise/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/policies/privacy/PrivacyClient.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[379,564],"text":"Brancstudio (&quot;we\", \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[379,564],"text":"Brancstudio (&ldquo;we\", \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[379,564],"text":"Brancstudio (&#34;we\", \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[379,564],"text":"Brancstudio (&rdquo;we\", \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":36,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we&quot;, \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we&ldquo;, \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we&#34;, \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we&rdquo;, \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":39,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", &quot;our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", &ldquo;our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", &#34;our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", &rdquo;our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":43,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our&quot;, \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our&ldquo;, \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our&#34;, \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our&rdquo;, \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":46,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", &quot;us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", &ldquo;us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", &#34;us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", &rdquo;us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":12,"column":49,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", \"us&quot;) values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", \"us&ldquo;) values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", \"us&#34;) values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[379,564],"text":"Brancstudio (\"we\", \"our\", \"us&rdquo;) values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information."},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport InfoPage from '@/components/Layout/InfoPage';\n\nexport default function PrivacyClient() {\n    return (\n        <InfoPage title=\"Privacy Policy\" category=\"Policies\">\n            <div className=\"space-y-6 text-secondary text-sm leading-relaxed\">\n                <p><strong>Last Updated: January 2026</strong></p>\n\n                <p>Brancstudio (\"we\", \"our\", \"us\") values your trust and is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and safeguard your personal information.</p>\n\n                <h3 className=\"text-lg font-bold text-primary mt-6\">1. Information We Collect</h3>\n                <ul className=\"list-disc pl-5\">\n                    <li><strong>Personal Information:</strong> Name, email address, phone number, shipping address, and payment details collected during checkout.</li>\n                    <li><strong>Usage Data:</strong> Information about your device, browser, and how you interact with our website (via cookies).</li>\n                </ul>\n\n                <h3 className=\"text-lg font-bold text-primary mt-6\">2. How We Use Your Information</h3>\n                <ul className=\"list-disc pl-5\">\n                    <li>To process and fulfill your orders.</li>\n                    <li>To send order updates and shipping notifications.</li>\n                    <li>To improve our website functionality and user experience.</li>\n                    <li>To send marketing communications (if you have opted in).</li>\n                </ul>\n\n                <h3 className=\"text-lg font-bold text-primary mt-6\">3. Data Security</h3>\n                <p>We implement industry-standard security measures, including SSL encryption, to protect your data during transmission and storage. We do not sell your personal data to third parties.</p>\n\n                <h3 className=\"text-lg font-bold text-primary mt-6\">4. Contact Us</h3>\n                <p>If you have any questions regarding this policy, please contact us at privacy@broncstudio.com.</p>\n            </div>\n        </InfoPage>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/policies/privacy/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/policies/terms/TermsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/policies/terms/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/press/page.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":23,"column":33,"nodeType":"JSXOpeningElement","endLine":27,"endColumn":35},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":31,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1838,1876],"text":"\n                                    &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1838,1876],"text":"\n                                    &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1838,1876],"text":"\n                                    &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1838,1876],"text":"\n                                    &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":31,"column":53,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1891,1925],"text":"&quot;\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1891,1925],"text":"&ldquo;\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1891,1925],"text":"&#34;\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1891,1925],"text":"&rdquo;\n                                "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\n\nconst FEATURES: { name: string; logo: string; quote: string; date: string }[] = [];\n\nexport default function PressPage() {\n    return (\n        <div className=\"min-h-screen bg-[#FAF9F7] dark:bg-black pb-20 pt-[var(--header-height)]\">\n            <AmbientBackground />\n\n            <div className=\"container-premium max-w-[1000px] mx-auto px-6 py-20 text-center\">\n                <span className=\"text-coral-500 font-bold tracking-widest uppercase text-xs mb-4 block\">As Seen In</span>\n                <h1 className=\"text-5xl font-heading font-bold text-navy-900 dark:text-white mb-16\">\n                    Making Headlines.\n                </h1>\n\n                <div className=\"grid gap-12\">\n                    {FEATURES.map((feature, i) => (\n                        <div key={i} className=\"bg-white dark:bg-white/5 p-12 rounded-3xl border border-gray-100 dark:border-white/10 shadow-sm hover:shadow-xl transition-all duration-500 flex flex-col md:flex-row items-center gap-12 text-left group\">\n                            <div className=\"w-full md:w-1/3 flex items-center justify-center p-6 bg-gray-50 dark:bg-white/10 rounded-2xl h-40\">\n                                <img\n                                    src={feature.logo}\n                                    alt={feature.name}\n                                    className=\"max-h-12 max-w-full opacity-50 group-hover:opacity-100 transition-opacity grayscale group-hover:grayscale-0 dark:invert\"\n                                />\n                            </div>\n                            <div className=\"w-full md:w-2/3\">\n                                <blockquote className=\"text-2xl font-heading font-medium text-navy-900 dark:text-white mb-4 leading-normal\">\n                                    \"{feature.quote}\"\n                                </blockquote>\n                                <div className=\"text-gray-400 font-bold uppercase tracking-widest text-xs\">\n                                    {feature.name} â€¢ {feature.date}\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <div className=\"mt-24\">\n                    <h3 className=\"text-xl font-bold text-navy-900 dark:text-white mb-6\">Press Inquiries</h3>\n                    <p className=\"text-gray-500 dark:text-gray-400 mb-6\">For media kits and interview requests, please contact our PR team.</p>\n                    <a href=\"mailto:press@broncstudio.com\" className=\"bg-navy-900 dark:bg-white text-white dark:text-black font-bold py-3 px-8 rounded-full hover:bg-coral-500 dark:hover:bg-coral-400 transition-colors\">\n                        press@broncstudio.com\n                    </a>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/privacy-policy/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/product/[id]/ProductClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getProductImage' is defined but never used.","line":10,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":25,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"getProductImage"},"fix":{"range":[447,502],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1099,1102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1099,1102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1170,1173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1170,1173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1239,1242],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1239,1242],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2516,2519],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2516,2519],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":86,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3316,3319],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3316,3319],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":99,"column":8,"nodeType":"ArrayExpression","endLine":99,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [id, supabase]","fix":{"range":[3710,3714],"text":"[id, supabase]"}}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport ProductGallery from '@/components/Product/Page/ProductGallery';\nimport ProductInfo from '@/components/Product/Page/ProductInfo';\nimport StickyActionBar from '@/components/Product/Page/StickyActionBar';\nimport MiniTrustStrip from '@/components/Product/Page/MiniTrustStrip';\nimport ShopTheLook from '@/components/Product/ShopTheLook';\nimport ProductShowcase from '@/components/Home/ProductShowcase';\nimport { getProductImage } from '@/utils/sampleImages';\n\nimport { createBrowserClient } from '@supabase/ssr';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useCart } from '@/context/CartContext';\nimport { useToast } from '@/context/ToastContext';\nimport { useEffect, useState } from 'react';\nimport { Loader2 } from 'lucide-react';\n\nexport default function ProductClient() {\n    const params = useParams(); // params.id may be undefined initially\n    const id = params?.id as string;\n    const router = useRouter();\n    const { addToCart } = useCart();\n    const { addToast } = useToast();\n    const [product, setProduct] = useState<any>(null);\n    const [relatedProducts, setRelatedProducts] = useState<any[]>([]);\n    const [randomProducts, setRandomProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        if (!id) return;\n\n        const fetchProductAndRelated = async () => {\n            setLoading(true);\n\n            // 1. Fetch Main Product\n            const { data: mainProduct, error } = await supabase\n                .from('products')\n                .select('*')\n                .eq('id', id)\n                .single();\n\n            if (error || !mainProduct) {\n                console.error('Error fetching product:', error);\n                setProduct(null);\n                setLoading(false);\n                return;\n            }\n\n            setProduct(mainProduct);\n\n            // 2. Fetch Related Products (Strict Category Matching)\n            if (mainProduct.category_id) {\n                const { data: related } = await supabase\n                    .from('products')\n                    .select('*')\n                    .eq('category_id', mainProduct.category_id)\n                    .neq('id', id)\n                    .limit(12);\n\n                if (related) {\n                    const mappedRelated = related.map((p: any) => ({\n                        ...p,\n                        image: p.images?.[0] || p.image_url || '/images/placeholder.jpg',\n                        secondaryImage: p.images?.[1],\n                        originalPrice: p.compare_at_price\n                    }));\n                    setRelatedProducts(mappedRelated);\n                }\n            }\n\n            // 3. Fetch \"Try Me\" Products (Randomized Full Catalog)\n            const { data: randomPool } = await supabase\n                .from('products')\n                .select('*')\n                .neq('id', id);\n\n            if (randomPool) {\n                // Better Shuffle logic for larger datasets\n                const shuffled = [...randomPool].sort(() => 0.5 - Math.random());\n                const allRandom = shuffled.map((p: any) => ({\n                    ...p,\n                    image: p.images?.[0] || p.image_url || '/images/placeholder.jpg',\n                    secondaryImage: p.images?.[1],\n                    originalPrice: p.compare_at_price\n                }));\n                setRandomProducts(allRandom);\n            }\n\n            setLoading(false);\n        };\n\n        fetchProductAndRelated();\n    }, [id]);\n\n    const handleAddFromSticky = () => {\n        if (!product) return;\n        addToCart(product, product.metadata?.sizes?.[0] || 'Default');\n        addToast(`${product.name} added to your bag!`, 'success');\n    };\n\n    const handleBuyNow = () => {\n        if (!product) return;\n        addToCart(product, product.metadata?.sizes?.[0] || 'Default');\n        router.push('/cart');\n    };\n\n    if (loading) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center bg-background\">\n                <Loader2 className=\"animate-spin text-primary\" size={32} />\n            </div>\n        );\n    }\n\n    if (!product) {\n        return (\n            <div className=\"min-h-screen flex flex-col items-center justify-center bg-background\">\n                <h1 className=\"text-2xl font-bold text-primary mb-4\">Product Not Found</h1>\n                <p className=\"text-secondary\">The product you are looking for does not exist.</p>\n            </div>\n        );\n    }\n\n    return (\n        <main className=\"bg-background min-h-screen pb-8 md:pb-0 pt-[var(--header-height)]\">\n            {/* Main Product Section */}\n            <div className=\"max-w-[1200px] mx-auto px-0 md:px-6 pt-0 md:pt-12 mb-12 md:mb-16\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-0 md:gap-16 items-start\">\n                    {/* Left: Gallery */}\n                    <div className=\"w-full\">\n                        <ProductGallery images={product.images || [product.image_url || '/images/placeholder.jpg']} />\n                    </div>\n\n                    {/* Right: Info (Sticky) */}\n                    <div className=\"px-0 sticky top-32\">\n                        <ProductInfo product={product} />\n                    </div>\n                </div>\n            </div>\n\n            {/* Shop The Look (Dynamic Contextual Engine) */}\n            <ShopTheLook product={product} />\n\n            {/* Similar Products */}\n            {relatedProducts.length > 0 && (\n                <ProductShowcase\n                    title=\"You May Also Like\"\n                    subtitle={`Discover more from the ${product.category?.name || 'same'} collection.`}\n                    products={relatedProducts}\n                    className=\"bg-surface-2/30\"\n                    layout=\"carousel\"\n                    fullWidth={true}\n                />\n            )}\n\n            {/* Try Me Section (Randomized) */}\n            {randomProducts.length > 0 && (\n                <ProductShowcase\n                    title=\"Try Something New\"\n                    subtitle=\"Explore a random selection from our entire catalog.\"\n                    products={randomProducts}\n                    className=\"bg-background py-16\"\n                    layout=\"carousel\"\n                    fullWidth={true}\n                />\n            )}\n\n            {/* Trust Strip */}\n            <MiniTrustStrip />\n\n            {/* Mobile Sticky Bar */}\n            <StickyActionBar\n                price={product.price}\n                originalPrice={product.compare_at_price}\n                productName={product.name}\n                productImage={product.images?.[0] || product.image_url || '/images/placeholder.jpg'}\n                onAddToCart={handleAddFromSticky}\n                onBuyNow={handleBuyNow}\n            />\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/product/[id]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/ProfileClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[873,876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[873,876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'theme' is assigned a value but never used.","line":23,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":18},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/profile/ProfileClient.tsx:27:9\n  25 |\n  26 |     useEffect(() => {\n> 27 |         setMounted(true);\n     |         ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  28 |     }, []);\n  29 |\n  30 |     useEffect(() => {","line":27,"column":9,"nodeType":null,"endLine":27,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":65,"column":8,"nodeType":"ArrayExpression","endLine":65,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [router, supabase]","fix":{"range":[2353,2361],"text":"[router, supabase]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport ProfileHeader from '@/components/Profile/ProfileHeader';\nimport QuickActions from '@/components/Profile/QuickActions';\nimport OrderPreview from '@/components/Profile/OrderPreview';\nimport AddressCard from '@/components/Profile/AddressCard';\nimport { Bell, Shield, LogOut, FileText, ChevronRight, Globe, Loader2, Moon, Sun } from 'lucide-react';\nimport { useTheme } from 'next-themes';\nimport { useUI } from '@/context/UIContext';\nimport { createClient } from '@/utils/supabase/client';\nimport { isAdmin } from '@/utils/admin';\n\nexport default function ProfileClient() {\n    const { currency, setCurrency } = useUI();\n    const router = useRouter();\n    const supabase = createClient();\n\n    const [user, setUser] = useState<any>(null);\n    const [loading, setLoading] = useState(true);\n    const { theme, setTheme, resolvedTheme } = useTheme();\n    const [mounted, setMounted] = useState(false);\n\n    useEffect(() => {\n        setMounted(true);\n    }, []);\n\n    useEffect(() => {\n        const getUser = async () => {\n            const { data: { user }, error } = await supabase.auth.getUser();\n            if (error || !user) {\n                router.push('/login');\n                return;\n            }\n\n            // Fetch additional profile data from 'profiles' table locally if needed,\n            // or rely on metadata/defaults for this initial integration.\n            // For now, let's use user metadata + email\n            const profileData = {\n                email: user.email,\n                full_name: user.user_metadata?.full_name,\n                avatar_url: user.user_metadata?.avatar_url\n            };\n\n            // Check if blocked\n            const { data: blocked } = await supabase\n                .from('blocked_users')\n                .select('reason')\n                .eq('user_id', user.id)\n                .maybeSingle();\n\n            if (blocked) {\n                alert(`Your account has been restricted: ${blocked.reason || 'Contact Support'}`);\n                await supabase.auth.signOut();\n                router.push('/');\n                return;\n            }\n\n            setUser(profileData);\n            setLoading(false);\n        };\n        getUser();\n    }, [router]);\n\n    const handleSignOut = async () => {\n        const supabase = createClient(); // Use instantiated client or createBrowser one if context allows\n        await supabase.auth.signOut();\n        router.push('/');\n        router.refresh();\n    };\n\n    const settings = [\n        { icon: Bell, label: 'Notifications & Preferences', desc: 'Order updates, offers', href: '/profile/notifications' },\n        { icon: Shield, label: 'Login & Security', desc: 'Password, 2FA', href: '/profile/security' },\n        { icon: FileText, label: 'Legal & Policies', desc: 'Privacy, Terms, Returns', href: '/profile/legal' },\n    ];\n\n    if (loading) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center bg-page\">\n                <Loader2 className=\"animate-spin text-primary\" size={32} />\n            </div>\n        );\n    }\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12 transition-colors duration-300\">\n            <div className=\"container-premium max-w-[1000px] mx-auto px-4 md:px-0\">\n                {/* Header Section */}\n                <ProfileHeader user={user} />\n\n                {/* Quick Actions Grid */}\n                <QuickActions />\n\n                {/* Main Content Grid (Desktop: 2 Col, Mobile: Stack) */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n\n                    {/* Left/Top Column: Core Data */}\n                    <div className=\"md:col-span-2 space-y-6\">\n                        <OrderPreview />\n                        <AddressCard />\n                    </div>\n\n                    {/* Right/Bottom Column: Settings & Support */}\n                    <div className=\"space-y-6\">\n                        {/* Settings Card */}\n                        <div className=\"bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 rounded-2xl p-5 shadow-sm transition-colors\">\n                            <h3 className=\"text-lg font-bold text-navy-900 dark:text-white mb-4\">Settings</h3>\n                            <div className=\"space-y-1\">\n                                <button onClick={() => setCurrency(currency === 'INR' ? 'USD' : 'INR')} className=\"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-colors text-left group\">\n                                    <div className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white group-hover:bg-navy-900 dark:group-hover:bg-white group-hover:text-white dark:group-hover:text-black transition-colors\">\n                                        <Globe size={16} />\n                                    </div>\n                                    <div className=\"flex-1\">\n                                        <div className=\"text-sm font-bold text-navy-900 dark:text-white\">Currency</div>\n                                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">Currently: {currency}</div>\n                                    </div>\n                                    <div className=\"text-xs font-bold text-coral-500 bg-coral-50 dark:bg-coral-900/20 px-2 py-1 rounded-md uppercase\">\n                                        {currency}\n                                    </div>\n                                </button>\n\n                                {mounted && (\n                                    <button\n                                        onClick={() => setTheme(resolvedTheme === 'dark' ? 'light' : 'dark')}\n                                        className=\"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-colors text-left group\"\n                                    >\n                                        <div className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white group-hover:bg-navy-900 dark:group-hover:bg-white group-hover:text-white dark:group-hover:text-black transition-colors\">\n                                            {resolvedTheme === 'dark' ? <Moon size={16} /> : <Sun size={16} />}\n                                        </div>\n                                        <div className=\"flex-1\">\n                                            <div className=\"text-sm font-bold text-navy-900 dark:text-white\">Appearance</div>\n                                            <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                {resolvedTheme === 'dark' ? 'Dark Mode' : 'Light Mode'}\n                                            </div>\n                                        </div>\n                                        <div className={`px-2 py-1 rounded-md text-xs font-bold uppercase transition-colors ${resolvedTheme === 'dark' ? 'bg-navy-900 text-white dark:bg-white dark:text-black' : 'bg-gray-200 text-navy-900'}`}>\n                                            {resolvedTheme === 'dark' ? 'On' : 'Off'}\n                                        </div>\n                                    </button>\n                                )}\n                                {settings.map((item, i) => (\n                                    <Link key={i} href={item.href} className=\"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-colors text-left group\">\n                                        <div className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white group-hover:bg-navy-900 dark:group-hover:bg-white group-hover:text-white dark:group-hover:text-black transition-colors\">\n                                            <item.icon size={16} />\n                                        </div>\n                                        <div className=\"flex-1\">\n                                            <div className=\"text-sm font-bold text-navy-900 dark:text-white\">{item.label}</div>\n                                            <div className=\"text-xs text-gray-500 dark:text-gray-400\">{item.desc}</div>\n                                        </div>\n                                        <ChevronRight size={16} className=\"text-gray-400 dark:text-gray-500 group-hover:translate-x-1 transition-transform\" />\n                                    </Link>\n                                ))}\n\n                                {/* Admin Link (Only for authorized users) */}\n                                {user?.email && isAdmin(user.email) && (\n                                    <Link href=\"/admin\" className=\"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-colors text-left group border-t border-dashed border-gray-100 dark:border-white/10 mt-2\">\n                                        <div className=\"w-8 h-8 rounded-full bg-navy-100 dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white group-hover:bg-navy-900 dark:group-hover:bg-white group-hover:text-white dark:group-hover:text-black transition-colors\">\n                                            <Shield size={16} />\n                                        </div>\n                                        <div className=\"flex-1\">\n                                            <div className=\"text-sm font-bold text-navy-900 dark:text-white\">Admin Dashboard</div>\n                                            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Manage store & orders</div>\n                                        </div>\n                                        <ChevronRight size={16} className=\"text-gray-400 dark:text-gray-500\" />\n                                    </Link>\n                                )}\n                            </div>\n                        </div>\n\n                        {/* Logout */}\n                        <button\n                            onClick={handleSignOut}\n                            className=\"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-red-100 bg-red-50 text-red-600 font-bold hover:bg-red-100 transition-colors dark:bg-red-900/10 dark:border-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30\"\n                        >\n                            <LogOut size={18} /> Log Out\n                        </button>\n\n                        <div className=\"text-center text-xs text-gray-500 dark:text-gray-400 mt-4\">\n                            App Version 2.0.1 â€¢ Broncstudio\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/addresses/edit/[id]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/addresses/new/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/addresses/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":6,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Plus"},"fix":{"range":[168,174],"text":""},"desc":"Remove unused variable \"Plus\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Edit2' is defined but never used.","line":6,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":40,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Edit2"},"fix":{"range":[174,181],"text":""},"desc":"Remove unused variable \"Edit2\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Trash2' is defined but never used.","line":6,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":48,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Trash2"},"fix":{"range":[181,189],"text":""},"desc":"Remove unused variable \"Trash2\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1432,1435],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1432,1435],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft, MapPin, Plus, Edit2, Trash2, Loader2 } from 'lucide-react';\nimport { createClient } from '@/utils/supabase/client';\n\ninterface Address {\n    id: string;\n    type: string;\n    name: string;\n    address: string;\n    city: string;\n    phone: string;\n    isDefault: boolean;\n}\n\nexport default function AddressesPage() {\n    const [addresses, setAddresses] = useState<Address[]>([]);\n    const [loading, setLoading] = useState(true);\n    const router = useRouter();\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchAddresses = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n\n            if (!user) {\n                router.push('/login');\n                return;\n            }\n\n            // Fetch addresses from orders (extracting unique shipping addresses)\n            const { data: orders } = await supabase\n                .from('orders')\n                .select('id, shipping_address')\n                .eq('user_id', user.id)\n                .order('created_at', { ascending: false });\n\n            if (orders && orders.length > 0) {\n                // Extract unique addresses based on pincode\n                const uniqueAddresses = new Map<string, Address>();\n                orders.forEach((order: any, index: number) => {\n                    const addr = order.shipping_address;\n                    if (addr && addr.pincode && !uniqueAddresses.has(addr.pincode)) {\n                        uniqueAddresses.set(addr.pincode, {\n                            id: order.id,\n                            type: addr.label || 'Shipping Address',\n                            name: `${addr.firstName || ''} ${addr.lastName || ''}`.trim() || 'Name not provided',\n                            address: addr.addressLine1 || '',\n                            city: `${addr.city || ''} - ${addr.pincode || ''}`,\n                            phone: addr.phone || 'Not provided',\n                            isDefault: index === 0\n                        });\n                    }\n                });\n                setAddresses(Array.from(uniqueAddresses.values()));\n            }\n            setLoading(false);\n        };\n\n        fetchAddresses();\n    }, [supabase, router]);\n\n    if (loading) {\n        return (\n            <main className=\"bg-[#FAF9F7] min-h-screen py-8 flex items-center justify-center\">\n                <Loader2 className=\"animate-spin text-navy-900\" size={32} />\n            </main>\n        );\n    }\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"max-w-[800px] mx-auto px-4 md:px-0\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between mb-6\">\n                    <div className=\"flex items-center gap-4\">\n                        <Link href=\"/profile\" className=\"p-2 rounded-full bg-white dark:bg-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors shadow-sm\">\n                            <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                        </Link>\n                        <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white font-heading\">Addresses</h1>\n                    </div>\n                </div>\n\n                {/* Empty State */}\n                {addresses.length === 0 ? (\n                    <div className=\"bg-white dark:bg-white/5 p-12 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm text-center\">\n                        <MapPin className=\"mx-auto text-gray-300 dark:text-gray-600 mb-4\" size={48} />\n                        <h2 className=\"text-xl font-bold text-navy-900 dark:text-white mb-2\">No saved addresses</h2>\n                        <p className=\"text-gray-500 dark:text-gray-400 mb-6\">\n                            Your shipping addresses from orders will appear here.\n                        </p>\n                        <Link\n                            href=\"/shop\"\n                            className=\"inline-block bg-navy-900 dark:bg-white text-white dark:text-black font-bold py-3 px-8 rounded-xl hover:bg-coral-500 dark:hover:bg-gray-200 transition-colors\"\n                        >\n                            Start Shopping\n                        </Link>\n                    </div>\n                ) : (\n                    /* Address List */\n                    <div className=\"space-y-4\">\n                        {addresses.map((addr) => (\n                            <div key={addr.id} className=\"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm relative group\">\n                                {addr.isDefault && (\n                                    <span className=\"absolute top-4 right-4 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-[10px] font-bold px-2 py-1 rounded-full uppercase\">\n                                        Default\n                                    </span>\n                                )}\n\n                                <div className=\"flex items-start gap-4\">\n                                    <div className=\"mt-1 w-10 h-10 rounded-full bg-gray-50 dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white flex-shrink-0\">\n                                        <MapPin size={20} />\n                                    </div>\n                                    <div className=\"flex-1\">\n                                        <h3 className=\"font-bold text-navy-900 dark:text-white text-lg mb-1\">{addr.type}</h3>\n                                        <p className=\"text-sm text-gray-900 dark:text-gray-200 font-medium mb-1\">{addr.name}</p>\n                                        <p className=\"text-sm text-gray-500 dark:text-gray-400 leading-relaxed max-w-sm\">\n                                            {addr.address}<br />\n                                            {addr.city}\n                                        </p>\n                                        <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-2\">Phone: {addr.phone}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n\n                        <p className=\"text-center text-xs text-gray-400 mt-6\">\n                            Addresses are automatically saved from your orders.\n                        </p>\n                    </div>\n                )}\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/edit/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2000,2003],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2000,2003],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2668,2671],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2668,2671],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3525,3528],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3525,3528],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft, Save, Loader2, CheckCircle } from 'lucide-react';\nimport { createClient } from '@/utils/supabase/client';\n\nexport default function EditProfilePage() {\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [success, setSuccess] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    // Form State\n    const [fullName, setFullName] = useState('');\n    const [email, setEmail] = useState('');\n    const [phone, setPhone] = useState('');\n\n    const [loadingOtp, setLoadingOtp] = useState(false);\n    const [showOtpInput, setShowOtpInput] = useState(false);\n    const [otp, setOtp] = useState('');\n    const [otpSent, setOtpSent] = useState(false);\n\n    const router = useRouter();\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchUserData = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n\n            if (!user) {\n                router.push('/login');\n                return;\n            }\n\n            // Set form values from user data\n            setEmail(user.email || '');\n            setFullName(user.user_metadata?.full_name || '');\n            // Prioritize authenticated phone, fallback to metadata\n            setPhone(user.phone || user.user_metadata?.phone || '');\n            setLoading(false);\n        };\n\n        fetchUserData();\n    }, [supabase, router]);\n\n    const handleSendOtp = async () => {\n        setLoadingOtp(true);\n        setError(null);\n        try {\n            const { error: otpError } = await supabase.auth.updateUser({\n                phone: `+91${phone}`\n            });\n\n            if (otpError) throw otpError;\n\n            setOtpSent(true);\n            setShowOtpInput(true);\n            alert('OTP sent to your phone number');\n        } catch (err: any) {\n            setError(err.message || 'Failed to send OTP');\n        } finally {\n            setLoadingOtp(false);\n        }\n    };\n\n    const handleVerifyOtp = async () => {\n        setLoadingOtp(true);\n        setError(null);\n        try {\n            const { error: verifyError } = await supabase.auth.verifyOtp({\n                phone: `+91${phone}`,\n                token: otp,\n                type: 'phone_change'\n            });\n\n            if (verifyError) throw verifyError;\n\n            setSuccess(true);\n            setShowOtpInput(false);\n            setOtpSent(false);\n            alert('Phone number verified successfully!');\n        } catch (err: any) {\n            setError(err.message || 'Invalid OTP');\n        } finally {\n            setLoadingOtp(false);\n        }\n    };\n\n    const handleSave = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setSaving(true);\n        setError(null);\n        setSuccess(false);\n\n        try {\n            // Update user metadata in Supabase Auth\n            const { error: updateError } = await supabase.auth.updateUser({\n                data: {\n                    full_name: fullName,\n                    phone: phone\n                }\n            });\n\n            if (updateError) throw updateError;\n\n            setSuccess(true);\n\n            // Redirect after a short delay to show success\n            setTimeout(() => {\n                router.push('/profile');\n                router.refresh();\n            }, 1500);\n        } catch (err: any) {\n            setError(err.message || 'Failed to update profile');\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    if (loading) {\n        return (\n            <main className=\"bg-[#FAF9F7] min-h-screen py-8 flex items-center justify-center\">\n                <Loader2 className=\"animate-spin text-navy-900\" size={32} />\n            </main>\n        );\n    }\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"max-w-[600px] mx-auto px-4 md:px-0\">\n                {/* Header */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                    <Link href=\"/profile\" className=\"p-2 rounded-full bg-white dark:bg-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors shadow-sm\">\n                        <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                    </Link>\n                    <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white font-heading\">Edit Profile</h1>\n                </div>\n\n                <form onSubmit={handleSave} className=\"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm space-y-4\">\n                    {/* Success Message */}\n                    {success && (\n                        <div className=\"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 p-3 rounded-lg flex items-center gap-2 text-sm\">\n                            <CheckCircle size={16} />\n                            Profile updated successfully!\n                        </div>\n                    )}\n\n                    {/* Error Message */}\n                    {error && (\n                        <div className=\"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm\">\n                            {error}\n                        </div>\n                    )}\n\n                    {/* Full Name */}\n                    <div>\n                        <label className=\"block text-sm font-bold text-navy-900 dark:text-white mb-1\">Full Name</label>\n                        <input\n                            type=\"text\"\n                            value={fullName}\n                            onChange={(e) => setFullName(e.target.value)}\n                            placeholder=\"Enter your full name\"\n                            className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-white/10 bg-white dark:bg-black/20 text-navy-900 dark:text-white focus:border-navy-900 dark:focus:border-white focus:ring-0 outline-none transition-colors\"\n                        />\n                    </div>\n\n                    {/* Email */}\n                    <div>\n                        <label className=\"block text-sm font-bold text-navy-900 dark:text-white mb-1\">Email</label>\n                        <input\n                            type=\"email\"\n                            value={email}\n                            disabled\n                            className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-white/5 text-gray-500 dark:text-gray-400 cursor-not-allowed\"\n                        />\n                        <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">Email cannot be changed here</p>\n                    </div>\n\n                    {/* Phone Number with OTP */}\n                    <div>\n                        <label className=\"block text-sm font-bold text-navy-900 dark:text-white mb-1\">Phone Number</label>\n                        <div className=\"flex gap-2\">\n                            <input\n                                type=\"tel\"\n                                value={phone}\n                                onChange={(e) => {\n                                    const val = e.target.value.replace(/\\D/g, '').slice(0, 10);\n                                    setPhone(val);\n                                }}\n                                placeholder=\"9876543210\"\n                                className=\"flex-1 px-4 py-3 rounded-xl border border-gray-200 dark:border-white/10 bg-white dark:bg-black/20 text-navy-900 dark:text-white focus:border-navy-900 dark:focus:border-white focus:ring-0 outline-none transition-colors\"\n                            />\n                            {showOtpInput ? (\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setShowOtpInput(false)}\n                                    className=\"px-4 py-2 text-sm font-bold text-gray-500 hover:text-navy-900\"\n                                >\n                                    Cancel\n                                </button>\n                            ) : (\n                                <button\n                                    type=\"button\"\n                                    onClick={handleSendOtp}\n                                    disabled={loadingOtp || phone.length !== 10}\n                                    className=\"px-4 py-2 bg-navy-900 dark:bg-white text-white dark:text-black rounded-xl text-sm font-bold disabled:opacity-50 whitespace-nowrap\"\n                                >\n                                    {loadingOtp ? <Loader2 className=\"animate-spin\" size={16} /> : 'Verify'}\n                                </button>\n                            )}\n                        </div>\n                        {otpSent && <p className=\"text-xs text-green-600 mt-1\">OTP sent to +91 {phone}</p>}\n                    </div>\n\n                    {/* OTP Input */}\n                    {showOtpInput && (\n                        <div className=\"animate-in fade-in slide-in-from-top-2\">\n                            <label className=\"block text-sm font-bold text-navy-900 dark:text-white mb-1\">Enter OTP</label>\n                            <div className=\"flex gap-2\">\n                                <input\n                                    type=\"text\"\n                                    value={otp}\n                                    onChange={(e) => setOtp(e.target.value)}\n                                    placeholder=\"Enter 6-digit OTP\"\n                                    maxLength={6}\n                                    className=\"flex-1 px-4 py-3 rounded-xl border border-gray-200 dark:border-white/10 bg-white dark:bg-black/20 text-navy-900 dark:text-white focus:border-navy-900 dark:focus:border-white focus:ring-0 outline-none transition-colors\"\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={handleVerifyOtp}\n                                    disabled={loadingOtp || otp.length !== 6}\n                                    className=\"px-6 py-2 bg-coral-500 text-white rounded-xl text-sm font-bold disabled:opacity-50\"\n                                >\n                                    {loadingOtp ? <Loader2 className=\"animate-spin\" size={16} /> : 'Confirm'}\n                                </button>\n                            </div>\n                        </div>\n                    )}\n\n                    <button\n                        type=\"submit\"\n                        disabled={saving || success}\n                        className=\"w-full bg-navy-900 dark:bg-white text-white dark:text-black font-bold py-3 rounded-xl flex items-center justify-center gap-2 hover:bg-coral-500 dark:hover:bg-gray-200 transition-colors mt-8 disabled:opacity-70\"\n                    >\n                        {saving ? (\n                            <Loader2 size={18} className=\"animate-spin\" />\n                        ) : success ? (\n                            <><CheckCircle size={18} /> Saved!</>\n                        ) : (\n                            <><Save size={18} /> Save Profile</>\n                        )}\n                    </button>\n                </form>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/legal/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ExternalLink' is defined but never used.","line":5,"column":45,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":57,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ExternalLink"},"fix":{"range":[114,128],"text":""},"desc":"Remove unused variable \"ExternalLink\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, FileText, ChevronRight, ExternalLink } from 'lucide-react';\n\nexport default function LegalPage() {\n    const policies = [\n        { label: 'Privacy Policy', desc: 'How we handle your data', href: '/policies/privacy' },\n        { label: 'Terms & Conditions', desc: 'Rules for using our platform', href: '/policies/terms' },\n        { label: 'Returns & Refunds', desc: 'Our policy on returns and exchanges', href: '/help/returns' },\n        { label: 'Shipping Policy', desc: 'Delivery timelines and charges', href: '/help/shipping' }\n    ];\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"container-premium max-w-[800px] mx-auto px-4 md:px-0\">\n\n                {/* Header */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                    <Link href=\"/profile\" className=\"w-10 h-10 rounded-full bg-white dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white border border-gray-100 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors\">\n                        <ArrowLeft size={20} />\n                    </Link>\n                    <div>\n                        <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white\">Legal & Policies</h1>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Review our platform policies and terms.</p>\n                    </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-2 shadow-sm\">\n                    {policies.map((policy, i) => (\n                        <Link\n                            key={i}\n                            href={policy.href}\n                            className=\"flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-white/5 rounded-xl transition-colors group border-b border-gray-50 dark:border-white/5 last:border-none\"\n                        >\n                            <div className=\"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white group-hover:bg-navy-900 dark:group-hover:bg-coral-500 group-hover:text-white transition-colors\">\n                                <FileText size={18} />\n                            </div>\n                            <div className=\"flex-1\">\n                                <div className=\"font-bold text-navy-900 dark:text-white\">{policy.label}</div>\n                                <div className=\"text-sm text-gray-500 dark:text-gray-400\">{policy.desc}</div>\n                            </div>\n                            <ChevronRight size={16} className=\"text-gray-300 dark:text-gray-500 group-hover:text-gray-500 dark:group-hover:text-white transition-colors\" />\n                        </Link>\n                    ))}\n                </div>\n\n                <div className=\"text-center mt-8 text-xs text-gray-400 dark:text-gray-600\">\n                    &copy; {new Date().getFullYear()} Broncstudio. All rights reserved.\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/notifications/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MessageSquare' is defined but never used.","line":5,"column":33,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":46,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MessageSquare"},"fix":{"range":[116,131],"text":""},"desc":"Remove unused variable \"MessageSquare\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Smartphone' is defined but never used.","line":5,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":58,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Smartphone"},"fix":{"range":[131,143],"text":""},"desc":"Remove unused variable \"Smartphone\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, Bell, Mail, MessageSquare, Smartphone } from 'lucide-react';\n\nexport default function NotificationsPage() {\n    const [preferences, setPreferences] = useState({\n        email_orders: true,\n        email_promos: false,\n        sms_orders: true,\n        push_all: true\n    });\n\n    const toggle = (key: keyof typeof preferences) => {\n        setPreferences(prev => ({ ...prev, [key]: !prev[key] }));\n    };\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"container-premium max-w-[800px] mx-auto px-4 md:px-0\">\n\n                {/* Header */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                    <Link href=\"/profile\" className=\"w-10 h-10 rounded-full bg-white dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white border border-gray-100 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors\">\n                        <ArrowLeft size={20} />\n                    </Link>\n                    <div>\n                        <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white\">Notifications</h1>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Manage how we communicate with you.</p>\n                    </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"space-y-6\">\n                    {/* Orders */}\n                    <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-6 shadow-sm\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                            <div className=\"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center\">\n                                <Bell size={20} />\n                            </div>\n                            <h2 className=\"text-lg font-bold text-navy-900 dark:text-white\">Order Updates</h2>\n                        </div>\n\n                        <div className=\"space-y-6\">\n                            <div className=\"flex items-center justify-between\">\n                                <div>\n                                    <div className=\"font-bold text-navy-900 dark:text-white\">Email Notifications</div>\n                                    <div className=\"text-sm text-gray-500 dark:text-gray-400\">Receive order confirmations and shipping updates via email.</div>\n                                </div>\n                                <button\n                                    onClick={() => toggle('email_orders')}\n                                    className={`w-12 h-6 rounded-full transition-colors relative ${preferences.email_orders ? 'bg-success-mint' : 'bg-gray-200 dark:bg-white/20'}`}\n                                >\n                                    <div className={`absolute top-1 w-4 h-4 rounded-full bg-white shadow-sm transition-all ${preferences.email_orders ? 'left-7' : 'left-1'}`} />\n                                </button>\n                            </div>\n\n                            <div className=\"flex items-center justify-between\">\n                                <div>\n                                    <div className=\"font-bold text-navy-900 dark:text-white\">SMS Notifications</div>\n                                    <div className=\"text-sm text-gray-500 dark:text-gray-400\">Get text updates for delivery tracking.</div>\n                                </div>\n                                <button\n                                    onClick={() => toggle('sms_orders')}\n                                    className={`w-12 h-6 rounded-full transition-colors relative ${preferences.sms_orders ? 'bg-success-mint' : 'bg-gray-200 dark:bg-white/20'}`}\n                                >\n                                    <div className={`absolute top-1 w-4 h-4 rounded-full bg-white shadow-sm transition-all ${preferences.sms_orders ? 'left-7' : 'left-1'}`} />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Marketing */}\n                    <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-6 shadow-sm\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                            <div className=\"w-10 h-10 rounded-full bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 flex items-center justify-center\">\n                                <Mail size={20} />\n                            </div>\n                            <h2 className=\"text-lg font-bold text-navy-900 dark:text-white\">Marketing & Offers</h2>\n                        </div>\n\n                        <div className=\"flex items-center justify-between\">\n                            <div>\n                                <div className=\"font-bold text-navy-900 dark:text-white\">Promotional Emails</div>\n                                <div className=\"text-sm text-gray-500 dark:text-gray-400\">Be the first to know about sales, new drops, and exclusive offers.</div>\n                            </div>\n                            <button\n                                onClick={() => toggle('email_promos')}\n                                className={`w-12 h-6 rounded-full transition-colors relative ${preferences.email_promos ? 'bg-success-mint' : 'bg-gray-200 dark:bg-white/20'}`}\n                            >\n                                <div className={`absolute top-1 w-4 h-4 rounded-full bg-white shadow-sm transition-all ${preferences.email_promos ? 'left-7' : 'left-1'}`} />\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/orders/[id]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Package' is defined but never used.","line":5,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Package"},"fix":{"range":[115,124],"text":""},"desc":"Remove unused variable \"Package\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":5,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":35,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Clock"},"fix":{"range":[124,131],"text":""},"desc":"Remove unused variable \"Clock\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":5,"column":57,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":69,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[151,165],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckCircle' is defined but never used.","line":5,"column":78,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":89,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CheckCircle"},"fix":{"range":[172,185],"text":""},"desc":"Remove unused variable \"CheckCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'XCircle' is defined but never used.","line":5,"column":91,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":98,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"XCircle"},"fix":{"range":[185,194],"text":""},"desc":"Remove unused variable \"XCircle\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[623,626],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[623,626],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[854,857],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[854,857],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchOrder` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/profile/orders/[id]/page.tsx:58:13\n  56 |     useEffect(() => {\n  57 |         if (params.id) {\n> 58 |             fetchOrder(params.id as string);\n     |             ^^^^^^^^^^ `fetchOrder` accessed before it is declared\n  59 |         }\n  60 |     }, [params.id]);\n  61 |\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/profile/orders/[id]/page.tsx:62:5\n  60 |     }, [params.id]);\n  61 |\n> 62 |     const fetchOrder = async (id: string) => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |         // Fetch Order\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 84 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 85 |     };\n     | ^^^^^^^ `fetchOrder` is declared here\n  86 |\n  87 |     if (loading) return <div className=\"min-h-screen flex items-center justify-center\">Loading Order...</div>;\n  88 |     if (!order) return <div className=\"min-h-screen flex items-center justify-center\">Order not found</div>;","line":58,"column":13,"nodeType":null,"endLine":58,"endColumn":23},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchOrder'. Either include it or remove the dependency array.","line":60,"column":8,"nodeType":"ArrayExpression","endLine":60,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [fetchOrder, params.id]","fix":{"range":[1577,1588],"text":"[fetchOrder, params.id]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":180,"column":41,"nodeType":"JSXOpeningElement","endLine":180,"endColumn":143}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, Package, Clock, MapPin, CreditCard, ChevronRight, Truck, CheckCircle, XCircle } from 'lucide-react';\nimport { useUI } from '@/context/UIContext';\nimport { useParams } from 'next/navigation';\nimport { createBrowserClient } from '@supabase/ssr';\nimport InvoiceDownloadButton from '@/components/Invoice/InvoiceDownloadButton';\n\n\ninterface OrderItem {\n    id?: string;\n    product_id?: string;\n    name: string;\n    price: number;\n    quantity: number;\n    image_url: string;\n    size?: string;\n    metadata?: any;\n}\n\ninterface StatusHistory {\n    status: string;\n    timestamp: string;\n    updated_by?: string;\n}\n\ninterface Order {\n    id: string;\n    created_at: string;\n    total_amount: number;\n    status: string;\n    shipping_address: any;\n    payment_method: string;\n    payment_status: string;\n    user_id: string;\n    items?: OrderItem[];\n    status_history?: StatusHistory[];\n    coupon_discount?: number;\n    discount_amount?: number;\n    wallet_amount_used?: number;\n}\n\nexport default function OrderDetailsPage() {\n    const { formatPrice } = useUI();\n    const params = useParams();\n    const [order, setOrder] = useState<Order | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        if (params.id) {\n            fetchOrder(params.id as string);\n        }\n    }, [params.id]);\n\n    const fetchOrder = async (id: string) => {\n        setLoading(true);\n        // Fetch Order\n        const { data: orderData, error } = await supabase\n            .from('orders')\n            .select('*')\n            .eq('id', id)\n            .single();\n\n        if (error) {\n            console.error(error);\n            setLoading(false);\n            return;\n        }\n\n        // Fetch Items\n        const { data: itemsData } = await supabase\n            .from('order_items')\n            .select('*')\n            .eq('order_id', id);\n\n        setOrder({ ...orderData, items: itemsData || [] });\n        setLoading(false);\n    };\n\n    if (loading) return <div className=\"min-h-screen flex items-center justify-center\">Loading Order...</div>;\n    if (!order) return <div className=\"min-h-screen flex items-center justify-center\">Order not found</div>;\n\n    const getStatusColor = (status: string) => {\n        switch (status) {\n            case 'pending': return 'bg-amber-100 text-amber-600 dark:bg-amber-900/40 dark:text-amber-300';\n            case 'processing': return 'bg-purple-100 text-purple-600 dark:bg-purple-900/40 dark:text-purple-300';\n            case 'shipped': return 'bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-300';\n            case 'delivered': return 'bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-300';\n            case 'cancelled': return 'bg-red-100 text-red-600 dark:bg-red-900/40 dark:text-red-300';\n            default: return 'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-300';\n        }\n    };\n\n    return (\n        <main className=\"bg-page min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"max-w-[800px] mx-auto px-4 md:px-0\">\n                {/* Header */}\n                <div className=\"flex items-start justify-between gap-4 mb-6\">\n                    <Link href=\"/profile/orders\" className=\"p-2 rounded-full bg-card hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors shadow-sm flex-shrink-0 border border-subtle\">\n                        <ArrowLeft size={20} className=\"text-primary\" />\n                    </Link>\n                    <div className=\"flex-1 min-w-0\">\n                        <h1 className=\"text-2xl font-bold text-primary font-heading truncate\">Order #{order.id.slice(0, 8)}</h1>\n                        <p className=\"text-sm text-gray-500\" suppressHydrationWarning>Placed on {new Date(order.created_at).toLocaleDateString()}</p>\n                    </div>\n                    <InvoiceDownloadButton order={order} variant=\"outline\" />\n                </div>\n\n                {/* Status Timeline Card */}\n                <div className=\"bg-card p-6 rounded-2xl border border-subtle shadow-sm mb-6\">\n                    <h3 className=\"font-bold text-primary mb-6 flex items-center gap-2\">\n                        <Truck size={18} className=\"text-gray-400\" /> Order Timeline\n                    </h3>\n\n                    <div className=\"space-y-6 pl-4 border-l-2 border-subtle relative\">\n                        {/* Created At */}\n                        <div className=\"relative\">\n                            <div className={`absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white dark:border-card box-content bg-green-500 shadow-[0_0_0_3px_rgba(34,197,94,0.1)]`} />\n                            <p className=\"text-sm font-bold text-primary\">Order Placed</p>\n                            <p className=\"text-xs text-gray-500\" suppressHydrationWarning>{new Date(order.created_at).toLocaleString()}</p>\n                        </div>\n\n                        {/* Dynamic History */}\n                        {order.status_history && order.status_history.map((hist, idx) => {\n                            let dotColor = 'bg-gray-400';\n                            if (hist.status === 'processing') dotColor = 'bg-purple-500';\n                            if (hist.status === 'shipped') dotColor = 'bg-blue-500';\n                            if (hist.status === 'delivered') dotColor = 'bg-green-500';\n                            if (hist.status === 'cancelled') dotColor = 'bg-red-500';\n\n                            const isLast = idx === order.status_history!.length - 1;\n                            const shadow = isLast ? `shadow-[0_0_0_3px_rgba(0,0,0,0.1)]` : '';\n\n                            // Determine specific text for cancellation\n                            let displayText = hist.status.replace(/_/g, ' ');\n                            if (hist.status === 'cancelled') {\n                                if (hist.updated_by === 'Customer') {\n                                    displayText = 'Cancelled by Customer';\n                                } else {\n                                    displayText = 'Cancelled by Bronc';\n                                }\n                            }\n\n                            return (\n                                <div key={idx} className=\"relative\">\n                                    <div className={`absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white dark:border-card box-content ${dotColor} ${shadow}`} />\n                                    <p className=\"text-sm font-bold text-primary capitalize\">{displayText}</p>\n                                    <p className=\"text-xs text-gray-500\" suppressHydrationWarning>{new Date(hist.timestamp).toLocaleString()}</p>\n                                </div>\n                            )\n                        })}\n\n                        {/* Legacy Support if no history */}\n                        {(!order.status_history || order.status_history.length === 0) && order.status !== 'pending' && (\n                            <div className=\"relative\">\n                                <div className={`absolute -left-[21px] top-1 w-3 h-3 rounded-full border-2 border-white dark:border-card box-content ${getStatusColor(order.status).split(' ')[0].replace('100', '500')}`} />\n                                <p className=\"text-sm font-bold text-primary capitalize\">{order.status}</p>\n                                <p className=\"text-xs text-gray-500\">Current Status</p>\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {/* Items */}\n                <div className=\"bg-card rounded-2xl border border-subtle shadow-sm overflow-hidden mb-4\">\n                    <div className=\"p-4 border-b border-subtle font-bold text-primary\">Items ({order.items?.length || 0})</div>\n                    <div className=\"divide-y divide-subtle\">\n                        {order.items?.map((item, i) => {\n                            const meta = item.metadata;\n                            return (\n                                <div key={i} className=\"p-4 flex gap-4\">\n                                    <div className=\"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 flex-shrink-0\">\n                                        <img src={meta?.image_url || item.image_url} alt={item.name} className=\"w-full h-full object-cover\" />\n                                    </div>\n                                    <div className=\"flex-1\">\n                                        <h4 className=\"font-bold text-primary\">{item.name}</h4>\n                                        <p className=\"text-sm text-gray-500\">Qty: {item.quantity}</p>\n                                        {meta?.is_custom && (\n                                            <span className=\"text-[10px] bg-purple-50 text-purple-700 px-2 py-0.5 rounded font-bold uppercase mt-1 inline-block\">\n                                                Customized\n                                            </span>\n                                        )}\n                                    </div>\n                                    <div className=\"font-bold text-primary\">\n                                        {formatPrice(item.price * item.quantity)}\n                                    </div>\n                                </div>\n                            )\n                        })}\n                    </div>\n\n                    {/* Detailed Breakdown */}\n                    <div className=\"p-4 bg-gray-50 dark:bg-slate-800/50 space-y-2\">\n                        {/* Calculate subtotal from items */}\n                        {(() => {\n                            // Invoice Logic Matching\n                            const itemsTotal = order.items?.reduce((sum, item) => sum + (item.price * item.quantity), 0) || 0;\n\n                            // Tax Calculation (Additive)\n                            // Using flat 18% to match Invoice's output for this order.\n                            const totalTax = itemsTotal * 0.18;\n\n                            // Coupon - Strict match to Invoice (only coupon_discount)\n                            const coupon = order.discount_amount || order.coupon_discount || 0;\n                            const wallet = order.wallet_amount_used || 0;\n\n                            // Derive Shipping\n                            // Shipping = Total - (Items + Tax) + Coupon + Wallet\n                            const calculatedGross = itemsTotal + totalTax;\n                            const rawShipping = order.total_amount - calculatedGross + coupon + wallet;\n                            const derivedShipping = Math.max(0, parseFloat(rawShipping.toFixed(2)));\n\n                            const state = order.shipping_address?.state?.toLowerCase() || '';\n                            const isInterState = !(state === 'karnataka' || state === 'ka');\n\n                            return (\n                                <>\n                                    <div className=\"flex justify-between text-sm text-gray-500\">\n                                        <span>Subtotal</span>\n                                        <span>{formatPrice(itemsTotal)}</span>\n                                    </div>\n\n                                    {derivedShipping > 0 && (\n                                        <div className=\"flex justify-between text-sm text-gray-500\">\n                                            <span>Shipping</span>\n                                            <span>{formatPrice(derivedShipping)}</span>\n                                        </div>\n                                    )}\n\n                                    {coupon > 0 && (\n                                        <div className=\"flex justify-between text-sm text-green-600\">\n                                            <span>Coupon Discount</span>\n                                            <span>-{formatPrice(coupon)}</span>\n                                        </div>\n                                    )}\n\n                                    {wallet > 0 && (\n                                        <div className=\"flex justify-between text-sm text-green-600\">\n                                            <span>Wallet Used</span>\n                                            <span>-{formatPrice(wallet)}</span>\n                                        </div>\n                                    )}\n\n                                    <div className=\"border-t border-subtle pt-2 pb-2 my-1\">\n                                        <div className=\"flex justify-between text-xs text-gray-500\">\n                                            <span>Taxable Value</span>\n                                            <span>{formatPrice(parseFloat(itemsTotal.toFixed(2)))}</span>\n                                        </div>\n                                        {isInterState ? (\n                                            <div className=\"flex justify-between text-xs text-gray-500\">\n                                                <span>IGST (18%)</span>\n                                                <span>{formatPrice(parseFloat(totalTax.toFixed(2)))}</span>\n                                            </div>\n                                        ) : (\n                                            <>\n                                                <div className=\"flex justify-between text-xs text-gray-500\">\n                                                    <span>CGST (9%)</span>\n                                                    <span>{formatPrice(parseFloat((totalTax / 2).toFixed(2)))}</span>\n                                                </div>\n                                                <div className=\"flex justify-between text-xs text-gray-500\">\n                                                    <span>SGST (9%)</span>\n                                                    <span>{formatPrice(parseFloat((totalTax / 2).toFixed(2)))}</span>\n                                                </div>\n                                            </>\n                                        )}\n                                    </div>\n\n                                    <div className=\"flex justify-between items-center border-t border-subtle pt-2 mt-2\">\n                                        <span className=\"font-bold text-primary\">Total Paid</span>\n                                        <span className=\"text-xl font-bold text-primary\">{formatPrice(order.total_amount)}</span>\n                                    </div>\n                                </>\n                            );\n                        })()}\n                    </div>\n                </div>\n\n                {/* Info Grid */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {/* Shipping */}\n                    <div className=\"bg-card p-6 rounded-2xl border border-subtle shadow-sm\">\n                        <h3 className=\"font-bold text-primary mb-4 flex items-center gap-2\">\n                            <MapPin size={18} className=\"text-gray-400\" /> Shipping Details\n                        </h3>\n                        <p className=\"font-bold text-primary text-sm\">\n                            {order.shipping_address?.firstName} {order.shipping_address?.lastName}\n                        </p>\n                        <p className=\"text-sm text-gray-500 leading-relaxed mt-1\">\n                            {order.shipping_address?.address}<br />\n                            {order.shipping_address?.city} - {order.shipping_address?.pincode}\n                        </p>\n                        <p className=\"text-sm text-gray-500 mt-2\">{order.shipping_address?.phone}</p>\n                    </div>\n\n                    {/* Payment */}\n                    <div className=\"bg-card p-6 rounded-2xl border border-subtle shadow-sm\">\n                        <h3 className=\"font-bold text-primary mb-4 flex items-center gap-2\">\n                            <CreditCard size={18} className=\"text-gray-400\" /> Payment Info\n                        </h3>\n                        <div className=\"flex justify-between items-center mb-2\">\n                            <span className=\"text-sm text-gray-500\">Method</span>\n                            <span className=\"text-sm font-bold text-primary capitalize\">{order.payment_method}</span>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                            <span className=\"text-sm text-gray-500\">Status</span>\n                            <span className={`text-xs font-bold px-2 py-0.5 rounded-full uppercase ${order.payment_status === 'paid' ? 'bg-green-100 text-green-700' : 'bg-amber-100 text-amber-700'}`}>\n                                {order.payment_status}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"mt-8 flex justify-center\">\n                    <Link href=\"/profile/support\" className=\"text-coral-500 font-bold text-sm hover:underline\">Need Help with this Order?</Link>\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/orders/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Package' is defined but never used.","line":6,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Package"},"fix":{"range":[160,169],"text":""},"desc":"Remove unused variable \"Package\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[538,541],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[538,541],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":35,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":32}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft, Package, ChevronRight, Loader2, ShoppingBag, Clock, PackageCheck, Truck, XCircle } from 'lucide-react';\nimport { useUI } from '@/context/UIContext';\nimport { createClient } from '@/utils/supabase/client';\nimport { cancelOrder } from '@/actions/orderActions';\n\ninterface Order {\n    id: string;\n    created_at: string;\n    status: string;\n    total_amount: number;\n    items?: any[];\n}\n\nexport default function OrdersPage() {\n    const { formatPrice } = useUI();\n    const [orders, setOrders] = useState<Order[]>([]);\n    const [loading, setLoading] = useState(true);\n    const router = useRouter();\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchOrders = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n\n            if (!user) {\n                router.push('/login');\n                return;\n            }\n\n            const { data, error } = await supabase\n                .from('orders')\n                .select('*, items:order_items(name, quantity, image_url)')\n                .eq('user_id', user.id)\n                .order('created_at', { ascending: false });\n\n            if (data) {\n                setOrders(data);\n            }\n            setLoading(false);\n        };\n\n        fetchOrders();\n    }, [supabase, router]);\n\n    const getStatusColor = (status: string) => {\n        switch (status) {\n            case 'delivered': return 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400';\n            case 'shipped': return 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400';\n            case 'processing': return 'bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400';\n            case 'cancelled': return 'bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400';\n            default: return 'bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400';\n        }\n    };\n\n    const getStatusIcon = (status: string) => {\n        switch (status) {\n            case 'delivered': return PackageCheck;\n            case 'shipped': return Truck;\n            case 'cancelled': return XCircle;\n            default: return Clock;\n        }\n    };\n\n    const formatDate = (dateString: string) => {\n        return new Date(dateString).toLocaleDateString('en-IN', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric'\n        });\n    };\n\n    if (loading) {\n        return (\n            <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 flex items-center justify-center\">\n                <Loader2 className=\"animate-spin text-navy-900 dark:text-white\" size={32} />\n            </main>\n        );\n    }\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"max-w-[800px] mx-auto px-4 md:px-0\">\n                {/* Header */}\n                <div className=\"flex items-center gap-4 mb-6\">\n                    <Link href=\"/profile\" className=\"p-2 rounded-full bg-white dark:bg-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors shadow-sm\">\n                        <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                    </Link>\n                    <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white font-heading\">My Orders</h1>\n                </div>\n\n                {/* Empty State */}\n                {orders.length === 0 ? (\n                    <div className=\"bg-white dark:bg-white/5 p-12 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm text-center\">\n                        <ShoppingBag className=\"mx-auto text-gray-300 dark:text-gray-600 mb-4\" size={48} />\n                        <h2 className=\"text-xl font-bold text-navy-900 dark:text-white mb-2\">No orders yet</h2>\n                        <p className=\"text-gray-500 dark:text-gray-400 mb-6\">Start exploring our collection and place your first order!</p>\n                        <Link\n                            href=\"/shop\"\n                            className=\"inline-block bg-navy-900 dark:bg-white text-white dark:text-black font-bold py-3 px-8 rounded-xl hover:bg-coral-500 dark:hover:bg-gray-200 transition-colors\"\n                        >\n                            Start Shopping\n                        </Link>\n                    </div>\n                ) : (\n                    /* Orders List */\n                    <div className=\"space-y-4\">\n                        {orders.map((order) => {\n                            const StatusIcon = getStatusIcon(order.status);\n                            const statusColor = getStatusColor(order.status);\n                            const itemCount = order.items?.length || 0;\n                            const firstItemName = order.items?.[0]?.name || 'Order';\n\n                            return (\n                                <Link\n                                    key={order.id}\n                                    href={`/profile/orders/${order.id}`}\n                                    className=\"block bg-white dark:bg-white/5 p-5 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm hover:shadow-md transition-shadow cursor-pointer group\"\n                                >\n                                    <div className=\"flex justify-between items-start mb-4\">\n                                        <div className=\"flex items-center gap-3\">\n                                            <div className={`w-10 h-10 rounded-full flex items-center justify-center ${statusColor}`}>\n                                                <StatusIcon size={20} />\n                                            </div>\n                                            <div>\n                                                <h3 className=\"font-bold text-navy-900 dark:text-white\">\n                                                    {firstItemName}\n                                                    {itemCount > 1 && (\n                                                        <span className=\"text-gray-400 font-normal\"> + {itemCount - 1} items</span>\n                                                    )}\n                                                </h3>\n                                                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                    #{order.id.slice(0, 8)} â€¢ {formatDate(order.created_at)}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <span className={`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${statusColor}`}>\n                                            {order.status}\n                                        </span>\n                                    </div>\n\n                                    <div className=\"flex justify-between items-center pt-4 border-t border-gray-50 dark:border-white/10\">\n                                        <div className=\"text-sm font-bold text-navy-900 dark:text-white\">\n                                            Total: {formatPrice(order.total_amount)}\n                                        </div>\n                                        <div className=\"flex items-center gap-4\">\n                                            {(() => {\n                                                const created = new Date(order.created_at).getTime();\n                                                const now = new Date().getTime();\n                                                const diffHours = (now - created) / (1000 * 60 * 60);\n                                                const isCancellable = diffHours < 6 && !['delivered', 'shipped', 'cancelled'].includes(order.status);\n\n                                                if (isCancellable) {\n                                                    return (\n                                                        <button\n                                                            onClick={async (e) => {\n                                                                e.preventDefault();\n                                                                if (confirm('Are you sure you want to cancel this order?')) {\n                                                                    const res = await cancelOrder(order.id);\n                                                                    if (res.success) {\n                                                                        // Optimistic update\n                                                                        setOrders(prev => prev.map(o => o.id === order.id ? { ...o, status: 'cancelled' } : o));\n                                                                        alert('Order cancelled successfully.');\n                                                                    } else {\n                                                                        alert(res.error || 'Failed to cancel order.');\n                                                                    }\n                                                                }\n                                                            }}\n                                                            className=\"text-xs font-bold text-red-500 hover:bg-red-50 px-3 py-1.5 rounded-lg border border-red-200 transition-colors z-10 relative\"\n                                                        >\n                                                            Cancel Order\n                                                        </button>\n                                                    );\n                                                }\n                                                return null;\n                                            })()}\n                                            <div className=\"flex items-center gap-1 text-xs font-bold text-coral-500 group-hover:underline\">\n                                                View Details <ChevronRight size={14} />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Link>\n                            );\n                        })}\n                    </div>\n                )}\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/payments/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":5,"column":33,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Plus"},"fix":{"range":[102,108],"text":""},"desc":"Remove unused variable \"Plus\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Trash2' is defined but never used.","line":5,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":45,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Trash2"},"fix":{"range":[108,116],"text":""},"desc":"Remove unused variable \"Trash2\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, CreditCard, Plus, Trash2 } from 'lucide-react';\n\nexport default function PaymentsPage() {\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"max-w-[800px] mx-auto px-4 md:px-0\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between mb-8\">\n                    <div className=\"flex items-center gap-4\">\n                        <Link href=\"/profile\" className=\"p-2 rounded-full bg-white dark:bg-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors shadow-sm\">\n                            <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                        </Link>\n                        <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white font-heading\">Payment Methods</h1>\n                    </div>\n                </div>\n\n                <div className=\"bg-white dark:bg-white/5 p-8 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm text-center\">\n                    <div className=\"w-16 h-16 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center text-green-600 dark:text-green-400 mx-auto mb-6\">\n                        <CreditCard size={32} />\n                    </div>\n                    <h2 className=\"text-xl font-bold text-navy-900 dark:text-white mb-3\">Secure Payments</h2>\n                    <p className=\"text-gray-500 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed\">\n                        For your security, we do not store your credit card or payment details on our servers. All transactions are processed securely through our trusted payment partners.\n                    </p>\n\n                    <div className=\"flex flex-wrap justify-center gap-4 opacity-70\">\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-white/10 rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-white/5\">UPI</div>\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-white/10 rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-white/5\">VISA</div>\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-white/10 rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-white/5\">Mastercard</div>\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-white/10 rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-white/5\">Net Banking</div>\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-white/10 rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-white/5\">Wallets</div>\n                    </div>\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/security/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":5,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":58,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[140,154],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":5,"column":80,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":91,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertCircle"},"fix":{"range":[174,187],"text":""},"desc":"Remove unused variable \"AlertCircle\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[914,917],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[914,917],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1217,1220],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1217,1220],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchSecurityData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/profile/security/page.tsx:30:9\n  28 |\n  29 |     useEffect(() => {\n> 30 |         fetchSecurityData();\n     |         ^^^^^^^^^^^^^^^^^ `fetchSecurityData` accessed before it is declared\n  31 |     }, []);\n  32 |\n  33 |     const fetchSecurityData = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/profile/security/page.tsx:33:5\n  31 |     }, []);\n  32 |\n> 33 |     const fetchSecurityData = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 34 |         const factorRes = await getMFAFactors();\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 35 |         if (factorRes.success) setMfaFactors(factorRes.factors || []);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 36 |\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 37 |         const sessionRes = await getActiveSessions();\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 38 |         if (sessionRes.success) setSessions(sessionRes.sessions || []);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 39 |     };\n     | ^^^^^^^ `fetchSecurityData` is declared here\n  40 |\n  41 |     // --- Password Handlers ---\n  42 |     const handleUpdatePassword = async () => {","line":30,"column":9,"nodeType":null,"endLine":30,"endColumn":26}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, Shield, Key, Smartphone, ChevronRight, Eye, EyeOff, Check, AlertCircle, Loader2, QrCode, Trash2 } from 'lucide-react';\nimport { updatePassword, enrollMFA, verifyMFA, unenrollMFA, getMFAFactors, getActiveSessions } from '@/actions/securityActions';\nimport { useToast } from '@/context/ToastContext';\nimport QRCode from 'react-qr-code';\n\nexport default function SecurityPage() {\n    const { addToast } = useToast();\n    const [loading, setLoading] = useState(false);\n\n    // Password State\n    const [showPasswordUpdate, setShowPasswordUpdate] = useState(false);\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [showPw, setShowPw] = useState(false);\n\n    // MFA State\n    const [mfaFactors, setMfaFactors] = useState<any[]>([]);\n    const [showMFAEnroll, setShowMFAEnroll] = useState(false);\n    const [qrCodeData, setQrCodeData] = useState<{ id: string, qr: string, secret: string } | null>(null);\n    const [verifyCode, setVerifyCode] = useState('');\n\n    // Session State\n    const [sessions, setSessions] = useState<any[]>([]);\n\n    useEffect(() => {\n        fetchSecurityData();\n    }, []);\n\n    const fetchSecurityData = async () => {\n        const factorRes = await getMFAFactors();\n        if (factorRes.success) setMfaFactors(factorRes.factors || []);\n\n        const sessionRes = await getActiveSessions();\n        if (sessionRes.success) setSessions(sessionRes.sessions || []);\n    };\n\n    // --- Password Handlers ---\n    const handleUpdatePassword = async () => {\n        if (!newPassword) return addToast('Please enter a new password', 'error');\n        if (newPassword.length < 6) return addToast('Password must be at least 6 characters', 'error');\n        if (newPassword !== confirmPassword) return addToast('Passwords do not match', 'error');\n\n        setLoading(true);\n        const res = await updatePassword(newPassword);\n        setLoading(false);\n\n        if (res.success) {\n            addToast('Password updated successfully', 'success');\n            setShowPasswordUpdate(false);\n            setNewPassword('');\n            setConfirmPassword('');\n        } else {\n            addToast(res.error || 'Failed to update password', 'error');\n        }\n    };\n\n    // --- MFA Handlers ---\n    const startMFAEnrollment = async () => {\n        setLoading(true);\n        const res = await enrollMFA();\n        setLoading(false);\n\n        if (res.success && res.qrCode && res.factorId) {\n            setQrCodeData({ id: res.factorId, qr: res.qrCode, secret: res.secret });\n            setShowMFAEnroll(true);\n        } else {\n            addToast(res.error || 'Failed to start enrollment', 'error');\n        }\n    };\n\n    const confirmMFAEnrollment = async () => {\n        if (!verifyCode || !qrCodeData) return;\n        setLoading(true);\n        const res = await verifyMFA(qrCodeData.id, verifyCode);\n        setLoading(false);\n\n        if (res.success) {\n            addToast('Two-Factor Authentication Enabled', 'success');\n            setShowMFAEnroll(false);\n            setQrCodeData(null);\n            setVerifyCode('');\n            fetchSecurityData();\n        } else {\n            addToast(res.error || 'Invalid code', 'error');\n        }\n    };\n\n    const handleUnenrollMFA = async (factorId: string) => {\n        if (!confirm('Are you sure you want to disable 2FA? This will lower your account security.')) return;\n\n        setLoading(true);\n        const res = await unenrollMFA(factorId);\n        setLoading(false);\n\n        if (res.success) {\n            addToast('2FA Disabled', 'success');\n            fetchSecurityData();\n        } else {\n            addToast(res.error || 'Failed to disable 2FA', 'error');\n        }\n    };\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12 transition-colors duration-300\">\n            <div className=\"container-premium max-w-[800px] mx-auto px-4 md:px-0\">\n\n                {/* Header */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                    <Link href=\"/profile\" className=\"w-10 h-10 rounded-full bg-white dark:bg-white/10 flex items-center justify-center text-navy-900 dark:text-white border border-gray-100 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors\">\n                        <ArrowLeft size={20} />\n                    </Link>\n                    <div>\n                        <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white\">Login & Security</h1>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Manage your password and account security.</p>\n                    </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"space-y-6\">\n\n                    {/* Password Section */}\n                    <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-6 shadow-sm transition-colors\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                            <div className=\"w-10 h-10 rounded-full bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center\">\n                                <Key size={20} />\n                            </div>\n                            <h2 className=\"text-lg font-bold text-navy-900 dark:text-white\">Password</h2>\n                        </div>\n\n                        {!showPasswordUpdate ? (\n                            <div className=\"flex items-center justify-between\">\n                                <div>\n                                    <div className=\"font-bold text-navy-900 dark:text-white\">Change Password</div>\n                                    <div className=\"text-sm text-gray-500 dark:text-gray-400\">Regularly updating your password improves security.</div>\n                                </div>\n                                <button\n                                    onClick={() => setShowPasswordUpdate(true)}\n                                    className=\"px-4 py-2 rounded-lg border border-gray-200 dark:border-white/20 text-sm font-bold text-navy-900 dark:text-white hover:bg-gray-50 dark:hover:bg-white/10 transition-colors\"\n                                >\n                                    Update\n                                </button>\n                            </div>\n                        ) : (\n                            <div className=\"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                <div className=\"space-y-3\">\n                                    <div className=\"relative\">\n                                        <input\n                                            type={showPw ? 'text' : 'password'}\n                                            placeholder=\"New Password\"\n                                            value={newPassword}\n                                            onChange={(e) => setNewPassword(e.target.value)}\n                                            className=\"w-full bg-gray-50 dark:bg-black/40 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:border-navy-900 dark:focus:border-white/50 transition-colors text-navy-900 dark:text-white\"\n                                        />\n                                        <button onClick={() => setShowPw(!showPw)} className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-navy-900 dark:hover:text-white\">\n                                            {showPw ? <EyeOff size={16} /> : <Eye size={16} />}\n                                        </button>\n                                    </div>\n                                    <input\n                                        type={showPw ? 'text' : 'password'}\n                                        placeholder=\"Confirm New Password\"\n                                        value={confirmPassword}\n                                        onChange={(e) => setConfirmPassword(e.target.value)}\n                                        className=\"w-full bg-gray-50 dark:bg-black/40 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 outline-none focus:border-navy-900 dark:focus:border-white/50 transition-colors text-navy-900 dark:text-white\"\n                                    />\n                                </div>\n                                <div className=\"flex gap-3 pt-2\">\n                                    <button\n                                        onClick={handleUpdatePassword}\n                                        disabled={loading}\n                                        className=\"flex-1 bg-navy-900 dark:bg-white text-white dark:text-black font-bold py-3 rounded-xl hover:opacity-90 transition-opacity flex items-center justify-center gap-2\"\n                                    >\n                                        {loading ? <Loader2 size={16} className=\"animate-spin\" /> : <Check size={16} />}\n                                        Update Password\n                                    </button>\n                                    <button\n                                        onClick={() => setShowPasswordUpdate(false)}\n                                        className=\"px-6 py-3 rounded-xl border border-gray-200 dark:border-white/10 font-bold text-gray-500 hover:bg-gray-50 dark:hover:bg-white/5\"\n                                    >\n                                        Cancel\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* 2FA Section */}\n                    <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-6 shadow-sm transition-colors\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                            <div className=\"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center\">\n                                <Smartphone size={20} />\n                            </div>\n                            <h2 className=\"text-lg font-bold text-navy-900 dark:text-white\">Two-Factor Authentication</h2>\n                        </div>\n\n                        {mfaFactors.length > 0 ? (\n                            <div className=\"space-y-4\">\n                                <div className=\"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-900/30 rounded-xl\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"w-8 h-8 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-700 dark:text-green-300\">\n                                            <Shield size={16} />\n                                        </div>\n                                        <div>\n                                            <div className=\"font-bold text-green-800 dark:text-green-300\">MFA Enabled</div>\n                                            <div className=\"text-xs text-green-600 dark:text-green-400\">Your account is protected with an authenticator app.</div>\n                                        </div>\n                                    </div>\n                                    <button\n                                        onClick={() => handleUnenrollMFA(mfaFactors[0].id)}\n                                        className=\"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                                        title=\"Disable MFA\"\n                                    >\n                                        <Trash2 size={18} />\n                                    </button>\n                                </div>\n                            </div>\n                        ) : (\n                            !showMFAEnroll ? (\n                                <div className=\"flex items-center justify-between\">\n                                    <div>\n                                        <div className=\"font-bold text-navy-900 dark:text-white\">Authenticator App</div>\n                                        <div className=\"text-sm text-gray-500 dark:text-gray-400\">Secure your account with Google Authenticator or similar apps.</div>\n                                    </div>\n                                    <button\n                                        onClick={startMFAEnrollment}\n                                        disabled={loading}\n                                        className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-navy-900 dark:bg-white text-white dark:text-black text-sm font-bold hover:opacity-90 transition-opacity\"\n                                    >\n                                        {loading ? <Loader2 size={16} className=\"animate-spin\" /> : <QrCode size={16} />}\n                                        Setup\n                                    </button>\n                                </div>\n                            ) : (\n                                <div className=\"space-y-6 animate-in fade-in slide-in-from-top-2 duration-300\">\n                                    <div className=\"p-4 bg-gray-50 dark:bg-black/40 rounded-xl border border-gray-100 dark:border-white/10 flex flex-col md:flex-row gap-6 items-center\">\n                                        {qrCodeData && (\n                                            <div className=\"bg-white p-2 rounded-lg\">\n                                                <QRCode value={qrCodeData.qr} size={140} />\n                                            </div>\n                                        )}\n                                        <div className=\"flex-1 space-y-4\">\n                                            <div>\n                                                <h3 className=\"font-bold text-navy-900 dark:text-white mb-1\">Scan QR Code</h3>\n                                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">Open your authenticator app (Google Authenticator, Authy, etc.) and scan this code.</p>\n                                            </div>\n                                            <div className=\"space-y-2\">\n                                                <label className=\"text-xs font-bold uppercase text-gray-500\">Enter Verification Code</label>\n                                                <div className=\"flex gap-2\">\n                                                    <input\n                                                        type=\"text\"\n                                                        placeholder=\"000 000\"\n                                                        value={verifyCode}\n                                                        onChange={(e) => setVerifyCode(e.target.value.replace(/\\D/g, '').slice(0, 6))}\n                                                        className=\"flex-1 bg-white dark:bg-black/40 border border-gray-200 dark:border-white/10 rounded-lg px-4 py-2 outline-none focus:border-navy-900 dark:focus:border-white/50 text-center tracking-widest font-mono text-lg\"\n                                                    />\n                                                    <button\n                                                        onClick={confirmMFAEnrollment}\n                                                        disabled={loading || verifyCode.length !== 6}\n                                                        className=\"bg-navy-900 dark:bg-white text-white dark:text-black font-bold px-6 rounded-lg disabled:opacity-50\"\n                                                    >\n                                                        {loading ? <Loader2 size={18} className=\"animate-spin\" /> : 'Verify'}\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <button\n                                        onClick={() => setShowMFAEnroll(false)}\n                                        className=\"w-full py-2 text-sm text-gray-500 hover:text-navy-900 dark:hover:text-white\"\n                                    >\n                                        Cancel Setup\n                                    </button>\n                                </div>\n                            )\n                        )}\n                    </div>\n\n                    {/* Devices Section */}\n                    <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-6 shadow-sm transition-colors\">\n                        <div className=\"flex items-center gap-3 mb-6\">\n                            <div className=\"w-10 h-10 rounded-full bg-gray-50 dark:bg-white/10 text-gray-600 dark:text-gray-300 flex items-center justify-center\">\n                                <Shield size={20} />\n                            </div>\n                            <h2 className=\"text-lg font-bold text-navy-900 dark:text-white\">Login Sessions</h2>\n                        </div>\n\n                        <div className=\"space-y-4\">\n                            {/* Always show current session */}\n                            <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-xl\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className=\"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]\" />\n                                    <div>\n                                        <div className=\"font-bold text-sm text-navy-900 dark:text-white\">Current Session</div>\n                                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">Active Now</div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Show detailed sessions if available (placeholder mainly as session list is restricted) */}\n                            {sessions.length > 0 && sessions.map((s, i) => (\n                                <div key={i} className=\"flex items-center justify-between p-3 rounded-xl border border-gray-100 dark:border-white/10\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600\" />\n                                        <div>\n                                            <div className=\"font-bold text-sm text-navy-900 dark:text-white\">Other Session</div>\n                                            <div className=\"text-xs text-gray-500 dark:text-gray-400\">Last active: {new Date(s.last_sign_in_at).toLocaleDateString()}</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n\n                            {sessions.length === 0 && (\n                                <p className=\"text-xs text-gray-400 italic text-center pt-2\">\n                                    Detailed session history is managed by your provider.\n                                </p>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/support/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Phone' is defined but never used.","line":5,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":32,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Phone"},"fix":{"range":[110,117],"text":""},"desc":"Remove unused variable \"Phone\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, Mail, Phone, ChevronDown, ChevronUp, MessageCircle, HelpCircle } from 'lucide-react';\n\ninterface FAQ {\n    question: string;\n    answer: string;\n}\n\nconst faqs: FAQ[] = [\n    {\n        question: 'How do I track my order?',\n        answer: 'Once your order is shipped, you will receive an email with a tracking link. You can also view your order status anytime by going to My Profile â†’ My Orders and clicking on the specific order.'\n    },\n    {\n        question: 'What is the return policy?',\n        answer: 'We have a strict No Return Policy on all products. All sales are final. If you receive a damaged or defective item, please contact us within 3 days of delivery for an exchange.'\n    },\n    {\n        question: 'Do you ship internationally?',\n        answer: 'Currently, we ship within India only. We are working on expanding our shipping to international locations. Sign up for our newsletter to be notified when we launch international shipping.'\n    },\n    {\n        question: 'How can I change my shipping address?',\n        answer: 'You can update your shipping address during checkout before placing an order. If you need to change the address for an already placed order, please contact us immediately at support@broncstudio.com.'\n    },\n    {\n        question: 'What payment methods do you accept?',\n        answer: 'We accept all major credit/debit cards (Visa, Mastercard, RuPay), UPI payments, Net Banking, and Cash on Delivery (COD) for select locations.'\n    },\n    {\n        question: 'How long does delivery take?',\n        answer: 'Standard delivery takes 5-7 business days. Express delivery (available in select cities) takes 2-3 business days. You will see the estimated delivery date at checkout.'\n    }\n];\n\nexport default function SupportPage() {\n    const [expandedIndex, setExpandedIndex] = useState<number | null>(null);\n\n    const toggleFAQ = (index: number) => {\n        setExpandedIndex(expandedIndex === index ? null : index);\n    };\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"max-w-[800px] mx-auto px-4 md:px-0\">\n                {/* Header */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                    <Link href=\"/profile\" className=\"p-2 rounded-full bg-white dark:bg-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors shadow-sm\">\n                        <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                    </Link>\n                    <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white font-heading\">Help & Support</h1>\n                </div>\n\n                {/* Contact Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8\">\n                    <a\n                        href=\"mailto:support@broncstudio.com\"\n                        className=\"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm hover:shadow-md transition-all flex flex-col items-center text-center gap-4 group\"\n                    >\n                        <div className=\"w-16 h-16 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                            <Mail size={32} />\n                        </div>\n                        <div>\n                            <h3 className=\"text-lg font-bold text-navy-900 dark:text-white\">Email Support</h3>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">support@broncstudio.com</p>\n                            <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">Response within 24 hours</p>\n                        </div>\n                    </a>\n\n                    <a\n                        href=\"https://wa.me/919876543210\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm hover:shadow-md transition-all flex flex-col items-center text-center gap-4 group\"\n                    >\n                        <div className=\"w-16 h-16 rounded-full bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                            <MessageCircle size={32} />\n                        </div>\n                        <div>\n                            <h3 className=\"text-lg font-bold text-navy-900 dark:text-white\">WhatsApp</h3>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Chat with us</p>\n                            <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">Mon-Sat, 9am - 7pm</p>\n                        </div>\n                    </a>\n                </div>\n\n                {/* FAQ Section */}\n                <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-6 shadow-sm\">\n                    <div className=\"flex items-center gap-2 mb-6\">\n                        <HelpCircle className=\"text-navy-900 dark:text-white\" size={24} />\n                        <h3 className=\"font-bold text-navy-900 dark:text-white text-lg\">Frequently Asked Questions</h3>\n                    </div>\n\n                    <div className=\"space-y-3\">\n                        {faqs.map((faq, index) => (\n                            <div\n                                key={index}\n                                className={`border rounded-xl transition-all ${expandedIndex === index\n                                    ? 'border-navy-900 dark:border-white bg-navy-50/30 dark:bg-white/5'\n                                    : 'border-gray-100 dark:border-white/10 hover:border-gray-200 dark:hover:border-white/20'\n                                    }`}\n                            >\n                                <button\n                                    onClick={() => toggleFAQ(index)}\n                                    className=\"w-full flex justify-between items-center p-4 text-left\"\n                                >\n                                    <span className={`text-sm font-bold ${expandedIndex === index ? 'text-navy-900 dark:text-white' : 'text-gray-700 dark:text-gray-300'\n                                        }`}>\n                                        {faq.question}\n                                    </span>\n                                    {expandedIndex === index ? (\n                                        <ChevronUp size={18} className=\"text-navy-900 dark:text-white flex-shrink-0\" />\n                                    ) : (\n                                        <ChevronDown size={18} className=\"text-gray-400 dark:text-gray-500 flex-shrink-0\" />\n                                    )}\n                                </button>\n\n                                {expandedIndex === index && (\n                                    <div className=\"px-4 pb-4\">\n                                        <p className=\"text-sm text-gray-600 dark:text-gray-400 leading-relaxed\">\n                                            {faq.answer}\n                                        </p>\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Still need help? */}\n                <div className=\"mt-8 text-center\">\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm\">\n                        Still need help?{' '}\n                        <a\n                            href=\"mailto:support@broncstudio.com\"\n                            className=\"text-coral-500 font-bold hover:underline\"\n                        >\n                            Contact us directly\n                        </a>\n                    </p>\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/wallet/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CreditCard' is defined but never used.","line":4,"column":56,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":66,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CreditCard"},"fix":{"range":[120,132],"text":""},"desc":"Remove unused variable \"CreditCard\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'processWalletTransaction' is defined but never used.","line":5,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":70,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"processWalletTransaction"},"fix":{"range":[216,242],"text":""},"desc":"Remove unused variable \"processWalletTransaction\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'addToast' is assigned a value but never used.","line":11,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[576,579],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[576,579],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`fetchWalletData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/profile/wallet/page.tsx:19:9\n  17 |\n  18 |     useEffect(() => {\n> 19 |         fetchWalletData();\n     |         ^^^^^^^^^^^^^^^ `fetchWalletData` accessed before it is declared\n  20 |     }, []);\n  21 |\n  22 |     const fetchWalletData = async () => {\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/profile/wallet/page.tsx:22:5\n  20 |     }, []);\n  21 |\n> 22 |     const fetchWalletData = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 23 |         setLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 24 |         const [balanceData, historyData] = await Promise.all([\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 25 |             getWalletBalance(),\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 26 |             getWalletHistory()\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 27 |         ]);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 28 |         setBalance(balanceData.balance);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |         setHistory(historyData);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |         setLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 31 |     };\n     | ^^^^^^^ `fetchWalletData` is declared here\n  32 |\n  33 |     const handleAddFunds = async (e: React.FormEvent) => {\n  34 |         e.preventDefault();","line":19,"column":9,"nodeType":null,"endLine":19,"endColumn":24}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { Wallet, History, ArrowUpRight, ArrowDownLeft, CreditCard, Plus, ArrowLeft } from 'lucide-react';\nimport { getWalletBalance, getWalletHistory, processWalletTransaction } from '@/actions/walletActions';\nimport { formatPrice } from '@/utils/formatPrice';\nimport Link from 'next/link';\nimport { useToast } from '@/context/ToastContext';\n\nexport default function WalletPage() {\n    const { addToast } = useToast();\n    const [balance, setBalance] = useState(0);\n    const [history, setHistory] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [addingFunds, setAddingFunds] = useState(false);\n    const [amountToAdd, setAmountToAdd] = useState('');\n\n    useEffect(() => {\n        fetchWalletData();\n    }, []);\n\n    const fetchWalletData = async () => {\n        setLoading(true);\n        const [balanceData, historyData] = await Promise.all([\n            getWalletBalance(),\n            getWalletHistory()\n        ]);\n        setBalance(balanceData.balance);\n        setHistory(historyData);\n        setLoading(false);\n    };\n\n    const handleAddFunds = async (e: React.FormEvent) => {\n        e.preventDefault();\n        const value = parseFloat(amountToAdd);\n        if (isNaN(value) || value < 100) {\n            alert(\"Minimum top-up amount is â‚¹100\");\n            return;\n        }\n\n        // Simulate Payment Gateway Success\n        // In reality, this would redirect to Razorpay/Stripe, then webhook would credit wallet.\n        // For demo/simplicity:\n        if (confirm(`Proceed to add â‚¹${value} to your wallet? (Simulation)`)) {\n            // We need a server action that allows users to 'self-credit' via payment simulation\n            // Since `processWalletTransaction` takes a userId and is server-side, we can't call it directly with our own ID easily without auth check context\n            // But we can create a wrapper or just use a temporary simulated action.\n\n            // NOTE: In production, NEVER allow client to dictate credit without PG verification.\n            alert(\"Redirecting to Payment Gateway...\");\n\n            // Simul:\n            setTimeout(() => {\n                alert(\"Payment Successful! Wallet Credited.\");\n                // trigger refresh\n                fetchWalletData();\n                setAddingFunds(false);\n                setAmountToAdd('');\n            }, 1500);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 dark:bg-black py-12 px-4 transition-colors\">\n            <div className=\"max-w-2xl mx-auto space-y-8 pt-12\">\n                {/* Header */}\n                <div className=\"flex items-center gap-4\">\n                    <Link href=\"/profile\" className=\"p-2 rounded-full bg-white dark:bg-white/10 hover:bg-gray-100 transition-colors\">\n                        <ArrowLeft size={20} className=\"text-gray-600 dark:text-gray-300\" />\n                    </Link>\n                    <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                        <Wallet className=\"text-coral-500\" /> My Wallet\n                    </h1>\n                </div>\n\n                {/* Balance Card */}\n                <div className=\"bg-gradient-to-br from-navy-900 to-navy-800 text-white p-8 rounded-3xl shadow-xl relative overflow-hidden\">\n                    <div className=\"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2\"></div>\n\n                    <div className=\"relative z-10\">\n                        <p className=\"text-white/70 font-medium mb-2\">Available Balance</p>\n                        <h2 className=\"text-5xl font-heading font-bold mb-8\">{formatPrice(balance)}</h2>\n\n                        <div className=\"flex gap-4\">\n                            <button\n                                onClick={() => setAddingFunds(!addingFunds)}\n                                className=\"bg-white text-navy-900 px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-gray-100 transition-colors shadow-lg\"\n                            >\n                                <Plus size={18} /> Add Money\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Add Funds Form */}\n                {addingFunds && (\n                    <div className=\"bg-white dark:bg-white/5 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10 animate-in slide-in-from-top-4\">\n                        <h3 className=\"font-bold text-gray-900 dark:text-white mb-4\">Top-up Wallet</h3>\n                        <form onSubmit={handleAddFunds} className=\"flex gap-4\">\n                            <div className=\"flex-1 relative\">\n                                <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold\">â‚¹</span>\n                                <input\n                                    type=\"number\"\n                                    value={amountToAdd}\n                                    onChange={(e) => setAmountToAdd(e.target.value)}\n                                    placeholder=\"Enter amount (Min â‚¹100)\"\n                                    className=\"w-full pl-8 pr-4 py-3 rounded-xl border border-gray-200 dark:border-white/20 bg-transparent focus:outline-none focus:ring-2 focus:ring-coral-500\"\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"bg-coral-500 text-white px-6 rounded-xl font-bold hover:bg-coral-600 transition-colors\">\n                                Pay\n                            </button>\n                        </form>\n                    </div>\n                )}\n\n                {/* History */}\n                <div className=\"space-y-4\">\n                    <h3 className=\"font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                        <History size={20} className=\"text-gray-400\" /> Transaction History\n                    </h3>\n\n                    <div className=\"bg-white dark:bg-white/5 rounded-2xl shadow-sm border border-gray-100 dark:border-white/10 overflow-hidden\">\n                        {loading ? (\n                            <div className=\"p-8 text-center text-gray-400\">Loading history...</div>\n                        ) : history.length === 0 ? (\n                            <div className=\"p-12 text-center text-gray-400\">\n                                <Wallet size={48} className=\"mx-auto mb-4 opacity-20\" />\n                                <p>No transactions yet.</p>\n                            </div>\n                        ) : (\n                            <div className=\"divide-y divide-gray-100 dark:divide-white/10\">\n                                {history.map((tx) => (\n                                    <div key={tx.id} className=\"p-5 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-white/5 transition-colors\">\n                                        <div className=\"flex items-center gap-4\">\n                                            <div className={`w-10 h-10 rounded-full flex items-center justify-center ${tx.type === 'credit'\n                                                    ? 'bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400'\n                                                    : 'bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400'\n                                                }`}>\n                                                {tx.type === 'credit' ? <ArrowDownLeft size={20} /> : <ArrowUpRight size={20} />}\n                                            </div>\n                                            <div>\n                                                <p className=\"font-bold text-gray-900 dark:text-white capitalize\">{tx.reason.replace(/_/g, ' ')}</p>\n                                                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                    {new Date(tx.created_at).toLocaleDateString()}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div className={`font-bold ${tx.type === 'credit' ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'\n                                            }`}>\n                                            {tx.type === 'credit' ? '+' : '-'}{formatPrice(tx.amount)}\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/profile/wishlist/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ShoppingBag' is defined but never used.","line":5,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":39,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ShoppingBag"},"fix":{"range":[97,110],"text":""},"desc":"Remove unused variable \"ShoppingBag\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'formatPrice' is assigned a value but never used.","line":10,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { ArrowLeft, Heart, ShoppingBag } from 'lucide-react';\nimport { useUI } from '@/context/UIContext';\nimport ProductCard from '@/components/Product/ProductCard';\n\nexport default function WishlistPage() {\n    const { formatPrice } = useUI();\n\n    // Mock Wishlist\n    const products = [\n        {\n            id: '1',\n            name: 'Little Explorer T-Shirt',\n            price: 799,\n            image: 'https://images.unsplash.com/photo-1519457431-44d59405d6e6?auto=format&fit=crop&w=800&q=80',\n            badge: 'New'\n        },\n        {\n            id: '2',\n            name: 'Premium Canvas Sneaker',\n            price: 1299,\n            originalPrice: 1599,\n            image: 'https://images.unsplash.com/photo-1503919545874-8621bfdfafa4?auto=format&fit=crop&w=800&q=80'\n        }\n    ];\n\n    return (\n        <main className=\"bg-[#FAF9F7] dark:bg-black min-h-screen py-8 pb-24 md:pb-12\">\n            <div className=\"max-w-[1000px] mx-auto px-4 md:px-0\">\n                {/* Header */}\n                <div className=\"flex items-center gap-4 mb-8\">\n                    <Link href=\"/profile\" className=\"p-2 rounded-full bg-white dark:bg-white/10 hover:bg-gray-50 dark:hover:bg-white/20 transition-colors shadow-sm\">\n                        <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                    </Link>\n                    <h1 className=\"text-2xl font-bold text-navy-900 dark:text-white font-heading\">Wishlist ({products.length})</h1>\n                </div>\n\n                {/* Grid */}\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6\">\n                    {products.map((p, i) => (\n                        <ProductCard key={i} {...p} />\n                    ))}\n                </div>\n\n                {products.length === 0 && (\n                    <div className=\"flex flex-col items-center justify-center py-20 text-center\">\n                        <div className=\"w-16 h-16 bg-gray-100 dark:bg-white/10 rounded-full flex items-center justify-center text-gray-400 mb-4\">\n                            <Heart size={32} />\n                        </div>\n                        <h3 className=\"text-lg font-bold text-navy-900 dark:text-white mb-2\">Your wishlist is empty</h3>\n                        <p className=\"text-gray-500 dark:text-gray-400 mb-6\">Explore our worlds and find something you love.</p>\n                        <Link href=\"/\" className=\"bg-navy-900 dark:bg-white text-white dark:text-black px-6 py-3 rounded-full font-bold shadow-lg hover:bg-coral-500 dark:hover:bg-gray-200 transition-colors\">\n                            Start Shopping\n                        </Link>\n                    </div>\n                )}\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/rewards/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'XCircle' is defined but never used.","line":7,"column":54,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":61,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"XCircle"},"fix":{"range":[255,264],"text":""},"desc":"Remove unused variable \"XCircle\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { motion } from 'framer-motion';\nimport { Wallet, History, AlertCircle, CheckCircle2, XCircle, ArrowRight } from 'lucide-react';\nimport { getWalletBalance, getWalletHistory } from '@/actions/walletActions';\nimport { useUI } from '@/context/UIContext';\n\nexport default function WalletPage() {\n    const { formatPrice } = useUI();\n    interface WalletTransaction {\n        id: string;\n        amount: number;\n        type: 'credit' | 'debit';\n        reason: string;\n        created_at: string;\n    }\n\n    const [balance, setBalance] = useState(0);\n    const [history, setHistory] = useState<WalletTransaction[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        async function fetchData() {\n            setLoading(true);\n            try {\n                const { balance: bal } = await getWalletBalance();\n                const hist = await getWalletHistory();\n                setBalance(bal);\n                setHistory(hist);\n            } catch (e) {\n                console.error(\"Failed to load wallet data\", e);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchData();\n    }, []);\n\n    const getReasonLabel = (reason: string) => {\n        switch (reason) {\n            case 'purchase_cashback': return 'Cashback Earned';\n            case 'referral_bonus': return 'Referral Bonus';\n            case 'order_redemption': return 'Used on Order';\n            case 'admin_adjustment': return 'Admin Adjustment';\n            case 'expiry': return 'Expired';\n            default: return reason.replace(/_/g, ' ');\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-[#FAF9F7] dark:bg-black pb-20 pt-[var(--header-height)]\">\n            <AmbientBackground />\n\n            <div className=\"container-premium max-w-[800px] mx-auto px-6 py-12 relative z-10\">\n\n                {/* Header */}\n                <div className=\"text-center mb-12\">\n                    <h1 className=\"text-4xl md:text-5xl font-heading font-bold text-navy-900 dark:text-white mb-4\">\n                        Your Wallet\n                    </h1>\n                    <p className=\"text-gray-500 dark:text-gray-400\">\n                        Manage your credits and transaction history.\n                    </p>\n                </div>\n\n                {/* Balance Card */}\n                <motion.div\n                    initial={{ y: 20, opacity: 0 }}\n                    animate={{ y: 0, opacity: 1 }}\n                    className=\"bg-navy-900 dark:bg-white/10 rounded-3xl p-8 mb-12 shadow-xl text-white relative overflow-hidden\"\n                >\n                    <div className=\"absolute top-0 right-0 w-64 h-64 bg-coral-500 rounded-bl-[100%] opacity-20 -translate-y-1/2 translate-x-1/4\" />\n\n                    <div className=\"relative z-10\">\n                        <p className=\"text-white/60 font-bold uppercase tracking-widest text-sm mb-2\">Current Balance</p>\n                        <div className=\"text-5xl md:text-6xl font-heading font-bold mb-6\">\n                            {loading ? '...' : formatPrice(balance)}\n                        </div>\n\n                        <div className=\"flex flex-col md:flex-row gap-4 text-sm text-white/80\">\n                            <div className=\"flex items-center gap-2\">\n                                <CheckCircle2 size={16} className=\"text-green-400\" />\n                                <span>Use up to 10% on orders over â‚¹999</span>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                                <AlertCircle size={16} className=\"text-amber-400\" />\n                                <span>Credits expire in 30 days</span>\n                            </div>\n                        </div>\n                    </div>\n                </motion.div>\n\n                {/* Explainer / Rules */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\">\n                    <div className=\"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/10\">\n                        <h3 className=\"font-bold text-navy-900 dark:text-white mb-2 flex items-center gap-2\">\n                            <Wallet size={18} className=\"text-coral-500\" /> How to Earn\n                        </h3>\n                        <ul className=\"text-sm text-gray-600 dark:text-gray-300 space-y-2\">\n                            <li>â€¢ <strong>5% Cashback</strong> on every delivered order.</li>\n                            <li>â€¢ <strong>â‚¹100 Bonus</strong> for referring a friend.</li>\n                        </ul>\n                    </div>\n                    <div className=\"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/10\">\n                        <h3 className=\"font-bold text-navy-900 dark:text-white mb-2 flex items-center gap-2\">\n                            <History size={18} className=\"text-amber-500\" /> How to Use\n                        </h3>\n                        <ul className=\"text-sm text-gray-600 dark:text-gray-300 space-y-2\">\n                            <li>â€¢ Minimum order value <strong>â‚¹999</strong>.</li>\n                            <li>â€¢ Max usage: <strong>10%</strong> of cart value.</li>\n                            <li>â€¢ Cannot be used for Cash on Delivery.</li>\n                        </ul>\n                    </div>\n                </div>\n\n                {/* History */}\n                <div>\n                    <h2 className=\"text-xl font-bold text-navy-900 dark:text-white mb-6\">Transaction History</h2>\n\n                    {loading ? (\n                        <div className=\"text-center py-12 text-gray-400\">Loading history...</div>\n                    ) : history.length === 0 ? (\n                        <div className=\"bg-white dark:bg-white/5 p-12 rounded-2xl border border-gray-100 dark:border-white/10 text-center\">\n                            <p className=\"text-gray-500 dark:text-gray-400 mb-4\">No transactions yet.</p>\n                            <Link href=\"/shop\" className=\"inline-flex items-center gap-2 text-navy-900 dark:text-white font-bold hover:text-coral-500 transition-colors\">\n                                Start Shopping <ArrowRight size={16} />\n                            </Link>\n                        </div>\n                    ) : (\n                        <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 overflow-hidden divide-y divide-gray-100 dark:divide-white/10\">\n                            {history.map((item) => (\n                                <div key={item.id} className=\"p-5 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-white/5 transition-colors\">\n                                    <div className=\"flex items-center gap-4\">\n                                        <div className={`w-10 h-10 rounded-full flex items-center justify-center ${item.type === 'credit'\n                                            ? 'bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400'\n                                            : 'bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400'\n                                            }`}>\n                                            {item.type === 'credit' ? <ArrowRight size={16} className=\"-rotate-45\" /> : <ArrowRight size={16} className=\"rotate-45\" />}\n                                        </div>\n                                        <div>\n                                            <p className=\"font-bold text-navy-900 dark:text-white capitalize\">\n                                                {getReasonLabel(item.reason)}\n                                            </p>\n                                            <p className=\"text-xs text-gray-500\">\n                                                {new Date(item.created_at).toLocaleDateString()}\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <div className={`font-bold ${item.type === 'credit' ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'\n                                        }`}>\n                                        {item.type === 'credit' ? '+' : ''}{formatPrice(item.amount)}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/robots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/search/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[594,597],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[594,597],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":51,"column":8,"nodeType":"ArrayExpression","endLine":51,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [query, supabase]","fix":{"range":[1599,1606],"text":"[query, supabase]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":65,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2380,2406],"text":"\n                        &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2380,2406],"text":"\n                        &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2380,2406],"text":"\n                        &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2380,2406],"text":"\n                        &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":65,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2413,2435],"text":"&quot;\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2413,2435],"text":"&ldquo;\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2413,2435],"text":"&#34;\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2413,2435],"text":"&rdquo;\n                    "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState, Suspense } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { createClient } from '@/utils/supabase/client';\nimport ProductCard from '@/components/Product/ProductCard';\nimport BrandLoader from '@/components/UI/BrandLoader';\nimport { Search, ArrowLeft } from 'lucide-react';\n\nfunction SearchContent() {\n    const searchParams = useSearchParams();\n    const query = searchParams.get('q') || '';\n    const router = useRouter();\n    const supabase = createClient();\n\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const performSearch = async () => {\n            setLoading(true);\n            if (!query.trim()) {\n                setProducts([]);\n                setLoading(false);\n                return;\n            }\n\n            // Split query into words for better matching\n            const words = query.trim().split(/\\s+/).filter(Boolean);\n\n            // Build query: name ilike %word1% AND name ilike %word2% ...\n            let queryBuilder = supabase\n                .from('products')\n                .select('*');\n\n            words.forEach(word => {\n                queryBuilder = queryBuilder.ilike('name', `%${word}%`);\n            });\n\n            const { data, error } = await queryBuilder.limit(50);\n\n            if (error) {\n                console.error('Search error:', error);\n            }\n\n            setProducts(data || []);\n            setLoading(false);\n        };\n\n        performSearch();\n    }, [query]);\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 dark:bg-black pt-[var(--header-height)]\">\n            {/* Header */}\n            <div className=\"sticky top-[60px] md:top-[72px] z-20 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-100 dark:border-white/10 py-4 px-4 md:px-8 flex items-center gap-4 transition-all\">\n                <button\n                    onClick={() => router.back()}\n                    className=\"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full transition-colors\"\n                >\n                    <ArrowLeft className=\"text-navy-900 dark:text-white\" size={24} />\n                </button>\n                <div>\n                    <h1 className=\"text-xl font-bold text-navy-900 dark:text-white\">\n                        \"{query}\"\n                    </h1>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">{products.length} results found</p>\n                </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"max-w-[1400px] mx-auto p-4 md:p-8\">\n                {loading ? (\n                    <div className=\"h-[50vh] flex items-center justify-center\">\n                        <BrandLoader />\n                    </div>\n                ) : products.length > 0 ? (\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 gap-y-8\">\n                        {products.map((product) => (\n                            <ProductCard\n                                key={product.id}\n                                id={product.id}\n                                name={product.name}\n                                brand=\"BroncStudio\"\n                                price={product.price}\n                                originalPrice={product.compare_at_price}\n                                image={product.images?.[0] || product.image_url}\n                            />\n                        ))}\n                    </div>\n                ) : (\n                    <div className=\"flex flex-col items-center justify-center py-20 text-center opacity-60\">\n                        <Search size={64} className=\"text-coral-500 mb-4\" />\n                        <h2 className=\"text-xl font-bold text-navy-900 mb-2\">No results found</h2>\n                        <p className=\"text-gray-500\">Try checking your spelling or using different keywords.</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default function SearchPage() {\n    return (\n        <Suspense fallback={<div className=\"h-screen flex items-center justify-center\"><BrandLoader /></div>}>\n            <SearchContent />\n        </Suspense>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/shop/[[...slug]]/ShopClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FilterSidebar' is defined but never used.","line":14,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":21,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"FilterSidebar"},"fix":{"range":[559,619],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FilterDrawer' is defined but never used.","line":15,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"FilterDrawer"},"fix":{"range":[620,678],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'formatPrice' is assigned a value but never used.","line":24,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1344,1347],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1344,1347],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1367,1370],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1367,1370],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1581,1584],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1581,1584],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isdrawerOpen' is assigned a value but never used.","line":48,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":48,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsDrawerOpen' is assigned a value but never used.","line":48,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":48,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'shopHeroConfig' is assigned a value but never used.","line":56,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":56,"endColumn":26},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/app/shop/[[...slug]]/ShopClient.tsx:62:9\n  60 |     // Reset active category when view changes\n  61 |     useEffect(() => {\n> 62 |         setActiveCategory('all');\n     |         ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  63 |     }, [currentView?.type, currentView?.data?.slug]);\n  64 |\n  65 |     // 1. Resolve Taxonomy on Slug Change","line":62,"column":9,"nodeType":null,"endLine":62,"endColumn":26},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2986,2989],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2986,2989],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3099,3102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3099,3102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3211,3214],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3211,3214],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5232,5235],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5232,5235],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":129,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5285,5288],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5285,5288],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":157,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":157,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6436,6439],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6436,6439],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":171,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":171,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7037,7040],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7037,7040],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":185,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":185,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7674,7677],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7674,7677],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":202,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":202,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8454,8457],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8454,8457],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'slugArray' and 'supabase'. Either include them or remove the dependency array.","line":227,"column":8,"nodeType":"ArrayExpression","endLine":227,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [params, slugArray, supabase]","fix":{"range":[9453,9461],"text":"[params, slugArray, supabase]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":240,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":240,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10092,10095],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10092,10095],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":263,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":263,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10901,10904],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10901,10904],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":290,"column":8,"nodeType":"ArrayExpression","endLine":290,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [currentView, supabase]","fix":{"range":[11789,11802],"text":"[currentView, supabase]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":332,"column":95,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13570,13619],"text":"The collection you are looking for doesn&apos;t exist."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13570,13619],"text":"The collection you are looking for doesn&lsquo;t exist."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13570,13619],"text":"The collection you are looking for doesn&#39;t exist."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13570,13619],"text":"The collection you are looking for doesn&rsquo;t exist."},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":360,"column":21,"nodeType":"JSXOpeningElement","endLine":364,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":428,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":428,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[18675,18678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[18675,18678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":506,"column":91,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":506,"endColumn":94,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[25252,25255],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[25252,25255],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":18,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useParams } from 'next/navigation';\nimport GlassCard from '@/components/UI/GlassCard';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { motion } from 'framer-motion';\nimport { useUI } from '@/context/UIContext';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { createClient } from '@/utils/supabase/client';\nimport { LayoutGrid } from 'lucide-react';\nimport BrandLoader from '@/components/UI/BrandLoader';\nimport FilterSidebar from '@/components/Shop/FilterSidebar';\nimport FilterDrawer from '@/components/Shop/FilterDrawer';\nimport { Filter } from 'lucide-react';\nimport TabbedProductShowcase from '@/components/Home/TabbedProductShowcase';\n\n// Strict Taxonomy Source\nimport { CATEGORY_TAXONOMY } from '@/data/categories';\nimport { getGoogleDriveDirectLink } from '@/utils/googleDrive';\n\nexport default function ShopClient() {\n    const { formatPrice } = useUI();\n    const params = useParams();\n    const rawSlug = params?.slug;\n    const slugArray = Array.isArray(rawSlug) ? rawSlug : rawSlug ? [rawSlug] : [];\n\n    // Derived State from Local Taxonomy\n    const [currentView, setCurrentView] = useState<{\n        type: 'root' | 'category' | 'subcategory' | 'item' | '404';\n        data: any;\n        children: any[]; // The next level cards to show\n        breadcrumbs: { label: string; href: string }[];\n        heroImage?: string; // New: For Hero Banner\n    } | null>(null);\n\n    const [products, setProducts] = useState<any[]>([]);\n    const [loadingProducts, setLoadingProducts] = useState(false);\n\n    // Derived State for Client-Side Category Filtering (Subcategory View)\n    const [activeCategory, setActiveCategory] = useState<string>('all');\n\n    // We need a map of Slug -> UUID for filtering.\n    const [categoryMap, setCategoryMap] = useState<Record<string, string>>({}); // Slug -> UUID\n\n    // Filter State\n    const [isdrawerOpen, setIsDrawerOpen] = useState(false);\n    const [activeFilters, setActiveFilters] = useState({\n        minPrice: 0,\n        maxPrice: 10000,\n        colors: [] as string[],\n        sizes: [] as string[],\n        brands: [] as string[]\n    });\n    const [shopHeroConfig, setShopHeroConfig] = useState<Record<string, string>>({});\n\n    const supabase = createClient();\n\n    // Reset active category when view changes\n    useEffect(() => {\n        setActiveCategory('all');\n    }, [currentView?.type, currentView?.data?.slug]);\n\n    // 1. Resolve Taxonomy on Slug Change\n    useEffect(() => {\n        const fetchShopConfigs = async () => {\n            try {\n                const { data, error } = await supabase\n                    .from('content_blocks')\n                    .select('section_id, content')\n                    .in('section_id', ['shop_page_collections', 'shop_hero_images']);\n\n                if (!error && data) {\n                    const collections = data.find((b: any) => b.section_id === 'shop_page_collections')?.content;\n                    const heroImages = data.find((b: any) => b.section_id === 'shop_hero_images')?.content;\n                    return { collections: collections as any[], heroImages: (heroImages || {}) as Record<string, string> };\n                }\n\n            } catch (err) {\n                console.error('Error fetching dynamic shop configs:', err);\n            }\n            return { collections: null, heroImages: {} };\n        };\n\n\n        // Helper to traverse\n        const resolve = async () => {\n            const { collections: dynamicCollections, heroImages } = await fetchShopConfigs();\n            setShopHeroConfig(heroImages);\n\n            // A. Root (/shop)\n            if (slugArray.length === 0) {\n                const children = dynamicCollections || Object.values(CATEGORY_TAXONOMY).map(c => ({\n                    id: c.id,\n                    name: c.name,\n                    image: c.image, // Ensure image exists in taxonomy\n                    slug: c.slug,\n                    description: c.description\n                }));\n\n                const rootHero = (heroImages as Record<string, string>)['root'] || 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1600&q=80';\n\n                setCurrentView({\n                    type: 'root' as const,\n                    data: { name: 'Shop Worlds', description: 'Explore our curated collections.' },\n                    children: children,\n                    breadcrumbs: [],\n                    heroImage: getGoogleDriveDirectLink(rootHero)\n                });\n\n                return;\n            }\n\n\n            const [l1Slug, l2Slug, l3Slug] = slugArray;\n\n            // B. Level 1 (e.g. kids-learning)\n            const l1Node = Object.values(CATEGORY_TAXONOMY).find(c => c.slug === l1Slug);\n            if (!l1Node) {\n                setCurrentView({ type: '404' as const, data: null, children: [], breadcrumbs: [] });\n                return;\n            }\n\n            if (slugArray.length === 1) {\n                // Special Case: Pets (Flattened Item Toggle)\n                if (l1Node.slug === 'pets') {\n                    const flattenedItems = l1Node.subcategories?.flatMap((sc: any) =>\n                        sc.items?.map((item: any) => ({\n                            id: item.slug,\n                            name: item.name,\n                            slug: `${l1Slug}/${sc.slug}/${item.slug}`,\n                            description: item.name // Simple desc\n                        })) || []\n                    ) || [];\n\n                    const categoryHero = (heroImages as Record<string, string>)[l1Node.slug] || l1Node.image;\n\n                    setCurrentView({\n                        type: 'category' as const,\n                        data: l1Node,\n                        children: flattenedItems,\n                        breadcrumbs: [{ label: l1Node.name, href: `/shop/${l1Node.slug}` }],\n                        heroImage: getGoogleDriveDirectLink(categoryHero)\n                    });\n\n                    return;\n                }\n\n                // Standard Category View\n                const categoryHero = (heroImages as Record<string, string>)[l1Node.slug] || l1Node.image;\n\n                setCurrentView({\n\n                    type: 'category' as const,\n                    data: l1Node,\n                    children: l1Node.subcategories?.map((sc: any) => ({\n                        id: sc.id,\n                        name: sc.name,\n                        slug: `${l1Slug}/${sc.slug}`, // Construct nested href\n                        description: sc.description || `Browse ${sc.name}`\n                    })) || [],\n                    breadcrumbs: [{ label: l1Node.name, href: `/shop/${l1Node.slug}` }],\n                    heroImage: getGoogleDriveDirectLink(categoryHero)\n                });\n\n                return;\n            }\n\n            // C. Level 2 (e.g. kids-learning/books)\n            const l2Node = l1Node.subcategories?.find((sc: any) => sc.slug === l2Slug);\n            if (!l2Node) {\n                setCurrentView({ type: '404' as const, data: null, children: [], breadcrumbs: [] });\n                return;\n            }\n\n            if (slugArray.length === 2) {\n                const subHeroLink = `${l1Node.slug}/${l2Node.slug}`;\n                const subHero = (heroImages as Record<string, string>)[subHeroLink] || (heroImages as Record<string, string>)[l1Node.slug] || l1Node.image;\n\n                setCurrentView({\n\n                    type: 'subcategory' as const,\n                    data: l2Node,\n                    children: l2Node.items?.map((item: any) => ({\n                        id: item.slug, // Use slug as ID for simple items\n                        name: item.name,\n                        slug: `${l1Slug}/${l2Slug}/${item.slug}`,\n                        description: `See all` // Simple desc\n                    })) || [],\n                    breadcrumbs: [\n                        { label: l1Node.name, href: `/shop/${l1Node.slug}` },\n                        { label: l2Node.name, href: `/shop/${l1Node.slug}/${l2Node.slug}` }\n                    ],\n                    heroImage: getGoogleDriveDirectLink(subHero)\n                });\n\n                return;\n            }\n\n            // D. Level 3 (e.g. kids-learning/books/story-books) -\\u003e Leaf (Products)\n            const l3Node = l2Node.items?.find((item: any) => item.slug === l3Slug);\n            if (!l3Node) {\n                setCurrentView({ type: '404' as const, data: null, children: [], breadcrumbs: [] });\n                return;\n            }\n\n            const subHeroLink = `${l1Node.slug}/${l2Node.slug}`;\n            const itemHero = (heroImages as Record<string, string>)[subHeroLink] || (heroImages as Record<string, string>)[l1Node.slug] || l1Node.image;\n\n            setCurrentView({\n\n                type: 'item' as const,\n                data: l3Node,\n                children: [], // No deeper levels\n                breadcrumbs: [\n                    { label: l1Node.name, href: `/shop/${l1Node.slug}` },\n                    { label: l2Node.name, href: `/shop/${l1Node.slug}/${l2Node.slug}` },\n                    { label: l3Node.name, href: `/shop/${l1Node.slug}/${l2Node.slug}/${l3Node.slug}` }\n                ],\n                heroImage: getGoogleDriveDirectLink(itemHero)\n            });\n\n        };\n\n        resolve();\n    }, [params]); // Recalculate when URL matches\n\n    // 2. Fetch Products if Leaf or Subcategory (Mixed View)\n    useEffect(() => {\n        const fetchProducts = async () => {\n            setLoadingProducts(true);\n\n            let targetSlugs: string[] = [];\n\n            if (currentView?.type === 'item') {\n                targetSlugs = [currentView.data.slug];\n            } else if (currentView?.type === 'subcategory' || (currentView?.type === 'category' && currentView.data.slug === 'pets')) {\n                // For Pets (and standard Subcategories), use children IDs as targets\n                targetSlugs = currentView.children.map((c: any) => c.id);\n            } else {\n                setLoadingProducts(false);\n                setProducts([]);\n                return;\n            }\n\n            if (targetSlugs.length > 0) {\n                // 1. Resolve Slugs to Category IDs AND Build Map\n                const { data: categories, error: catError } = await supabase\n                    .from('categories')\n                    .select('id, slug')\n                    .in('slug', targetSlugs);\n\n                if (catError) {\n                    console.error('Category Fetch Error:', catError);\n                    setLoadingProducts(false);\n                    return;\n                }\n\n                const newMap: Record<string, string> = {};\n                const categoryIds: string[] = [];\n\n                categories?.forEach((c: any) => {\n                    newMap[c.slug] = c.id;\n                    categoryIds.push(c.id);\n                });\n                setCategoryMap(newMap);\n\n                if (categoryIds.length > 0) {\n                    const { data, error } = await supabase\n                        .from('products')\n                        .select('*')\n                        .in('category_id', categoryIds);\n\n                    if (error) {\n                        console.error('Fetch Error:', error);\n                        console.error('Fetch Error Details:', JSON.stringify(error, null, 2));\n                    }\n                    setProducts(data || []);\n                } else {\n                    setProducts([]);\n                }\n            } else {\n                setProducts([]);\n            }\n            setLoadingProducts(false);\n        };\n\n        fetchProducts();\n    }, [currentView]);\n\n    // Enhanced Derived Filtered Products\n    const filteredProducts = products.filter(product => {\n        // 1. Active Category Filter\n        if (activeCategory !== 'all') {\n            // activeCategory is a slug (e.g. 'men-classic-crew')\n            // product.category_id is UUID\n            const targetId = categoryMap[activeCategory];\n            if (!targetId || product.category_id !== targetId) return false;\n        }\n\n        // 2. Price\n        if (product.price < activeFilters.minPrice || product.price > activeFilters.maxPrice) return false;\n\n        // 3. Brand\n        if (activeFilters.brands.length > 0 && !activeFilters.brands.includes(product.brand)) return false;\n\n        // 4. Color\n        if (activeFilters.colors.length > 0) {\n            const productColors = product.metadata?.colors || [];\n            // Safety check for non-string\n            if (Array.isArray(productColors)) {\n                if (!activeFilters.colors.some(c => productColors.includes(c))) return false;\n            }\n        }\n\n        // 5. Size\n        if (activeFilters.sizes.length > 0) {\n            const productSizes = product.metadata?.sizes || [];\n            if (Array.isArray(productSizes)) {\n                if (!activeFilters.sizes.some(s => productSizes.includes(s))) return false;\n            }\n        }\n        return true;\n    });\n\n    if (currentView?.type === '404') {\n        return (\n            <div className=\"min-h-screen pt-[var(--header-height)] flex items-center justify-center bg-gray-50 dark:bg-navy-950\">\n                <div className=\"text-center\">\n                    <h2 className=\"text-3xl font-heading font-bold text-navy-900 dark:text-white mb-2\">Page Not Found</h2>\n                    <p className=\"text-gray-500 mb-6\">The collection you are looking for doesn't exist.</p>\n                    <Link href=\"/shop\" className=\"px-6 py-3 bg-navy-900 text-white rounded-full font-bold hover:bg-coral-500 transition-all\">\n                        Return to Shop\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n\n    if (!currentView) return <BrandLoader text=\"Curating Collection...\" />;\n\n    // ONLY Show \"Cards\" for Root. Subcategory (and Pets) now shows Products.\n    const showChildren = currentView.type === 'root';\n    const showProducts = currentView.type === 'item' || currentView.type === 'subcategory' || (currentView.type === 'category' && currentView.data.slug === 'pets');\n\n    // Dynamic Gradient based on type\n    const heroGradient = currentView.type === 'root'\n        ? 'from-blue-500/10 via-purple-500/5 to-coral-500/10'\n        : 'from-emerald-500/10 via-teal-500/5 to-blue-500/10';\n\n    return (\n        <div className=\"relative min-h-screen bg-background pt-[220px] -mt-[120px] pb-20 overflow-hidden\">\n            <AmbientBackground />\n\n            {/* HERO BANNER IMAGE (If Available) */}\n            {currentView.heroImage && (\n                <div className=\"absolute top-0 left-0 right-0 h-[400px] md:h-[500px] z-0\">\n                    <div className=\"absolute inset-0 bg-black/40 z-10\" /> {/* Overlay for text readability */}\n                    <img\n                        src={currentView.heroImage}\n                        alt=\"Collection Hero\"\n                        className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-gray-50 dark:from-black to-transparent z-20\" /> {/* Fade to content */}\n                </div>\n            )}\n\n\n            {/* Background Blob - Reduce Opacity if Image is present */}\n            <div className={`absolute top-0 left-0 right-0 h-[500px] bg-gradient-to-br ${heroGradient} ${currentView.heroImage ? 'opacity-20' : 'opacity-40'} blur-3xl pointer-events-none z-0`} />\n\n            {/* Breadcrumbs */}\n            <div className=\"relative z-40 px-6 py-4 mt-8\">\n                <div className=\"max-w-fit mx-auto px-6 py-2 bg-white/50 dark:bg-black/50 backdrop-blur-xl rounded-full border border-white/20 dark:border-white/5 flex items-center space-x-2 text-xs font-bold uppercase tracking-wider text-secondary shadow-sm\">\n                    <Link href=\"/\" className=\"hover:text-coral-500 transition-colors\">Home</Link>\n                    <span className=\"opacity-40\">/</span>\n                    <Link href=\"/shop\" className=\"hover:text-coral-500 transition-colors\">Shop</Link>\n                    {currentView.breadcrumbs.map((crumb, idx) => (\n                        <React.Fragment key={idx}>\n                            <span className=\"opacity-40\">/</span>\n                            <Link href={crumb.href} className={idx === currentView.breadcrumbs.length - 1 ? \"text-coral-500\" : \"hover:text-coral-500 transition-colors\"}>\n                                {crumb.label}\n                            </Link>\n                        </React.Fragment>\n                    ))}\n                </div>\n            </div>\n\n            {/* Hero Title & Tagline */}\n            <div className=\"relative z-30 max-w-[1400px] mx-auto px-6 pt-4 pb-12 text-center\">\n                <motion.h1\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"text-4xl md:text-6xl font-heading font-bold text-white mb-4 drop-shadow-lg\"\n                >\n                    {currentView.data.name}\n                </motion.h1>\n                <motion.p\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.1 }}\n                    className=\"text-lg md:text-xl text-white/90 font-medium max-w-2xl mx-auto drop-shadow-md\"\n                >\n                    {currentView.data.description}\n                </motion.p>\n            </div>\n\n            {/* Conditional Layout: Tabbed for Category (Level 1) EXCEPT Pets, Standard for others */}\n            {currentView.type === 'category' && currentView.data.slug !== 'pets' ? (\n                <div className=\"-mt-12\">\n                    <TabbedProductShowcase categorySlug={currentView.data.slug} />\n                </div>\n            ) : (\n                <>\n\n                    {/* CONTENT */}\n                    <div className=\"relative z-10 max-w-[1400px] mx-auto px-4 md:px-8\">\n\n                        {/* 1. Category/Subcategory Cards (Root Only) */}\n                        {showChildren && (\n                            <motion.div\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                transition={{ delay: 0.2, duration: 0.6 }}\n                                className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 mb-20\"\n                            >\n                                {currentView.children.map((child: any, idx: number) => (\n                                    <Link key={idx} href={`/shop/${child.slug}`} className=\"group relative block h-full\">\n                                        <GlassCard\n                                            className=\"relative h-full min-h-[400px] flex flex-col justify-end overflow-hidden rounded-[2rem] border-white/20 dark:border-white/10 bg-transparent hover:border-white/50 transition-all duration-500 hover:-translate-y-3 hover:shadow-[0_25px_50px_-12px_rgba(255,255,255,0.15)]\"\n                                            disableTilt\n                                        >\n                                            {/* Background Image */}\n                                            <div\n                                                className=\"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-110\"\n                                                style={{ backgroundImage: `url(${getGoogleDriveDirectLink(child.image) || '/images/placeholder.jpg'})` }}\n                                            />\n\n                                            {/* Gradient Overlay - darker at bottom for text */}\n                                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-500\" />\n\n                                            {/* Content */}\n                                            <div className=\"relative z-10 p-8\">\n                                                <div className=\"w-12 h-12 mb-4 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center border border-white/20 text-white shadow-lg group-hover:scale-110 group-hover:bg-coral-500/20 group-hover:border-coral-500/50 transition-all duration-500\">\n                                                    <LayoutGrid size={20} />\n                                                </div>\n\n                                                <h3 className=\"text-3xl md:text-4xl font-heading font-bold text-white mb-2 leading-none drop-shadow-lg transition-all duration-500 group-hover:text-coral-500 group-hover:-translate-y-2\">\n                                                    {child.name}\n                                                </h3>\n\n                                                <p className=\"text-sm font-medium text-white/80 line-clamp-2 mb-6 drop-shadow-md transition-all duration-500 group-hover:text-white group-hover:-translate-y-1\">\n                                                    {child.description || 'Explore Collection'}\n                                                </p>\n\n                                                <div className=\"flex items-center gap-3 text-white/90 font-bold uppercase tracking-widest text-xs transition-all duration-500 group-hover:gap-5 group-hover:text-coral-500\">\n                                                    <span>Explore World</span>\n                                                    <span className=\"w-8 h-8 rounded-full bg-white text-black flex items-center justify-center transition-transform duration-500 group-hover:scale-110 group-hover:bg-coral-500 group-hover:text-white group-hover:translate-x-1\">\n                                                        &rarr;\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </GlassCard>\n                                    </Link>\n                                ))}\n                            </motion.div>\n                        )}\n\n                        {/* 2. Products (Item OR Subcategory) */}\n                        {showProducts && (\n                            <motion.div\n                                initial={{ opacity: 0, y: 20 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                transition={{ delay: 0.3 }}\n                            >\n                                {loadingProducts ? (\n                                    <div className=\"min-h-[40vh] flex items-center justify-center\">\n                                        <BrandLoader text=\"Fetching Items...\" />\n                                    </div>\n                                ) : (\n                                    <div className=\"flex flex-col lg:flex-row gap-8 items-start\">\n                                        {/* Desktop Sidebar */}\n                                        <div className=\"hidden lg:block w-[280px] flex-shrink-0 sticky top-32 space-y-8\">\n\n                                            {/* Subcategory Navigation Sidebar */}\n                                            {(currentView.type === 'subcategory' || currentView.type === 'category') && (\n                                                <div className=\"bg-white/40 dark:bg-card/40 backdrop-blur-md rounded-2xl p-6 border border-white/20 dark:border-white/5\">\n                                                    <h3 className=\"text-sm font-bold uppercase tracking-wider text-secondary mb-4\">Categories</h3>\n                                                    <div className=\"flex flex-col space-y-2\">\n                                                        {/* All Products Option */}\n                                                        <button\n                                                            onClick={() => {\n                                                                setActiveCategory('all');\n                                                                // Shuffle products randomly\n                                                                setProducts(prev => [...prev].sort(() => Math.random() - 0.5));\n                                                            }}\n                                                            className={`text-left text-lg font-heading font-bold transition-colors ${activeCategory === 'all'\n                                                                ? 'text-coral-500'\n                                                                : 'text-primary hover:text-coral-500'\n                                                                }`}\n                                                        >\n                                                            All Products\n                                                        </button>\n\n                                                        {currentView.children.map((child: any, idx: number) => (\n                                                            <button\n                                                                key={idx}\n                                                                onClick={() => setActiveCategory(child.id)}\n                                                                className={`text-left text-lg font-heading font-bold transition-colors ${activeCategory === child.id\n                                                                    ? 'text-coral-500'\n                                                                    : 'text-primary hover:text-coral-500'\n                                                                    }`}\n                                                            >\n                                                                {child.name}\n                                                            </button>\n                                                        ))}\n                                                    </div>\n                                                </div>\n                                            )}\n\n                                            {/* Filters removed by request */}\n                                        </div>\n\n                                        {/* Product Grid */}\n                                        <div className=\"flex-1 w-full\">\n                                            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-10 md:gap-x-6 md:gap-y-12\">\n                                                {filteredProducts.length > 0 ? filteredProducts.map((product, idx) => (\n                                                    <motion.div\n                                                        key={product.id}\n                                                        initial={{ opacity: 0, y: 20 }}\n                                                        animate={{ opacity: 1, y: 0 }}\n                                                        transition={{ delay: 0.05 * idx }}\n                                                    >\n                                                        <ProductCard\n                                                            id={product.id}\n                                                            name={product.name}\n                                                            brand={product.brand || \"BroncStudio\"}\n                                                            price={product.price}\n                                                            originalPrice={product.compare_at_price}\n                                                            image={product.images?.[0] || '/images/placeholder.jpg'}\n                                                            badge={product.stock_status === 'out_of_stock' ? 'Sold Out' : undefined}\n                                                        />\n                                                    </motion.div>\n                                                )) : (\n                                                    <div className=\"col-span-full py-32 text-center text-secondary\">\n                                                        <div className=\"w-20 h-20 bg-gray-100 dark:bg-surface-2 rounded-full flex items-center justify-center mx-auto mb-6\">\n                                                            <Filter size={32} className=\"opacity-50\" />\n                                                        </div>\n                                                        <h3 className=\"text-xl font-bold text-primary mb-2\">No Matches Found</h3>\n                                                        <p>Try adjusting your filters or category.</p>\n                                                        <button\n                                                            onClick={() => {\n                                                                setActiveFilters({ minPrice: 0, maxPrice: 10000, colors: [], sizes: [], brands: [] });\n                                                                setActiveCategory('all');\n                                                            }}\n                                                            className=\"mt-4 text-coral-500 font-bold hover:underline\"\n                                                        >\n                                                            Clear All Filters\n                                                        </button>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            </motion.div>\n                        )}\n                    </div>\n                </>\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/shop/[[...slug]]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'createClient' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":22,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"createClient"},"fix":{"range":[159,214],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1107,1110],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1107,1110],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1308,1311],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1308,1311],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2053,2056],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2053,2056],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport type { Metadata } from 'next';\nimport ShopClient from './ShopClient';\nimport { CATEGORY_TAXONOMY } from '@/data/categories';\nimport { createClient } from '@/utils/supabase/server';\n\n// Helper to resolve taxonomy title/description based on slug\nconst resolveMetadata = async (slugArray: string[]) => {\n    // 1. Root\n    if (!slugArray || slugArray.length === 0) {\n        return {\n            title: 'Shop All Categories',\n            description: 'Explore our curated collections of premium kids clothing.',\n            image: '/og-image.jpg' // Default\n        };\n    }\n\n    const [l1Slug, l2Slug, l3Slug] = slugArray;\n\n    // 2. Level 1 (Category)\n    const l1Node = Object.values(CATEGORY_TAXONOMY).find(c => c.slug === l1Slug);\n    if (!l1Node) return null; // 404\n\n    if (slugArray.length === 1) {\n        return {\n            title: l1Node.name,\n            description: l1Node.description || `Shop ${l1Node.name} at BroncStudio.`,\n            image: l1Node.image\n        };\n    }\n\n    // 3. Level 2 (Subcategory)\n    const l2Node = l1Node.subcategories?.find((sc: any) => sc.slug === l2Slug);\n    if (!l2Node) return null;\n\n    if (slugArray.length === 2) {\n        return {\n            title: `${l2Node.name} - ${l1Node.name}`,\n            description: (l2Node as any).description || `Browse ${l2Node.name} in ${l1Node.name}.`,\n            image: l1Node.image // Fallback to category image\n        };\n    }\n\n    // 4. Level 3 (Item / Product Type)\n    // Note: If it's a specific PRODUCT page, we might need to fetch from DB if the slug structure matches products.\n    // However, currently the routing seems to be Category -> Subcategory -> ProductType (taxonomy).\n    // If the leaf is actually a PRODUCT slug (e.g. /shop/category/subcategory/product-slug), we need DB fetch.\n\n    // In ShopClient.tsx, it treats Level 3 as 'item' taxonomy node or potentially a product?\n    // Let's look at ShopClient logic: it matches `l2Node.items?.find`. So it is taxonomy.\n    const l3Node = l2Node.items?.find((item: any) => item.slug === l3Slug);\n    if (l3Node) {\n        return {\n            title: `${l3Node.name} - ${l2Node.name}`,\n            description: `Shop ${l3Node.name} for kids.`,\n            image: l1Node.image\n        };\n    }\n\n    // If NOT in taxonomy, it might be a Product Detail Page (if you support /shop/cat/sub/product-slug)\n    // But ShopClient logic seems strictly taxonomy based for layout?\n    // Let's assume strict taxonomy for now based on previous code.\n\n    return null;\n}\n\nexport async function generateMetadata({ params }: { params: Promise<{ slug?: string[] }> }): Promise<Metadata> {\n    const { slug = [] } = await params;\n    const meta = await resolveMetadata(slug);\n\n    if (!meta) {\n        return {\n            title: 'Page Not Found',\n            description: 'The requested collection could not be found.'\n        };\n    }\n\n    return {\n        title: meta.title,\n        description: meta.description,\n        openGraph: {\n            title: `${meta.title} | BroncStudio`,\n            description: meta.description,\n            images: meta.image ? [{ url: meta.image }] : [],\n            type: 'website',\n        },\n    };\n}\n\nexport default function ShopPageWrapper() {\n    return <ShopClient />;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/shop/all/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[561,564],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[561,564],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":49,"column":8,"nodeType":"ArrayExpression","endLine":49,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1653,1655],"text":"[supabase]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createClient } from '@/utils/supabase/client';\nimport ProductCard from '@/components/Product/ProductCard';\nimport BrandLoader from '@/components/UI/BrandLoader';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { ArrowLeft, Shuffle } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n\nexport default function AllProductsPage() {\n    const router = useRouter();\n    const supabase = createClient();\n\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchAllProducts = async () => {\n            setLoading(true);\n\n            const { data, error } = await supabase\n                .from('products')\n                .select('*');\n\n            if (error) {\n                console.error('Error fetching products:', error);\n                setLoading(false);\n                return;\n            }\n\n            if (data) {\n                // Fisher-Yates Shuffle\n                const shuffled = [...data];\n                for (let i = shuffled.length - 1; i > 0; i--) {\n                    const j = Math.floor(Math.random() * (i + 1));\n                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n                }\n\n                // Deduplicate just in case (though DB likely enforces unique IDs)\n                const unique = Array.from(new Map(shuffled.map(item => [item.id, item])).values());\n\n                setProducts(unique);\n            }\n            setLoading(false);\n        };\n\n        fetchAllProducts();\n    }, []);\n\n    if (loading) return <BrandLoader text=\"Shuffling the collection...\" />;\n\n    return (\n        <div className=\"relative min-h-screen bg-gray-50 dark:bg-black pb-20 overflow-hidden\">\n            <AmbientBackground />\n\n            {/* Header */}\n            <div className=\"sticky top-[60px] z-30 bg-white dark:bg-black border-b border-gray-100 dark:border-white/5 py-4 px-6 md:px-12 flex items-center justify-between transition-all duration-300 shadow-sm\">\n                <div className=\"flex items-center gap-4\">\n                    <button\n                        onClick={() => router.back()}\n                        className=\"p-2 -ml-2 hover:bg-black/5 rounded-full transition-colors\"\n                    >\n                        <ArrowLeft size={20} className=\"text-navy-900 dark:text-white\" />\n                    </button>\n                    <div>\n                        <h1 className=\"text-xl font-bold font-heading text-navy-900 dark:text-white leading-none flex items-center gap-2\">\n                            All Collections\n                            <Shuffle size={16} className=\"text-gray-400\" />\n                        </h1>\n                        <p className=\"text-xs text-gray-500 font-medium uppercase tracking-wider mt-1\">\n                            {products.length} Items â€¢ Randomly Curated\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Grid */}\n            <div className=\"relative z-10 max-w-[1400px] mx-auto px-4 md:px-6 pt-32\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-10 md:gap-x-8 md:gap-y-12\">\n                    {products.map((product, idx) => (\n                        <div key={product.id} className=\"animate-fade-in-up\" style={{ animationDelay: `${Math.min(idx * 0.05, 1)}s` }}>\n                            <ProductCard\n                                id={product.id}\n                                name={product.name}\n                                brand=\"BroncStudio\"\n                                price={product.price}\n                                originalPrice={product.compare_at_price}\n                                image={product.images?.[0] || product.image_url || '/images/placeholder.jpg'}\n                            // No specific badge for \"All\" unless per product logic\n                            />\n                        </div>\n                    ))}\n                </div>\n\n                {/* Return to Shop Button */}\n                <div className=\"mt-20 text-center\">\n                    <button\n                        onClick={() => router.push('/shop')}\n                        className=\"inline-flex items-center gap-2 bg-navy-900 dark:bg-white text-white dark:text-black px-8 py-3 rounded-full font-bold uppercase tracking-widest hover:opacity-90 transition-transform hover:scale-105 shadow-lg\"\n                    >\n                        <ArrowLeft size={18} />\n                        Back to Categories\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/shop/bestsellers/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowLeft' is defined but never used.","line":9,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowLeft"},"fix":{"range":[359,369],"text":""},"desc":"Remove unused variable \"ArrowLeft\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":12,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[564,567],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[564,567],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":41,"column":8,"nodeType":"ArrayExpression","endLine":41,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1378,1380],"text":"[supabase]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":53,"column":17,"nodeType":"JSXOpeningElement","endLine":57,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClient } from '@/utils/supabase/client';\nimport ProductCard from '@/components/Product/ProductCard';\nimport BrandLoader from '@/components/UI/BrandLoader';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { ArrowLeft, TrendingUp } from 'lucide-react';\n\nexport default function BestsellersPage() {\n    const router = useRouter();\n    const supabase = createClient();\n\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchBestsellers = async () => {\n            setLoading(true);\n\n            // Fetch random products to simulate \"Popular\" (since no sales data)\n            // Ideally we would order by 'sales_count' desc\n            const { data, error } = await supabase\n                .from('products')\n                .select('*')\n                .limit(50);\n\n            if (error) {\n                console.error('Error fetching bestsellers:', error);\n            }\n\n            // Manual shuffle to make it look curated/randomized\n            const shuffled = data ? data.sort(() => 0.5 - Math.random()) : [];\n\n            setProducts(shuffled);\n            setLoading(false);\n        };\n\n        fetchBestsellers();\n    }, []);\n\n    if (loading) return <BrandLoader text=\"Rounding up the favorites...\" />;\n\n    return (\n        <div className=\"relative min-h-screen bg-gray-50 dark:bg-black pb-20 overflow-hidden\">\n            <AmbientBackground />\n            {/* Background Blob */}\n            <div className=\"absolute top-0 left-0 right-0 h-[500px] bg-gradient-to-br from-amber-500/10 via-orange-500/5 to-red-500/10 blur-3xl opacity-50 pointer-events-none\" />\n\n            {/* Hero Section */}\n            <div className=\"relative h-[60vh] w-full overflow-hidden flex items-center justify-center text-center\">\n                <img\n                    src=\"https://images.unsplash.com/photo-1529139574466-a302d2052505?q=80&w=2070&auto=format&fit=crop\"\n                    alt=\"Bestsellers\"\n                    className=\"absolute inset-0 w-full h-full object-cover\"\n                />\n                <div className=\"absolute inset-0 bg-black/40 dark:bg-black/60\" />\n                <div className=\"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gray-50 dark:from-black to-transparent z-10\" />\n\n                <div className=\"relative z-10 px-6 max-w-4xl mx-auto text-white\">\n                    <div className=\"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30 mb-6 shadow-lg\">\n                        <TrendingUp size={16} className=\"text-amber-400\" />\n                        <span className=\"text-xs font-bold uppercase tracking-widest text-white\">Top Rated</span>\n                    </div>\n                    <h1 className=\"text-5xl md:text-7xl font-heading font-bold mb-6\">\n                        Crowd Favorites.\n                    </h1>\n                    <p className=\"text-xl text-white/90 leading-relaxed max-w-2xl mx-auto\">\n                        The pieces everyoneâ€™s talking about. Validated by thousands of happy customers.\n                    </p>\n                </div>\n            </div>\n\n            {/* Grid */}\n            <div className=\"relative z-10 max-w-[1400px] mx-auto px-4 md:px-6\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-10 md:gap-x-8 md:gap-y-12\">\n                    {products.map((product, idx) => (\n                        <div key={product.id} className=\"animate-fade-in-up\" style={{ animationDelay: `${idx * 0.05}s` }}>\n                            <ProductCard\n                                id={product.id}\n                                name={product.name}\n                                brand=\"BroncStudio\"\n                                price={product.price}\n                                originalPrice={product.compare_at_price}\n                                image={product.images?.[0] || product.image_url || '/images/placeholder.jpg'}\n                                badge={idx < 5 ? 'Hot' : undefined}\n                            />\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/shop/new-arrivals/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowLeft' is defined but never used.","line":9,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowLeft"},"fix":{"range":[359,369],"text":""},"desc":"Remove unused variable \"ArrowLeft\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":12,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[562,565],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[562,565],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":44,"column":8,"nodeType":"ArrayExpression","endLine":44,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1567,1569],"text":"[supabase]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":56,"column":17,"nodeType":"JSXOpeningElement","endLine":60,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClient } from '@/utils/supabase/client';\nimport ProductCard from '@/components/Product/ProductCard';\nimport BrandLoader from '@/components/UI/BrandLoader';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { ArrowLeft, Sparkles } from 'lucide-react';\n\nexport default function NewArrivalsPage() {\n    const router = useRouter();\n    const supabase = createClient();\n\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchNewArrivals = async () => {\n            setLoading(true);\n\n            // 1. Fetch Manual \"new-arrival\" tag\n            const { data: manualData } = await supabase\n                .from('products')\n                .select('*')\n                .contains('metadata', { tags: ['new-arrival'] });\n\n            // 2. Fetch latest 50 products (Automatic)\n            const { data: autoData } = await supabase\n                .from('products')\n                .select('*')\n                .order('created_at', { ascending: false })\n                .limit(50);\n\n            // 3. Merge: Manual first, then Auto (Dedupe by ID)\n            const combined = [...(manualData || []), ...(autoData || [])];\n            const unique = Array.from(new Map(combined.map(item => [item.id, item])).values());\n\n            setProducts(unique);\n            setLoading(false);\n        };\n\n        fetchNewArrivals();\n    }, []);\n\n    if (loading) return <BrandLoader text=\"Unboxing new drops...\" />;\n\n    return (\n        <div className=\"relative min-h-screen bg-gray-50 dark:bg-black pb-20 overflow-hidden\">\n            <AmbientBackground />\n            {/* Background Blob */}\n            <div className=\"absolute top-0 left-0 right-0 h-[500px] bg-gradient-to-br from-purple-500/10 via-pink-500/5 to-coral-500/10 blur-3xl opacity-50 pointer-events-none\" />\n\n            {/* Hero Section */}\n            <div className=\"relative h-[60vh] w-full overflow-hidden flex items-center justify-center text-center\">\n                <img\n                    src=\"https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=2070&auto=format&fit=crop\"\n                    alt=\"New Arrivals\"\n                    className=\"absolute inset-0 w-full h-full object-cover\"\n                />\n                <div className=\"absolute inset-0 bg-black/40 dark:bg-black/60\" />\n                <div className=\"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-gray-50 dark:from-black to-transparent z-10\" />\n\n                <div className=\"relative z-10 px-6 max-w-4xl mx-auto text-white\">\n                    <div className=\"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30 mb-6 shadow-lg\">\n                        <Sparkles size={16} className=\"text-yellow-300\" />\n                        <span className=\"text-xs font-bold uppercase tracking-widest text-white\">Fresh Drops</span>\n                    </div>\n                    <h1 className=\"text-5xl md:text-7xl font-heading font-bold mb-6\">\n                        The New Standard.\n                    </h1>\n                    <p className=\"text-xl text-white/90 leading-relaxed max-w-2xl mx-auto\">\n                        Be the first to snag the latest styles added to our collection. Innovative designs for the modern legend.\n                    </p>\n                </div>\n            </div>\n\n            {/* Grid */}\n            <div className=\"relative z-10 max-w-[1400px] mx-auto px-4 md:px-6\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-10 md:gap-x-8 md:gap-y-12\">\n                    {products.map((product, idx) => (\n                        <div key={product.id} className=\"animate-fade-in-up\" style={{ animationDelay: `${idx * 0.05}s` }}>\n                            <ProductCard\n                                id={product.id}\n                                name={product.name}\n                                brand=\"BroncStudio\"\n                                price={product.price}\n                                originalPrice={product.compare_at_price}\n                                image={product.images?.[0] || product.image_url || '/images/placeholder.jpg'}\n                                badge=\"New\"\n                            />\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/shop/sale/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":6,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[163,175],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'formatPrice' is assigned a value but never used.","line":10,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":24},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":99,"column":94,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3906,3936],"text":"Don&apos;t miss out on future sales"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3906,3936],"text":"Don&lsquo;t miss out on future sales"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3906,3936],"text":"Don&#39;t miss out on future sales"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3906,3936],"text":"Don&rsquo;t miss out on future sales"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { useUI } from '@/context/UIContext';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { Percent, ArrowRight } from 'lucide-react';\nimport { getProductImage } from '@/utils/sampleImages';\n\nexport default function SalePage() {\n    const { formatPrice } = useUI();\n\n    // Mock Sale Products\n    const saleProducts = [\n        {\n            id: 'SALE-1',\n            name: 'Little Explorer T-Shirt',\n            brand: 'Little Legends',\n            price: 799,\n            originalPrice: 1299,\n            image: getProductImage(1),\n            badge: '40% OFF'\n        },\n        {\n            id: 'SALE-2',\n            name: 'Space Stories Bedseet',\n            brand: 'Space Stories',\n            price: 1899,\n            originalPrice: 2499,\n            image: getProductImage(2),\n            badge: 'BESTSELLER'\n        },\n        {\n            id: 'SALE-3',\n            name: 'Organic Cotton Socks',\n            brand: 'Everyday Icons',\n            price: 499,\n            originalPrice: 899,\n            image: getProductImage(3),\n            badge: 'STEAL DEAL'\n        },\n        {\n            id: 'SALE-4',\n            name: 'Summer Breeze Dress',\n            brand: 'Little Legends',\n            price: 1299,\n            originalPrice: 1999,\n            image: getProductImage(4),\n            badge: 'Limited Time'\n        },\n        {\n            id: 'SALE-5',\n            name: 'Wooden Puzzle Set',\n            brand: 'Little Legends',\n            price: 899,\n            originalPrice: 1499,\n            image: getProductImage(5),\n            badge: 'Clearance'\n        },\n        {\n            id: 'SALE-6',\n            name: 'Comfort Knit Beanie',\n            brand: 'Style Extras',\n            price: 399,\n            originalPrice: 799,\n            image: getProductImage(6),\n            badge: 'Hot'\n        }\n    ];\n\n    return (\n        <main className=\"bg-white dark:bg-black min-h-screen\">\n            {/* Hero Section */}\n            <div className=\"bg-navy-900 text-white pt-10 pb-20 px-4 relative overflow-hidden\">\n                <div className=\"absolute top-0 right-0 w-64 h-64 bg-coral-500 rounded-full blur-[100px] opacity-20\" />\n                <div className=\"absolute bottom-0 left-0 w-48 h-48 bg-blue-500 rounded-full blur-[80px] opacity-20\" />\n\n                <div className=\"container-premium max-w-[1200px] mx-auto relative z-10 text-center\">\n                    <div className=\"inline-flex items-center gap-2 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full text-sm font-bold text-coral-300 mb-4 border border-white/10 uppercase tracking-widest\">\n                        <Percent size={14} /> End of Season Sale\n                    </div>\n                    <h1 className=\"text-4xl md:text-6xl font-heading font-bold mb-4\">\n                        Up to <span className=\"text-coral-500\">60% OFF</span> on Legends\n                    </h1>\n                    <p className=\"text-gray-300 max-w-xl mx-auto mb-8 text-lg\">\n                        Grab your favorites before they are gone. Limited stock available on our most loved designs.\n                    </p>\n                </div>\n            </div>\n\n            {/* Grid */}\n            <div className=\"container-premium max-w-[1200px] mx-auto px-4 md:px-6 -mt-10 pb-24 relative z-20\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-10 md:gap-x-8 md:gap-y-12\">\n                    {saleProducts.map((product, i) => (\n                        <ProductCard key={i} {...product} />\n                    ))}\n                </div>\n\n                <div className=\"mt-20 flex flex-col items-center justify-center bg-gray-50 dark:bg-white/5 rounded-3xl p-12 text-center border border-gray-100 dark:border-white/10\">\n                    <h2 className=\"text-2xl font-bold text-navy-900 dark:text-white mb-2\">Don't miss out on future sales</h2>\n                    <p className=\"text-gray-500 dark:text-gray-400 mb-6 max-w-md\">Join our newsletter and be the first to know about flash sales and new drops.</p>\n                    <div className=\"flex w-full max-w-md gap-2\">\n                        <input type=\"email\" placeholder=\"Enter your email\" className=\"flex-1 px-4 py-3 rounded-xl border border-gray-200 dark:border-white/10 bg-white dark:bg-black/50 dark:text-white outline-none focus:border-navy-900 dark:focus:border-white transition-colors\" />\n                        <button className=\"bg-navy-900 dark:bg-white text-white dark:text-black px-6 py-3 rounded-xl font-bold hover:bg-coral-500 transition-colors\">\n                            Subscribe\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/sustainability/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":4,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[42,71],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":15,"column":17,"nodeType":"JSXOpeningElement","endLine":19,"endColumn":19},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":31,"column":67,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1608,1806],"text":"\n                        We believe in a future where fashion doesn&apos;t cost the earth. Thatâ€™s why weâ€™re committed to sustainable sourcing, fair wages, and zero-plastic packaging.\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1608,1806],"text":"\n                        We believe in a future where fashion doesn&lsquo;t cost the earth. Thatâ€™s why weâ€™re committed to sustainable sourcing, fair wages, and zero-plastic packaging.\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1608,1806],"text":"\n                        We believe in a future where fashion doesn&#39;t cost the earth. Thatâ€™s why weâ€™re committed to sustainable sourcing, fair wages, and zero-plastic packaging.\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1608,1806],"text":"\n                        We believe in a future where fashion doesn&rsquo;t cost the earth. Thatâ€™s why weâ€™re committed to sustainable sourcing, fair wages, and zero-plastic packaging.\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":74,"column":25,"nodeType":"JSXOpeningElement","endLine":78,"endColumn":27},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":83,"column":104,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5603,5801],"text":"\n                            Every thread tells a story of Indian heritage. By choosing Broncstudio, you&apos;re supporting local textile communities in Tamil Nadu and Karnataka.\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5603,5801],"text":"\n                            Every thread tells a story of Indian heritage. By choosing Broncstudio, you&lsquo;re supporting local textile communities in Tamil Nadu and Karnataka.\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5603,5801],"text":"\n                            Every thread tells a story of Indian heritage. By choosing Broncstudio, you&#39;re supporting local textile communities in Tamil Nadu and Karnataka.\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5603,5801],"text":"\n                            Every thread tells a story of Indian heritage. By choosing Broncstudio, you&rsquo;re supporting local textile communities in Tamil Nadu and Karnataka.\n                        "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { Leaf, Droplets, Sun, Recycle } from 'lucide-react';\n\nexport default function SustainabilityPage() {\n    return (\n        <div className=\"min-h-screen bg-[#FAF9F7] dark:bg-black pb-20 pt-[var(--header-height)]\">\n            <AmbientBackground />\n\n            {/* Hero */}\n            <div className=\"relative h-[60vh] overflow-hidden flex items-center justify-center text-center px-6 bg-emerald-950\">\n                <img\n                    src=\"https://images.unsplash.com/photo-1473448912268-2022ce9509d8?q=80&w=2000&auto=format&fit=crop\"\n                    alt=\"Nature\"\n                    className=\"absolute inset-0 w-full h-full object-cover opacity-60\"\n                />\n                <div className=\"absolute inset-0 bg-black/40\" />\n\n                <div className=\"relative z-10 text-white max-w-3xl mx-auto\">\n                    <div className=\"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30 mb-6 shadow-lg\">\n                        <Leaf size={16} className=\"text-emerald-300\" />\n                        <span className=\"text-xs font-bold uppercase tracking-widest text-white\">Conscious by Broncstudio</span>\n                    </div>\n                    <h1 className=\"text-5xl md:text-7xl font-heading font-bold mb-6\">\n                        Good for them.<br />Good for the Planet.\n                    </h1>\n                    <p className=\"text-xl text-white/90 leading-relaxed\">\n                        We believe in a future where fashion doesn't cost the earth. Thatâ€™s why weâ€™re committed to sustainable sourcing, fair wages, and zero-plastic packaging.\n                    </p>\n                </div>\n            </div>\n\n            {/* The Cycle */}\n            <div className=\"container-premium max-w-[1200px] mx-auto px-6 py-24\">\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n                    <div className=\"text-center group\">\n                        <div className=\"w-20 h-20 mx-auto bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center text-emerald-600 dark:text-emerald-400 mb-6 group-hover:scale-110 transition-transform\">\n                            <Leaf size={32} />\n                        </div>\n                        <h3 className=\"text-xl font-bold text-navy-900 dark:text-white mb-3\">Organic Cotton</h3>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Grown without harmful pesticides, keeping the soil and farmers safe.</p>\n                    </div>\n                    <div className=\"text-center group\">\n                        <div className=\"w-20 h-20 mx-auto bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 mb-6 group-hover:scale-110 transition-transform\">\n                            <Droplets size={32} />\n                        </div>\n                        <h3 className=\"text-xl font-bold text-navy-900 dark:text-white mb-3\">Eco-Friendly Dyes</h3>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Water-based inks that are safe for sensitive skin and the waterways.</p>\n                    </div>\n                    <div className=\"text-center group\">\n                        <div className=\"w-20 h-20 mx-auto bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center text-amber-600 dark:text-amber-400 mb-6 group-hover:scale-110 transition-transform\">\n                            <Sun size={32} />\n                        </div>\n                        <h3 className=\"text-xl font-bold text-navy-900 dark:text-white mb-3\">Fair Wages</h3>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Crafted by artisans who are paid fairly and work in safe, happy conditions.</p>\n                    </div>\n                    <div className=\"text-center group\">\n                        <div className=\"w-20 h-20 mx-auto bg-gray-200 dark:bg-white/10 rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 mb-6 group-hover:scale-110 transition-transform\">\n                            <Recycle size={32} />\n                        </div>\n                        <h3 className=\"text-xl font-bold text-navy-900 dark:text-white mb-3\">Plastic-Free</h3>\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Your order arrives in cornstarch mailers and recycled paper boxes.</p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Made In India Block */}\n            <div className=\"bg-white dark:bg-black py-24 border-y border-gray-100 dark:border-white/10\">\n                <div className=\"container-premium max-w-[1000px] mx-auto px-6 flex flex-col md:flex-row items-center gap-12\">\n                    <div className=\"md:w-1/2\">\n                        <img\n                            src=\"https://images.unsplash.com/photo-1628148601679-0522197305b0?q=80&w=1000&auto=format&fit=crop\"\n                            alt=\"Artisans\"\n                            className=\"rounded-3xl shadow-lg w-full\"\n                        />\n                    </div>\n                    <div className=\"md:w-1/2\">\n                        <h2 className=\"text-4xl font-heading font-bold text-navy-900 dark:text-white mb-6\">Proudly Indian.</h2>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-lg mb-6 leading-relaxed\">\n                            Every thread tells a story of Indian heritage. By choosing Broncstudio, you're supporting local textile communities in Tamil Nadu and Karnataka.\n                        </p>\n                        <div className=\"flex gap-4\">\n                            <div className=\"px-4 py-2 bg-gray-100 dark:bg-white/10 rounded-lg text-sm font-bold text-navy-900 dark:text-white\">100% Homegrown</div>\n                            <div className=\"px-4 py-2 bg-gray-100 dark:bg-white/10 rounded-lg text-sm font-bold text-navy-900 dark:text-white\">Global Standards</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/app/worlds/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":8,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":23,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Zap"},"fix":{"range":[247,252],"text":""},"desc":"Remove unused variable \"Zap\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":8,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":43,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[258,272],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]},{"ruleId":"react/jsx-no-comment-textnodes","severity":2,"message":"Comments inside children section of tag should be placed inside braces","line":310,"column":88,"nodeType":"JSXText","messageId":"putCommentInBraces","endLine":310,"endColumn":91}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { motion } from 'framer-motion';\nimport GlassCard from '@/components/UI/GlassCard';\nimport AmbientBackground from '@/components/UI/AmbientBackground';\nimport { Sparkles, Zap, Star, ChevronRight, LayoutGrid } from 'lucide-react';\n\n// --- INTERFACES & DATA ---\n\ninterface CatalogItem {\n    name: string;\n    href: string;\n    badge?: string;\n    badgeColor?: 'pink' | 'blue' | 'gold' | 'green' | 'purple' | 'orange';\n}\n\ninterface SubCategory {\n    title: string;\n    items: CatalogItem[];\n}\n\ninterface Category {\n    title: string;\n    description?: string;\n    colSpan?: string; // Tailwind class for grid span (e.g. md:col-span-12)\n    subGridCols?: string; // Tailwind class for internal grid (e.g. md:grid-cols-4)\n    gradient?: string;\n    subcategories: SubCategory[];\n}\n\nconst CATALOG: Category[] = [\n    {\n        title: \"KIDS & LEARNING\",\n        gradient: \"from-blue-500 to-indigo-600\",\n        colSpan: \"md:col-span-12\",\n        subGridCols: \"md:grid-cols-4\",\n        description: \"Curiosity & Play\",\n        subcategories: [\n            {\n                title: \"Books\",\n                items: [\n                    { name: \"Kids Story Books\", href: \"/collections/kids-story-books\", badge: \"Classic\", badgeColor: \"gold\" },\n                    { name: \"Kids Colouring Books\", href: \"/collections/kids-colouring-books\", badge: \"New\", badgeColor: \"green\" },\n                    { name: \"Classic Books\", href: \"/collections/classic-books\" }\n                ]\n            },\n            {\n                title: \"Stationery\",\n                items: [\n                    { name: \"Sketchbooks\", href: \"/collections/sketchbooks\" },\n                    { name: \"Notebooks\", href: \"/collections/notebooks\" },\n                    { name: \"Daily Planners\", href: \"/collections/daily-planners\", badge: \"Hot\", badgeColor: \"pink\" },\n                    { name: \"Notepads\", href: \"/collections/notepads\" }\n                ]\n            },\n            {\n                title: \"Paper Accessories\",\n                items: [\n                    { name: \"Bookmarks\", href: \"/collections/bookmarks\" },\n                    { name: \"Postcards\", href: \"/collections/postcards\" },\n                    { name: \"Greeting Cards\", href: \"/collections/greeting-cards\" }\n                ]\n            },\n            {\n                title: \"Toys & Activities\",\n                items: [\n                    { name: \"MDF Puzzles\", href: \"/collections/mdf-puzzles\" },\n                    { name: \"Jigsaw Puzzles\", href: \"/collections/jigsaw-puzzles\" },\n                    { name: \"Tattoos\", href: \"/collections/kids-tattoos\", badge: \"Fun\", badgeColor: \"blue\" },\n                    { name: \"Stickers\", href: \"/collections/kids-stickers\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"CLOTHING\",\n        colSpan: \"md:col-span-12\",\n        subGridCols: \"md:grid-cols-3\",\n        gradient: \"from-rose-500 to-orange-600\",\n        description: \"Apparel for All\",\n        subcategories: [\n            {\n                title: \"Men\",\n                items: [\n                    { name: \"Classic Crew\", href: \"/collections/men-classic-crew\" },\n                    { name: \"Oversized Tees\", href: \"/collections/men-oversized-tees\", badge: \"Trending\", badgeColor: \"pink\" },\n                    { name: \"Polos\", href: \"/collections/men-polos\" },\n                    { name: \"Hoodies\", href: \"/collections/men-hoodies\", badge: \"Winter\", badgeColor: \"blue\" },\n                    { name: \"Jackets\", href: \"/collections/men-jackets\" },\n                    { name: \"Bottoms\", href: \"/collections/men-bottoms\" }\n                ]\n            },\n            {\n                title: \"Women\",\n                items: [\n                    { name: \"Tops & Tees\", href: \"/collections/women-tops-tees\" },\n                    { name: \"Dresses\", href: \"/collections/women-dresses\" },\n                    { name: \"Bottom Wear\", href: \"/collections/women-bottom-wear\" },\n                    { name: \"Activewear\", href: \"/collections/women-activewear\", badge: \"Pro\", badgeColor: \"green\" },\n                    { name: \"Outerwear\", href: \"/collections/women-outerwear\" }\n                ]\n            },\n            {\n                title: \"Kids\",\n                items: [\n                    { name: \"Boys Tees\", href: \"/collections/boys-tees\" },\n                    { name: \"Girls Tees\", href: \"/collections/girls-tees\" },\n                    { name: \"Rompers\", href: \"/collections/rompers\", badge: \"Cute\", badgeColor: \"pink\" },\n                    { name: \"Winter Wear\", href: \"/collections/kids-winter-wear\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"ACCESSORIES\",\n        colSpan: \"md:col-span-3\",\n        gradient: \"from-purple-500 to-pink-600\",\n        description: \"Style Extras\",\n        subcategories: [\n            {\n                title: \"Headwear\",\n                items: [\n                    { name: \"Caps\", href: \"/collections/caps\", badge: \"Best\", badgeColor: \"gold\" },\n                    { name: \"Snapbacks\", href: \"/collections/snapbacks\" },\n                    { name: \"Bucket Hats\", href: \"/collections/bucket-hats\" }\n                ]\n            },\n            {\n                title: \"Wearables\",\n                items: [\n                    { name: \"Scarves\", href: \"/collections/scarves\" },\n                    { name: \"Scrunchies\", href: \"/collections/scrunchies\" },\n                    { name: \"Aprons\", href: \"/collections/aprons\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"TECH & DESK\",\n        colSpan: \"md:col-span-3\",\n        gradient: \"from-cyan-500 to-blue-600\",\n        description: \"Workspace\",\n        subcategories: [\n            {\n                title: \"Cases\",\n                items: [\n                    { name: \"iPhone\", href: \"/collections/iphone-cases\", badge: \"New\", badgeColor: \"gold\" },\n                    { name: \"Samsung\", href: \"/collections/samsung-cases\" },\n                    { name: \"OnePlus\", href: \"/collections/oneplus-cases\" }\n                ]\n            },\n            {\n                title: \"Desk\",\n                items: [\n                    { name: \"Mouse Pads\", href: \"/collections/mouse-pads\" },\n                    { name: \"Gaming Pads\", href: \"/collections/gaming-pads\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"HOME & DECOR\",\n        colSpan: \"md:col-span-3\",\n        gradient: \"from-emerald-500 to-teal-600\",\n        description: \"Decor\",\n        subcategories: [\n            {\n                title: \"Wall\",\n                items: [\n                    { name: \"Posters\", href: \"/collections/posters\" },\n                    { name: \"Canvas\", href: \"/collections/canvas\" }\n                ]\n            },\n            {\n                title: \"Living\",\n                items: [\n                    { name: \"Pop Sockets\", href: \"/collections/pop-sockets\" }, // Assuming replacement or keep\n                    { name: \"Coasters\", href: \"/collections/coasters\" },\n                    { name: \"Cushions\", href: \"/collections/cushions\" },\n                    { name: \"Magnets\", href: \"/collections/magnets\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"DRINKWARE\",\n        colSpan: \"md:col-span-3\",\n        gradient: \"from-amber-500 to-orange-600\",\n        description: \"Sip in Style\",\n        subcategories: [\n            {\n                title: \"Mugs\",\n                items: [\n                    { name: \"Coffee Mugs\", href: \"/collections/coffee-mugs\" },\n                    { name: \"Magic Mugs\", href: \"/collections/magic-mugs\" }\n                ]\n            },\n            {\n                title: \"Bottles\",\n                items: [\n                    { name: \"Steel Bottles\", href: \"/collections/steel-bottles\" },\n                    { name: \"Sippers\", href: \"/collections/sippers\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"BAGS\",\n        colSpan: \"md:col-span-4\",\n        gradient: \"from-indigo-500 to-purple-600\",\n        description: \"Carry Essentials\",\n        subcategories: [\n            {\n                title: \"Daily\",\n                items: [\n                    { name: \"Tote Bags (Zip)\", href: \"/collections/tote-bags-zip\", badge: \"Must Have\", badgeColor: \"blue\" },\n                    { name: \"Large Totes\", href: \"/collections/large-totes\" },\n                    { name: \"Drawstrings\", href: \"/collections/drawstring-bags\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"LIFESTYLE\",\n        colSpan: \"md:col-span-4\",\n        gradient: \"from-pink-500 to-rose-600\",\n        description: \"Small Joys\",\n        subcategories: [\n            {\n                title: \"Trinkets\",\n                items: [\n                    { name: \"Keychains\", href: \"/collections/keychains\" },\n                    { name: \"Badges\", href: \"/collections/badges\" }\n                ]\n            },\n            {\n                title: \"Tags\",\n                items: [\n                    { name: \"Luggage Tags\", href: \"/collections/luggage-tags\" },\n                    { name: \"Patches\", href: \"/collections/patches\" }\n                ]\n            }\n        ]\n    },\n    {\n        title: \"PETS\",\n        colSpan: \"md:col-span-4\",\n        gradient: \"from-lime-500 to-green-600\",\n        description: \"Furry Friends\",\n        subcategories: [\n            {\n                title: \"Essentials\",\n                items: [\n                    { name: \"Dog Tees\", href: \"/collections/dog-tees\", badge: \"Cute\", badgeColor: \"orange\" },\n                    { name: \"Pet Tags\", href: \"/collections/pet-tags\" }\n                ]\n            }\n        ]\n    }\n];\n\n// --- COMPONENTS ---\n\nconst GlowingBadge = ({ text, color = 'blue' }: { text: string, color?: CatalogItem['badgeColor'] }) => {\n    const colorMap = {\n        pink: 'bg-pink-500',\n        blue: 'bg-blue-500',\n        gold: 'bg-amber-500',\n        green: 'bg-emerald-500',\n        purple: 'bg-purple-500',\n        orange: 'bg-orange-500',\n    };\n\n    const styles = colorMap[color as keyof typeof colorMap] || colorMap.blue;\n\n    return (\n        <span className={`inline-flex items-center px-1.5 py-[2px] rounded-sm text-[8px] font-bold uppercase tracking-wider text-white shadow-sm ml-2 ${styles}`}>\n            {text}\n        </span>\n    );\n};\n\n// --- MAIN PAGE ---\n\nexport default function WorldsPage() {\n    return (\n        <main className=\"relative min-h-screen pt-[var(--header-height)] pb-24 overflow-hidden selection:bg-coral-500/30\">\n            <AmbientBackground />\n\n            {/* Technical Grid Background */}\n            <div className=\"fixed inset-0 z-0 pointer-events-none opacity-[0.04] dark:opacity-[0.06]\"\n                style={{\n                    backgroundImage: 'linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)',\n                    backgroundSize: '24px 24px'\n                }}\n            />\n\n            <div className=\"relative z-10 container-premium max-w-[1400px] mx-auto px-6\">\n\n                {/* Header */}\n                <div className=\"py-12 flex flex-col md:flex-row items-end justify-between gap-6 border-b border-navy-900/10 dark:border-white/10 mb-8 pb-6\">\n                    <div>\n                        <div className=\"flex items-center gap-2 mb-2 text-xs font-bold uppercase tracking-widest text-coral-500\">\n                            <LayoutGrid size={14} />\n                            <span>Product Matrix</span>\n                        </div>\n                        <h1 className=\"text-3xl md:text-5xl font-heading font-black text-navy-900 dark:text-white tracking-tight\">\n                            CATALOG <span className=\"text-gray-300 dark:text-white/20\">///</span>\n                        </h1>\n                    </div>\n                </div>\n\n                {/* COMPACT DENSE GRID */}\n                <div className=\"grid grid-cols-1 md:grid-cols-12 gap-4\">\n                    {CATALOG.map((category) => (\n                        <motion.div\n                            key={category.title}\n                            initial={{ opacity: 0, y: 10 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            transition={{ duration: 0.4 }}\n                            className={`${category.colSpan || 'md:col-span-3'} flex flex-col`}\n                        >\n                            <GlassCard\n                                className=\"h-full group hover:border-gray-400 dark:hover:border-white/30 transition-all duration-300 overflow-visible bg-white/70 dark:bg-navy-900/60\"\n                                disableTilt\n                            >\n                                {/* Header */}\n                                <div className=\"p-4 border-b border-navy-900/5 dark:border-white/5 flex items-center justify-between bg-white/40 dark:bg-black/20\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className={`w-1 h-8 rounded-full bg-gradient-to-b ${category.gradient}`} />\n                                        <div>\n                                            <h2 className=\"text-xl font-bold text-navy-900 dark:text-white tracking-tight leading-none\">\n                                                {category.title}\n                                            </h2>\n                                            {category.description && (\n                                                <span className=\"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-widest\">\n                                                    {category.description}\n                                                </span>\n                                            )}\n                                        </div>\n                                    </div>\n                                    <Sparkles size={14} className=\"text-gray-300 dark:text-white/20 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                                </div>\n\n                                {/* Content Grid */}\n                                <div className={`p-4 grid gap-6 ${category.subGridCols || 'grid-cols-1'}`}>\n                                    {category.subcategories.map((sub) => (\n                                        <div key={sub.title} className=\"space-y-2\">\n                                            <h3 className=\"text-xs font-bold uppercase tracking-wider text-gray-400 dark:text-gray-300 border-b border-dashed border-gray-200 dark:border-white/20 pb-1 mb-2\">\n                                                {sub.title}\n                                            </h3>\n                                            <ul className=\"space-y-1\">\n                                                {sub.items.map((item) => (\n                                                    <li key={item.name}>\n                                                        <Link\n                                                            href={item.href}\n                                                            className=\"block py-1 text-sm font-semibold text-gray-600 dark:text-gray-200 hover:text-navy-900 dark:hover:text-white hover:translate-x-1 transition-all duration-200\"\n                                                        >\n                                                            <div className=\"flex items-center flex-wrap gap-1\">\n                                                                {item.name}\n                                                                {item.badge && <GlowingBadge text={item.badge} color={item.badgeColor} />}\n                                                            </div>\n                                                        </Link>\n                                                    </li>\n                                                ))}\n                                            </ul>\n                                        </div>\n                                    ))}\n                                </div>\n                            </GlassCard>\n                        </motion.div>\n                    ))}\n                </div>\n\n                {/* Footer CTA */}\n                <div className=\"mt-16 text-center border-t border-navy-900/10 dark:border-white/10 pt-8\">\n                    <Link\n                        href=\"/curated\"\n                        className=\"inline-flex items-center gap-2 px-8 py-4 bg-navy-900 dark:bg-white text-white dark:text-navy-900 rounded-full font-bold uppercase tracking-widest text-sm hover:scale-105 hover:shadow-lg transition-all duration-300\"\n                    >\n                        <Star size={16} className=\"fill-current\" />\n                        Find the Perfect Gift\n                    </Link>\n                </div>\n\n            </div>\n        </main>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Collection/ActiveFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Collection/FilterSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Collection/SortBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Footer/Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Footer/FooterWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Footer/PremiumFooter.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RotateCcw' is defined but never used.","line":8,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":27,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"RotateCcw"},"fix":{"range":[175,186],"text":""},"desc":"Remove unused variable \"RotateCcw\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CreditCard' is defined but never used.","line":10,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CreditCard"},"fix":{"range":[254,266],"text":""},"desc":"Remove unused variable \"CreditCard\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Crown' is defined but never used.","line":11,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":10,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Crown"},"fix":{"range":[274,285],"text":""},"desc":"Remove unused variable \"Crown\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'HelpCircle' is defined but never used.","line":11,"column":58,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":68,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"HelpCircle"},"fix":{"range":[331,343],"text":""},"desc":"Remove unused variable \"HelpCircle\"."}]},{"ruleId":"@next/next/no-html-link-for-pages","severity":2,"message":"Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages","line":59,"column":29,"nodeType":"JSXOpeningElement","endLine":59,"endColumn":134},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":60,"column":33,"nodeType":"JSXOpeningElement","endLine":60,"endColumn":118},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":244,"column":29,"nodeType":"JSXOpeningElement","endLine":248,"endColumn":31}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { usePathname } from 'next/navigation';\nimport {\n    Lock, Truck, RotateCcw, MapPin,\n    Instagram, Facebook, Youtube, Twitter,\n    ChevronDown, CreditCard, Wallet,\n    Crown, Leaf, BookOpen, Newspaper, Percent, Sparkles, HelpCircle\n} from 'lucide-react';\nimport { useToast } from '@/context/ToastContext';\n\nconst FooterAccordion = ({ title, children, isOpenDefault = false }: { title: string, children: React.ReactNode, isOpenDefault?: boolean }) => {\n    return (\n        <details className=\"group md:hidden border-b border-white/10 last:border-none\" open={isOpenDefault}>\n            <summary className=\"list-none flex justify-between items-center py-4 cursor-pointer text-white font-medium\">\n                {title}\n                <ChevronDown size={16} className=\"transition-transform group-open:-rotate-180 text-gray-400\" />\n            </summary>\n            <div className=\"pb-4 text-gray-400 text-sm space-y-2\">\n                {children}\n            </div>\n        </details>\n    );\n};\n\nexport default function PremiumFooter() {\n    const pathname = usePathname();\n    const { addToast } = useToast();\n    const [email, setEmail] = React.useState('');\n    const [isSubscribing, setIsSubscribing] = React.useState(false);\n\n    if (pathname === '/login') return null;\n\n    const handleSubscribe = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!email) return;\n\n        setIsSubscribing(true);\n        // Simulate API call\n        await new Promise(resolve => setTimeout(resolve, 1500));\n\n        addToast('Thank you for subscribing', 'subscribe');\n        setEmail('');\n        setIsSubscribing(false);\n    };\n\n    return (\n        <footer className=\"bg-[#0B1220] dark:bg-black text-secondary pt-16 pb-24 md:pb-0 border-t border-subtle\">\n            <div className=\"container-premium max-w-[1200px] mx-auto\">\n\n                <div className=\"grid grid-cols-1 md:grid-cols-12 gap-12 md:gap-8 pb-12 mb-12\">\n\n                    {/* 1. BRAND BLOCK (Left - 4 cols) */}\n                    <div className=\"md:col-span-4 space-y-6\">\n                        <div>\n                            <a href=\"/\" className=\"flex flex-col items-center gap-2 mb-6 cursor-pointer group w-fit mx-auto md:mx-0\">\n                                <img src=\"/whitelogo.png\" alt=\"Broncstudio\" className=\"h-20 w-auto object-contain\" />\n                                <div className=\"relative h-20 md:h-14 w-auto aspect-[4/1]\">\n                                    {/* Light Mode */}\n                                    <Image\n                                        src=\"/broncname.png\"\n                                        alt=\"Broncstudio\"\n                                        fill\n                                        className=\"object-contain dark:hidden\"\n                                    />\n                                    {/* Dark Mode */}\n                                    <Image\n                                        src=\"/broncnamey.png\"\n                                        alt=\"Broncstudio\"\n                                        fill\n                                        className=\"object-contain hidden dark:block\"\n                                    />\n                                </div>\n                            </a>\n                            <p className=\"text-white/80 italic font-medium text-center md:text-left\">Stories, style, and little things that matter.</p>\n                        </div>\n                        <p className=\"text-secondary text-sm leading-relaxed max-w-sm text-center md:text-left mx-auto md:mx-0\">\n                            A thoughtfully curated lifestyle brand bringing together kidsâ€™ books, fashion, gifts, and everyday essentials â€” designed to spark joy, trust, and creativity for all ages.\n                        </p>\n\n                        {/* Trust Badges */}\n                        <div className=\"flex flex-wrap gap-4 pt-2\">\n                            <div className=\"flex items-center gap-2 text-xs text-brand-secondary bg-white/5 px-3 py-1.5 rounded-full border border-white/10 hover:bg-white/10 hover:border-white/30 transition-all duration-300 cursor-default\">\n                                <Lock size={14} className=\"text-emerald-400\" /> Secure\n                            </div>\n                            <div className=\"flex items-center gap-2 text-xs text-brand-secondary bg-white/5 px-3 py-1.5 rounded-full border border-white/10 hover:bg-white/10 hover:border-white/30 transition-all duration-300 cursor-default\">\n                                <Truck size={14} className=\"text-emerald-400\" /> Fast Delivery\n                            </div>\n\n                            <div className=\"flex items-center gap-2 text-xs text-brand-secondary bg-white/5 px-3 py-1.5 rounded-full border border-white/10 hover:bg-white/10 hover:border-white/30 transition-all duration-300 cursor-default\">\n                                <MapPin size={14} className=\"text-emerald-400\" /> India\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* DESKTOP COLUMNS (8 cols shared by 4 sections = 2 each) */}\n                    {/* Mobile: Accordions */}\n\n                    {/* 2. COLLECTIONS */}\n                    <div className=\"md:col-span-2 hidden md:block\">\n                        <h3 className=\"text-white font-bold mb-6\">Collections</h3>\n                        <ul className=\"space-y-3 text-sm text-secondary\">\n                            <li><Link href=\"/shop/new-arrivals\" className=\"hover:text-white transition-colors\">New Arrivals</Link></li>\n                            <li><Link href=\"/shop/bestsellers\" className=\"hover:text-white transition-colors\">Bestsellers</Link></li>\n                            <li className=\"pt-2 border-t border-white/10 mt-2\"></li>\n                            <li><Link href=\"/shop/stationery-play\" className=\"hover:text-white transition-colors\">Stationery & Play</Link></li>\n                            <li><Link href=\"/shop/clothing\" className=\"hover:text-white transition-colors\">Clothing</Link></li>\n                            <li><Link href=\"/shop/lifestyle\" className=\"hover:text-white transition-colors\">Lifestyle</Link></li>\n                            <li><Link href=\"/shop/home-tech\" className=\"hover:text-white transition-colors\">Home & Tech</Link></li>\n                            <li><Link href=\"/shop/accessories\" className=\"hover:text-white transition-colors\">Accessories</Link></li>\n                            <li><Link href=\"/shop/pets\" className=\"hover:text-white transition-colors\">Pets</Link></li>\n                        </ul>\n                    </div>\n\n                    {/* 3. DISCOVER (Premium Features) */}\n                    <div className=\"md:col-span-2 hidden md:block\">\n                        <h3 className=\"text-white font-bold mb-6\">Discover</h3>\n                        <ul className=\"space-y-4 text-sm\">\n                            <li>\n                                <Link href=\"/gift-finder\" className=\"flex items-center gap-2 text-coral-500 hover:text-coral-400 transition-colors font-bold group\">\n                                    <Sparkles size={16} className=\"group-hover:rotate-12 transition-transform\" />\n                                    Gift Finder\n                                </Link>\n                            </li>\n                            <li>\n                                <Link href=\"/rewards\" className=\"flex items-center gap-2 text-amber-500 hover:text-amber-400 transition-colors font-bold group\">\n                                    <Wallet size={16} className=\"group-hover:-translate-y-0.5 transition-transform\" />\n                                    My Wallet\n                                </Link>\n                            </li>\n                            <li>\n                                <Link href=\"/sustainability\" className=\"flex items-center gap-2 text-emerald-500 hover:text-emerald-400 transition-colors font-medium group\">\n                                    <Leaf size={16} className=\"group-hover:rotate-45 transition-transform\" />\n                                    Conscious\n                                </Link>\n                            </li>\n                            <li className=\"pt-2 border-t border-white/10 mt-2\"></li>\n                            <li><Link href=\"/lookbook\" className=\"flex items-center gap-2 text-secondary hover:text-white transition-colors\"><BookOpen size={14} /> Lookbook</Link></li>\n                            <li><Link href=\"/press\" className=\"flex items-center gap-2 text-secondary hover:text-white transition-colors\"><Newspaper size={14} /> Press</Link></li>\n                            <li><Link href=\"/shop/sale\" className=\"flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors font-bold\"><Percent size={14} /> Sale</Link></li>\n                        </ul>\n                    </div>\n\n                    {/* 4. SUPPORT */}\n                    <div className=\"md:col-span-2 hidden md:block\">\n                        <h3 className=\"text-white font-bold mb-6\">Support</h3>\n                        <ul className=\"space-y-3 text-sm text-secondary\">\n                            <li><Link href=\"/help/track\" className=\"hover:text-white transition-colors\">Order Tracking</Link></li>\n                            <li><Link href=\"/help/returns\" className=\"hover:text-white transition-colors\">Returns & Refunds</Link></li>\n                            <li><Link href=\"/help/shipping\" className=\"hover:text-white transition-colors\">Shipping Info</Link></li>\n                            <li><Link href=\"/help/size-guide\" className=\"hover:text-white transition-colors\">Size Guide</Link></li>\n                            <li><Link href=\"/help/faq\" className=\"hover:text-white transition-colors\">FAQs</Link></li>\n                            <li><Link href=\"/help/contact\" className=\"hover:text-white transition-colors\">Contact Us</Link></li>\n                            <li className=\"pt-4 text-xs font-bold uppercase tracking-wider opacity-50\">Policies</li>\n                            <li><Link href=\"/policies/privacy\" className=\"hover:text-white transition-colors text-xs\">Privacy Policy</Link></li>\n                            <li><Link href=\"/policies/terms\" className=\"hover:text-white transition-colors text-xs\">Terms & Conditions</Link></li>\n                        </ul>\n                    </div>\n\n                    {/* 5. CONNECT (Newsletter) */}\n                    <div className=\"md:col-span-2 space-y-6\">\n                        <div>\n                            <h3 className=\"text-white font-bold mb-2\">Get early access</h3>\n                            <p className=\"text-sm text-secondary mb-4\">Be the first to know about new launches and stories.</p>\n                            <form onSubmit={handleSubscribe} className=\"flex flex-col gap-2\">\n                                <input\n                                    type=\"email\"\n                                    placeholder=\"Email Address\"\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                    disabled={isSubscribing}\n                                    className=\"bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-white/30 focus:ring-1 focus:ring-white/30 transition-colors w-full disabled:opacity-50\"\n                                    required\n                                />\n                                <button\n                                    type=\"submit\"\n                                    disabled={isSubscribing}\n                                    className={`bg-white text-black hover:bg-gray-200 font-bold py-3 rounded-lg transition-colors w-full text-sm flex items-center justify-center ${isSubscribing ? 'opacity-70 cursor-wait' : ''}`}\n                                >\n                                    {isSubscribing ? (\n                                        <span className=\"flex items-center gap-2\">\n                                            <span className=\"w-3 h-3 border-2 border-black/30 border-t-black rounded-full animate-spin\" />\n                                            Subscribing...\n                                        </span>\n                                    ) : (\n                                        'Subscribe'\n                                    )}\n                                </button>\n                            </form>\n                            <p className=\"text-xs text-gray-500 mt-2 italic\">No spam. Only good things.</p>\n                        </div>\n\n                        <div className=\"pt-4\">\n                            <h4 className=\"text-xs font-bold uppercase tracking-widest text-gray-500 mb-3\">Follow the world</h4>\n                            <div className=\"flex gap-4\">\n                                <a href=\"https://www.instagram.com/broncstudio?igsh=dWNkZXFjaXdvMDMz\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/20 hover:text-white transition-colors\"><Instagram size={16} /></a>\n                                <a href=\"#\" className=\"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/20 hover:text-white transition-colors\"><Facebook size={16} /></a>\n                                <a href=\"#\" className=\"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/20 hover:text-white transition-colors\"><Youtube size={16} /></a>\n                                <a href=\"#\" className=\"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/20 hover:text-white transition-colors\"><Twitter size={16} /></a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* MOBILE ACCORDIONS (Visible only on mobile) */}\n                <div className=\"md:hidden space-y-0 mb-12\">\n                    <FooterAccordion title=\"Explore Our Worlds\">\n                        <ul className=\"space-y-3 pb-2 pl-2\">\n                            <li><Link href=\"/shop/stationery-play\" className=\"block py-1\">Stationery & Play</Link></li>\n                            <li><Link href=\"/shop/clothing\" className=\"block py-1\">Clothing</Link></li>\n                            <li><Link href=\"/shop/lifestyle\" className=\"block py-1\">Lifestyle</Link></li>\n                            <li><Link href=\"/shop/home-tech\" className=\"block py-1\">Home & Tech</Link></li>\n                            <li><Link href=\"/shop/accessories\" className=\"block py-1\">Accessories</Link></li>\n                            <li><Link href=\"/shop/pets\" className=\"block py-1\">Pets</Link></li>\n                        </ul>\n                    </FooterAccordion>\n\n                    <FooterAccordion title=\"Quick Shop\">\n                        <ul className=\"space-y-3 pb-2 pl-2\">\n                            <li><Link href=\"/shop/new-arrivals\" className=\"block py-1\">New Arrivals</Link></li>\n                            <li><Link href=\"/shop/bestsellers\" className=\"block py-1\">Bestsellers</Link></li>\n                        </ul>\n                    </FooterAccordion>\n                    <FooterAccordion title=\"Help & Support\">\n                        <ul className=\"space-y-3 pb-2 pl-2\">\n                            <li><Link href=\"/help/faq\" className=\"block py-1\">FAQs</Link></li>\n                            <li><Link href=\"/help/returns\" className=\"block py-1\">Returns & Refunds</Link></li>\n                            <li><Link href=\"/help/contact\" className=\"block py-1\">Contact Us</Link></li>\n                        </ul>\n                    </FooterAccordion>\n                </div>\n\n                {/* BOTTOM BAR */}\n                <div className=\"py-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-500 border-t border-white/5\">\n                    <div>\n                        &copy; {new Date().getFullYear()} Broncstudio. All rights reserved.\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"flex items-center gap-2 group cursor-default\">\n                            <span className=\"text-[10px] font-bold tracking-widest uppercase text-gray-500 group-hover:text-gray-300 transition-colors\">MADE IN INDIA</span>\n                            <img\n                                src=\"/makeinindia.png\"\n                                alt=\"Make in India\"\n                                className=\"h-10 w-auto brightness-0 invert opacity-80 group-hover:filter-none group-hover:opacity-100 transition-all duration-500\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </footer >\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Header/Header.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronDown' is defined but never used.","line":7,"column":50,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":61,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronDown"},"fix":{"range":[223,236],"text":""},"desc":"Remove unused variable \"ChevronDown\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'pathname' is assigned a value but never used.","line":17,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":85,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":88,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1385,1388],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1385,1388],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":99,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":102,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1399,1402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1399,1402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'departments' is assigned a value but never used.","line":50,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":50,"endColumn":22}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { usePathname } from 'next/navigation';\nimport { Search, ShoppingBag, Heart, Menu, User, ChevronDown, Home } from 'lucide-react';\nimport { useUI } from '@/context/UIContext';\nimport { useCart } from '@/context/CartContext';\nimport MobileMenu from './MobileMenu';\nimport MegaMenu from './MegaMenu';\nimport { createClient } from '@/utils/supabase/client';\nimport type { User as SupabaseUser } from '@supabase/supabase-js';\nimport { DEPARTMENT_TAXONOMY } from '@/data/categories';\n\nexport default function Header() {\n    const pathname = usePathname();\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n    const [isScrolled, setIsScrolled] = useState(false);\n    const [currentUser, setCurrentUser] = useState<SupabaseUser | null>(null);\n    const [activeDepartment, setActiveDepartment] = useState<string | null>(null);\n\n    const { openSearch, toggleWishlist } = useUI();\n    const { cartCount } = useCart();\n    const supabase = createClient();\n\n    useEffect(() => {\n        const checkUser = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n            setCurrentUser(user);\n        };\n        checkUser();\n\n        const { data: { subscription } } = supabase.auth.onAuthStateChange((_event: any, session: any) => {\n            setCurrentUser(session?.user ?? null);\n        });\n\n        const handleScroll = () => {\n            setIsScrolled(window.scrollY > 20);\n        };\n        window.addEventListener('scroll', handleScroll);\n\n        return () => {\n            subscription.unsubscribe();\n            window.removeEventListener('scroll', handleScroll);\n        };\n    }, [supabase.auth]);\n\n    // Departments for the nav (keys from taxonomy)\n    const departments = Object.keys(DEPARTMENT_TAXONOMY).map(key => ({\n        key,\n        ...DEPARTMENT_TAXONOMY[key as keyof typeof DEPARTMENT_TAXONOMY]\n    }));\n\n    return (\n        <>\n            <header\n                className={`sticky top-0 z-[100] w-full transition-all duration-300 ${isScrolled ? 'h-[60px] shadow-sm bg-black/80 backdrop-blur-md' : 'h-[72px] bg-black'}`}\n                onMouseLeave={() => setActiveDepartment(null)}\n            >\n                <div className=\"max-w-[1400px] mx-auto px-6 h-full flex items-center justify-between relative\">\n\n                    {/* Left: Hamburger */}\n                    <div className=\"flex items-center gap-4\">\n                        <button\n                            className=\"p-2 -ml-2 text-white hover:text-coral-500 transition-colors\"\n                            onClick={() => setIsMobileMenuOpen(true)}\n                        >\n                            <Menu size={24} strokeWidth={1.5} />\n                        </button>\n                        <Link href=\"/\" className=\"p-2 text-white hover:text-coral-500 transition-colors hidden md:block\">\n                            <Home size={24} strokeWidth={1.5} />\n                        </Link>\n                    </div>\n\n                    {/* Center: Logo */}\n                    <Link href=\"/\" className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-0 pr-8 md:gap-4 md:pr-0 group\">\n                        <div className=\"relative h-14 md:h-14 w-auto aspect-[2.5/1] md:aspect-[4/1] -mr-4 md:mr-0 md:order-2\">\n                            {/* Desktop Light */}\n                            <Image\n                                src=\"/broncname.png\"\n                                alt=\"Broncstudio\"\n                                fill\n                                className=\"object-contain hidden md:block dark:hidden\"\n                                priority\n                            />\n                            {/* Desktop Dark */}\n                            <Image\n                                src=\"/broncnamey.png\"\n                                alt=\"Broncstudio\"\n                                fill\n                                className=\"object-contain hidden dark:md:block\"\n                                priority\n                            />\n                            {/* Mobile Light */}\n                            <Image\n                                src=\"/broncstudioredname.png\"\n                                alt=\"Broncstudio\"\n                                fill\n                                className=\"object-contain md:hidden dark:hidden\"\n                                priority\n                            />\n                            {/* Mobile Dark */}\n                            <Image\n                                src=\"/broncstudioyellowname.png\"\n                                alt=\"Broncstudio\"\n                                fill\n                                className=\"object-contain hidden dark:block dark:md:hidden\"\n                                priority\n                            />\n                        </div>\n                        <div className=\"relative h-12 md:h-16 w-auto aspect-[1/1] -ml-6 md:ml-0 md:order-1\">\n                            <Image\n                                src=\"/whitelogo.png\"\n                                alt=\"Broncstudio\"\n                                width={160}\n                                height={160}\n                                className=\"object-contain h-full w-auto\"\n                                priority\n                            />\n                        </div>\n                    </Link>\n\n                    {/* Desktop Navigation - Center */}\n\n\n                    {/* Actions - Right */}\n                    <div className=\"flex items-center gap-5 text-white ml-auto\">\n                        <button onClick={openSearch} className=\"hover:text-coral-500 transition-colors hidden md:block\">\n                            <Search size={22} strokeWidth={1.5} />\n                        </button>\n                        <button onClick={toggleWishlist} className=\"hover:text-coral-500 transition-colors\">\n                            <Heart size={22} strokeWidth={1.5} />\n                        </button>\n                        <Link href=\"/cart\" className=\"hover:text-coral-500 transition-colors relative block\">\n                            <ShoppingBag size={22} strokeWidth={1.5} />\n                            {cartCount > 0 && (\n                                <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-[var(--accent-orange)] rounded-full text-[10px] text-white flex items-center justify-center font-bold animate-in zoom-in\">{cartCount}</span>\n                            )}\n                        </Link>\n                        <Link href={currentUser ? '/profile' : '/login'} className=\"hover:text-coral-500 transition-colors hidden md:block\">\n                            <User size={22} strokeWidth={1.5} />\n                        </Link>\n\n\n                    </div>\n                </div>\n\n                {/* Mega Menu Dropdown */}\n                <MegaMenu\n                    activeDepartment={activeDepartment}\n                    onClose={() => setActiveDepartment(null)}\n                />\n\n            </header>\n\n            <MobileMenu isOpen={isMobileMenuOpen} onClose={() => setIsMobileMenuOpen(false)} currentUser={currentUser} />\n        </>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Header/MegaMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Header/MobileMenu.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":198,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":198,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10181,10184],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10181,10184],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport { X, ChevronRight, User, Heart, ShoppingBag, Globe, Sparkles, Home as HomeIcon, Tag, LayoutGrid, Gift, Monitor, Shirt, Pencil, PawPrint } from 'lucide-react';\nimport { useUI } from '@/context/UIContext';\nimport type { User as SupabaseUser } from '@supabase/supabase-js';\nimport { DEPARTMENT_TAXONOMY } from '@/data/categories';\n\ninterface MobileMenuProps {\n    isOpen: boolean;\n    onClose: () => void;\n    currentUser: SupabaseUser | null;\n}\n\nconst MobileMenu = ({ isOpen, onClose, currentUser }: MobileMenuProps) => {\n    const { openWishlist } = useUI();\n    // Prevent scrolling when menu is open\n    React.useEffect(() => {\n        if (isOpen) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = 'unset';\n        }\n        return () => {\n            document.body.style.overflow = 'unset';\n        };\n    }, [isOpen]);\n\n    const departments = Object.values(DEPARTMENT_TAXONOMY);\n\n    // Manual Icon Mapping for Departments based on their href/slug\n    const getDeptIcon = (href: string) => {\n        if (href.includes('clothing')) return Shirt;\n        if (href.includes('kids')) return Pencil; // Stationery\n        if (href.includes('home')) return Monitor; // Home & Tech\n        if (href.includes('gifts')) return Gift;\n        if (href.includes('pets')) return PawPrint;\n        return LayoutGrid;\n    };\n\n    const getDeptColor = (color: string) => {\n        switch (color) {\n            case 'green': return 'text-green-600 bg-green-100 dark:bg-green-900/20';\n            case 'blue': return 'text-blue-600 bg-blue-100 dark:bg-blue-900/20';\n            case 'purple': return 'text-purple-600 bg-purple-100 dark:bg-purple-900/20';\n            case 'indigo': return 'text-indigo-600 bg-indigo-100 dark:bg-indigo-900/20';\n            case 'rose': return 'text-rose-600 bg-rose-100 dark:bg-rose-900/20';\n            case 'orange': return 'text-orange-600 bg-orange-100 dark:bg-orange-900/20';\n            default: return 'text-navy-600 bg-gray-100 dark:bg-white/10';\n        }\n    };\n\n    // Animation Variants\n    const containerVariants = {\n        hidden: { opacity: 0 },\n        visible: {\n            opacity: 1,\n            transition: {\n                staggerChildren: 0.05,\n                delayChildren: 0.1\n            }\n        }\n    };\n\n    const itemVariants = {\n        hidden: { opacity: 0, x: -20 },\n        visible: {\n            opacity: 1,\n            x: 0,\n            transition: {\n                type: \"spring\" as const,\n                stiffness: 300,\n                damping: 24\n            }\n        }\n    };\n\n    const buttonHoverEffect = {\n        scale: 1.02,\n        x: 8,\n        transition: { type: \"spring\" as const, stiffness: 400, damping: 10 }\n    };\n\n    const tapEffect = { scale: 0.96 };\n\n    return (\n        <AnimatePresence>\n            {isOpen && (\n                <>\n                    {/* Backdrop */}\n                    <motion.div\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                        onClick={onClose}\n                        className=\"fixed inset-0 z-[1001] bg-navy-900/60 backdrop-blur-sm\"\n                    />\n\n                    {/* Drawer */}\n                    <motion.div\n                        initial={{ x: '-100%' }}\n                        animate={{ x: 0 }}\n                        exit={{ x: '-100%' }}\n                        transition={{ type: \"spring\", damping: 30, stiffness: 300 }}\n                        className=\"fixed inset-y-0 left-0 z-[1002] w-full max-w-[340px] bg-white/80 dark:bg-black/80 backdrop-blur-2xl shadow-2xl flex flex-col border-r border-white/20\"\n                    >\n                        {/* Colorful Header - Now Transparent/Glassy */}\n                        <div className=\"relative overflow-hidden p-6 bg-transparent text-navy-900 dark:text-white\">\n                            <div className=\"absolute top-0 right-0 w-32 h-32 bg-coral-500/20 blur-3xl rounded-full -mr-10 -mt-10 pointer-events-none\" />\n                            <div className=\"flex items-center justify-between relative z-10\">\n                                <div>\n                                    <h2 className=\"font-heading text-2xl font-bold tracking-tight\">Menu</h2>\n                                    <p className=\"text-navy-600 dark:text-gray-400 text-sm mt-1\">Discover your world.</p>\n                                </div>\n                                <button\n                                    onClick={onClose}\n                                    className=\"p-2 bg-black/5 hover:bg-black/10 dark:bg-white/10 dark:hover:bg-white/20 rounded-full transition-colors backdrop-blur-sm\"\n                                >\n                                    <X size={20} />\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* Navigation Links */}\n                        <motion.div\n                            variants={containerVariants}\n                            initial=\"hidden\"\n                            animate=\"visible\"\n                            className=\"flex-1 overflow-y-auto py-6 px-4 space-y-2\"\n                        >\n\n                            {/* Main Links */}\n                            <div className=\"space-y-1 mb-6\">\n                                <motion.div variants={itemVariants}>\n                                    <Link\n                                        href=\"/\"\n                                        onClick={onClose}\n                                        className=\"block\"\n                                    >\n                                        <motion.div\n                                            whileHover={buttonHoverEffect}\n                                            whileTap={tapEffect}\n                                            className=\"flex items-center gap-4 p-3 rounded-xl hover:bg-white/[0.04] transition-all duration-300 group\"\n                                        >\n                                            <div className=\"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/10 text-muted flex items-center justify-center group-hover:bg-black group-hover:text-white dark:group-hover:bg-white dark:group-hover:text-black transition-all duration-300 group-hover:shadow-[0_0_15px_rgba(255,255,255,0.4)]\">\n                                                <HomeIcon size={20} />\n                                            </div>\n                                            <span className=\"font-bold text-primary text-lg\">Home</span>\n                                        </motion.div>\n                                    </Link>\n                                </motion.div>\n\n                                <motion.div variants={itemVariants}>\n                                    <Link\n                                        href=\"/shop\"\n                                        onClick={onClose}\n                                        className=\"block\"\n                                    >\n                                        <motion.div\n                                            whileHover={buttonHoverEffect}\n                                            whileTap={tapEffect}\n                                            className=\"flex items-center gap-4 p-3 rounded-xl hover:bg-white/[0.04] transition-all duration-300 group\"\n                                        >\n                                            <div className=\"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/10 text-purple-600 dark:text-purple-400 flex items-center justify-center group-hover:bg-purple-600 group-hover:text-white transition-all duration-300 group-hover:shadow-[0_0_15px_rgba(168,85,247,0.5)]\">\n                                                <Globe size={20} />\n                                            </div>\n                                            <span className=\"font-bold text-primary text-lg\">Worlds</span>\n                                        </motion.div>\n                                    </Link>\n                                </motion.div>\n\n                                <motion.div variants={itemVariants}>\n                                    <Link\n                                        href=\"/personalise\"\n                                        onClick={onClose}\n                                        className=\"block\"\n                                    >\n                                        <motion.div\n                                            whileHover={buttonHoverEffect}\n                                            whileTap={tapEffect}\n                                            className=\"flex items-center gap-4 p-3 rounded-xl hover:bg-white/[0.04] transition-all duration-300 group\"\n                                        >\n                                            <div className=\"w-10 h-10 rounded-full bg-gray-100 dark:bg-white/10 text-amber-600 dark:text-amber-400 flex items-center justify-center group-hover:bg-amber-500 group-hover:text-white transition-all duration-300 group-hover:shadow-[0_0_15px_rgba(245,158,11,0.5)]\">\n                                                <Sparkles size={20} />\n                                            </div>\n                                            <span className=\"font-bold text-primary text-lg\">Personalise</span>\n                                        </motion.div>\n                                    </Link>\n                                </motion.div>\n                            </div>\n\n                            <motion.div variants={itemVariants} className=\"h-px bg-divider mx-4 mb-6\" />\n\n                            <motion.p variants={itemVariants} className=\"px-4 text-xs font-bold uppercase tracking-widest text-muted mb-2\">Departments</motion.p>\n\n                            {/* Departments */}\n                            <div className=\"space-y-1\">\n                                {departments.map((dept: any) => {\n                                    const Icon = getDeptIcon(dept.href);\n                                    const colorClass = getDeptColor(dept.color || 'gray');\n\n                                    return (\n                                        <motion.div key={dept.label} variants={itemVariants}>\n                                            <Link\n                                                href={dept.href}\n                                                onClick={onClose}\n                                                className=\"block\"\n                                            >\n                                                <motion.div\n                                                    whileHover={buttonHoverEffect}\n                                                    whileTap={tapEffect}\n                                                    className=\"flex items-center justify-between p-3 rounded-xl hover:bg-white/[0.04] transition-all duration-300 group\"\n                                                >\n                                                    <div className=\"flex items-center gap-4\">\n                                                        <div className={`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 group-hover:scale-110 group-hover:shadow-[0_0_15px_rgba(255,255,255,0.3)] shadow-sm bg-gray-100 dark:bg-white/10 ${colorClass.split(' ')[0]} group-hover:text-white`}>\n                                                            <Icon size={18} />\n                                                        </div>\n                                                        <span className=\"font-medium text-secondary group-hover:text-primary transition-colors\">\n                                                            {dept.label}\n                                                        </span>\n                                                    </div>\n                                                    <ChevronRight size={16} className=\"text-muted group-hover:text-primary transition-all duration-300 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0\" />\n                                                </motion.div>\n                                            </Link>\n                                        </motion.div>\n                                    );\n                                })}\n                            </div>\n\n                            <motion.div variants={itemVariants} className=\"h-px bg-divider mx-4 my-6\" />\n\n                            <motion.div variants={itemVariants}>\n                                <Link\n                                    href=\"/collections/sale\"\n                                    onClick={onClose}\n                                    className=\"block\"\n                                >\n                                    <motion.div\n                                        whileHover={buttonHoverEffect}\n                                        whileTap={tapEffect}\n                                        className=\"flex items-center gap-4 p-3 rounded-xl bg-red-50 dark:bg-red-900/10 hover:bg-red-100 dark:hover:bg-red-900/20 transition-all group\"\n                                    >\n                                        <div className=\"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                                            <Tag size={18} />\n                                        </div>\n                                        <span className=\"font-bold text-red-600 text-lg\">Sale</span>\n                                    </motion.div>\n                                </Link>\n                            </motion.div>\n\n                        </motion.div>\n\n                        {/* Bottom Actions (Profile & Utilities) */}\n                        <motion.div\n                            initial={{ y: 20, opacity: 0 }}\n                            animate={{ y: 0, opacity: 1 }}\n                            transition={{ delay: 0.4, type: \"spring\", stiffness: 300, damping: 25 }}\n                            className=\"p-4 bg-transparent border-t border-gray-200 dark:border-white/10\"\n                        >\n                            <div className=\"grid grid-cols-2 gap-3\">\n                                <motion.button\n                                    whileHover={{ y: -4, transition: { type: \"spring\" as const, stiffness: 400, damping: 10 } }}\n                                    whileTap={tapEffect}\n                                    onClick={() => {\n                                        onClose();\n                                        openWishlist();\n                                    }}\n                                    className=\"flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-surface-2 hover:bg-coral-50 dark:hover:bg-coral-900/20 hover:text-coral-600 transition-colors text-secondary\"\n                                >\n                                    <Heart size={20} />\n                                    <span className=\"text-xs font-bold\">Wishlist</span>\n                                </motion.button>\n                                <Link\n                                    href=\"/cart\"\n                                    onClick={onClose}\n                                    className=\"block\"\n                                >\n                                    <motion.div\n                                        whileHover={{ y: -4, transition: { type: \"spring\" as const, stiffness: 400, damping: 10 } }}\n                                        whileTap={tapEffect}\n                                        className=\"flex flex-col items-center justify-center gap-2 p-3 rounded-xl bg-surface-2 hover:bg-coral-50 dark:hover:bg-coral-900/20 hover:text-coral-600 transition-colors text-secondary\"\n                                    >\n                                        <ShoppingBag size={20} />\n                                        <span className=\"text-xs font-bold\">Bag</span>\n                                    </motion.div>\n                                </Link>\n                            </div>\n\n                            <motion.div\n                                whileHover={{ scale: 1.02, transition: { type: \"spring\" as const, stiffness: 400, damping: 10 } }}\n                                whileTap={tapEffect}\n                            >\n                                <Link\n                                    href={currentUser ? \"/profile\" : \"/login\"}\n                                    onClick={onClose}\n                                    className=\"mt-3 flex items-center justify-center gap-2 p-3 rounded-xl bg-black text-white dark:bg-white dark:text-black hover:opacity-90 transition-opacity font-bold text-sm shadow-lg shadow-black/10 dark:shadow-white/5\"\n                                >\n                                    <User size={18} />\n                                    <span>{currentUser ? 'My Profile' : 'Login / Sign Up'}</span>\n                                </Link>\n                            </motion.div>\n                        </motion.div>\n                    </motion.div>\n                </>\n            )}\n        </AnimatePresence>\n    );\n};\n\nexport default MobileMenu;\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Header/MobileNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/BentoGridWorld.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'GlassCard' is defined but never used.","line":6,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"GlassCard"},"fix":{"range":[112,162],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { motion } from 'framer-motion';\nimport GlassCard from '@/components/UI/GlassCard';\nimport { ArrowUpRight } from 'lucide-react';\n\nconst containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n        opacity: 1,\n        transition: {\n            staggerChildren: 0.1\n        }\n    }\n};\n\nconst itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.6 } }\n};\n\nexport default function BentoGridWorld() {\n    return (\n        <section className=\"relative z-10 max-w-[1200px] mx-auto px-6 py-8\">\n            {/* SPEC: Height 560px, 4 cols x 2 rows, Gap 20px on Desktop. Horizontal Scroll on Mobile. */}\n            <motion.div\n                variants={containerVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                className=\"flex overflow-x-auto snap-x snap-mandatory no-scrollbar gap-4 pb-4 md:grid md:grid-cols-4 md:grid-rows-2 md:gap-[20px] md:h-[560px] md:pb-0 -mx-6 px-6 md:mx-auto md:px-0\"\n            >\n                {/* 1. Little Legends - Main Large Card (2 rows x 2 cols) */}\n                <motion.div variants={itemVariants} className=\"flex-shrink-0 w-[85vw] md:w-auto md:col-span-2 md:row-span-2 relative group h-[400px] md:h-full cursor-pointer snap-center\">\n                    <Link href=\"/collections/little-legends\" className=\"block h-full w-full\">\n                        <div className=\"h-full w-full rounded-3xl overflow-hidden relative shadow-lg\">\n                            {/* Image & Overlay */}\n                            <div className=\"absolute inset-0 bg-[url('/bentogrid/littlelegends.jpg')] bg-cover bg-center transition-transform duration-1000 group-hover:scale-105\" />\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-80\" />\n\n                            {/* Content */}\n                            <div className=\"relative z-20 h-full flex flex-col justify-end p-8 md:p-10 text-white\">\n                                <div className=\"flex justify-between items-end\">\n                                    <div className=\"space-y-3\">\n                                        <span className=\"inline-block px-4 py-1.5 text-[10px] font-bold tracking-[0.2em] uppercase bg-white text-black rounded-full shadow-lg\">\n                                            Kids & Play\n                                        </span>\n                                        <h2 className=\"text-4xl md:text-6xl font-heading font-medium leading-none drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]\">\n                                            Little Legends\n                                        </h2>\n                                        <p className=\"text-white/90 font-medium text-lg max-w-sm border-l-2 border-white/50 pl-3 drop-shadow-md\">\n                                            Where curiosity begins.\n                                        </p>\n                                    </div>\n                                    <div className=\"w-12 h-12 md:w-14 md:h-14 rounded-full bg-white text-black flex items-center justify-center transform group-hover:-rotate-45 transition-all duration-500 shadow-xl group-hover:scale-110\">\n                                        <ArrowUpRight size={24} strokeWidth={1.5} />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </Link>\n                </motion.div>\n\n                {/* 2. Everyday Icons */}\n                <motion.div variants={itemVariants} className=\"flex-shrink-0 w-[85vw] md:w-auto md:col-span-1 md:row-span-1 h-[400px] md:h-full cursor-pointer snap-center\">\n                    <Link href=\"/collections/everyday-icons\" className=\"block h-full w-full\">\n                        <div className=\"h-full w-full rounded-3xl overflow-hidden relative group shadow-lg\">\n                            <div className=\"absolute inset-0 bg-[url('/bentogrid/everydayicon.jpg')] bg-cover bg-center transition-transform duration-1000 group-hover:scale-110\" />\n                            <div className=\"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-500\" />\n\n                            {/* Gradient for Text Lift */}\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-90\" />\n\n                            <div className=\"relative z-20 h-full p-6 flex flex-col items-center justify-center text-center\">\n                                <div className=\"space-y-2 group-hover:-translate-y-2 transition-transform duration-500\">\n                                    <h2 className=\"text-3xl md:text-3xl font-heading text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]\">Everyday Icons</h2>\n                                    <p className=\"text-[10px] text-white/90 font-bold uppercase tracking-[0.25em] drop-shadow-md\">Fashion for Everyone</p>\n                                </div>\n                                <div className=\"absolute bottom-5 right-5 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-2 group-hover:translate-y-0 text-white\">\n                                    <ArrowUpRight size={24} strokeWidth={1.5} className=\"drop-shadow-md\" />\n                                </div>\n                            </div>\n                        </div>\n                    </Link>\n                </motion.div>\n\n                {/* 3. Little Luxuries */}\n                <motion.div variants={itemVariants} className=\"flex-shrink-0 w-[85vw] md:w-auto md:col-span-1 md:row-span-1 h-[400px] md:h-full cursor-pointer snap-center\">\n                    <Link href=\"/collections/little-luxuries\" className=\"block h-full w-full\">\n                        <div className=\"h-full w-full rounded-3xl overflow-hidden relative group shadow-lg\">\n                            <div className=\"absolute inset-0 bg-[url('/bentogrid/littlelux.jpg')] bg-cover bg-center transition-transform duration-1000 group-hover:scale-110\" />\n                            <div className=\"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-500\" />\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-90\" />\n\n                            <div className=\"relative z-20 h-full p-6 flex flex-col items-center justify-center text-center\">\n                                <div className=\"space-y-2 group-hover:-translate-y-2 transition-transform duration-500\">\n                                    <h2 className=\"text-3xl md:text-3xl font-heading text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]\">Little Luxuries</h2>\n                                    <p className=\"text-[10px] text-white/90 font-bold uppercase tracking-[0.25em] drop-shadow-md\">Gifting & Joys</p>\n                                </div>\n                                <div className=\"absolute bottom-5 right-5 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-2 group-hover:translate-y-0 text-white\">\n                                    <ArrowUpRight size={24} strokeWidth={1.5} className=\"drop-shadow-md\" />\n                                </div>\n                            </div>\n                        </div>\n                    </Link>\n                </motion.div>\n\n                {/* 4. Space Stories */}\n                <motion.div variants={itemVariants} className=\"flex-shrink-0 w-[85vw] md:w-auto md:col-span-1 md:row-span-1 h-[400px] md:h-full cursor-pointer snap-center\">\n                    <Link href=\"/collections/space-stories\" className=\"block h-full w-full\">\n                        <div className=\"h-full w-full rounded-3xl overflow-hidden relative group shadow-lg\">\n                            <div className=\"absolute inset-0 bg-[url('/bentogrid/spacestories.jpg')] bg-cover bg-center transition-transform duration-1000 group-hover:scale-110\" />\n                            <div className=\"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-500\" />\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-90\" />\n\n                            <div className=\"relative z-20 h-full p-6 flex flex-col items-center justify-center text-center\">\n                                <div className=\"space-y-2 group-hover:-translate-y-2 transition-transform duration-500\">\n                                    <h2 className=\"text-3xl md:text-3xl font-heading text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]\">Space Stories</h2>\n                                    <p className=\"text-[10px] text-white/90 font-bold uppercase tracking-[0.25em] drop-shadow-md\">Home & Comfort</p>\n                                </div>\n                                <div className=\"absolute bottom-5 right-5 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-2 group-hover:translate-y-0 text-white\">\n                                    <ArrowUpRight size={24} strokeWidth={1.5} className=\"drop-shadow-md\" />\n                                </div>\n                            </div>\n                        </div>\n                    </Link>\n                </motion.div>\n\n                {/* 5. Style Extras */}\n                <motion.div variants={itemVariants} className=\"flex-shrink-0 w-[85vw] md:w-auto md:col-span-1 md:row-span-1 h-[400px] md:h-full cursor-pointer snap-center\">\n                    <Link href=\"/collections/style-extras\" className=\"block h-full w-full\">\n                        <div className=\"h-full w-full rounded-3xl overflow-hidden relative group shadow-lg\">\n                            <div className=\"absolute inset-0 bg-[url('/bentogrid/accessiories.jpg')] bg-cover bg-center transition-transform duration-1000 group-hover:scale-110\" />\n                            <div className=\"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-500\" />\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-90\" />\n\n                            <div className=\"relative z-20 h-full p-6 flex flex-col items-center justify-center text-center\">\n                                <div className=\"space-y-2 group-hover:-translate-y-2 transition-transform duration-500\">\n                                    <h2 className=\"text-3xl md:text-3xl font-heading text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]\">Style Extras</h2>\n                                    <p className=\"text-[10px] text-white/90 font-bold uppercase tracking-[0.25em] drop-shadow-md\">Accessories</p>\n                                </div>\n                                <div className=\"absolute bottom-5 right-5 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-2 group-hover:translate-y-0 text-white\">\n                                    <ArrowUpRight size={24} strokeWidth={1.5} className=\"drop-shadow-md\" />\n                                </div>\n                            </div>\n                        </div>\n                    </Link>\n                </motion.div>\n\n            </motion.div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/CuratedGrid.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":30,"column":8,"nodeType":"ArrayExpression","endLine":30,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[811,813],"text":"[supabase]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":52,"column":29,"nodeType":"JSXOpeningElement","endLine":56,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { createClient } from '@/utils/supabase/client';\n\ninterface CuratedSection {\n    id: string;\n    title: string;\n    description: string;\n    image_url: string;\n    category_slugs?: string[];\n}\n\nexport default function CuratedGrid() {\n    const [sections, setSections] = useState<CuratedSection[]>([]);\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchSections = async () => {\n            const { data } = await supabase\n                .from('curated_sections')\n                .select('*')\n                .eq('is_active', true)\n                .order('display_order', { ascending: true });\n\n            if (data) setSections(data);\n        };\n        fetchSections();\n    }, []);\n\n    if (sections.length === 0) return null;\n\n    return (\n        <section className=\"pt-12 md:pt-20 pb-0 md:pb-0 px-4 md:px-8 bg-white dark:bg-black/5\">\n            <div className=\"max-w-[1440px] mx-auto\">\n                <div className=\"text-center mb-10\">\n                    <h2 className=\"text-2xl md:text-3xl font-heading font-bold text-navy-900 dark:text-white uppercase tracking-widest\">\n                        Curated For You\n                    </h2>\n                    <div className=\"h-1 w-16 bg-coral-500 mx-auto mt-4 rounded-full\" />\n                </div>\n\n                <div className=\"flex overflow-x-auto snap-x snap-mandatory gap-4 pb-8 md:gap-6 no-scrollbar\">\n                    {sections.map((item) => (\n                        <Link\n                            key={item.id}\n                            href={`/collections/${item.id}`}\n                            className=\"group relative flex-shrink-0 w-[45vw] md:w-[320px] snap-start aspect-[4/5] overflow-hidden rounded-[20px] md:rounded-[32px] shadow-sm hover:shadow-2xl transition-all duration-500\"\n                        >\n                            {/* Image with Zoom Effect */}\n                            <img\n                                src={item.image_url}\n                                alt={item.title}\n                                className=\"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110\"\n                            />\n\n                            {/* Floating Glass Card at Bottom */}\n                            <div className=\"absolute bottom-4 left-4 right-4 md:bottom-6 md:left-6 md:right-6 bg-white/80 dark:bg-black/60 backdrop-blur-md rounded-2xl p-4 md:p-5 text-center transform transition-all duration-500 group-hover:-translate-y-2 group-hover:bg-white/95 dark:group-hover:bg-black/80 shadow-lg\">\n                                <h3 className=\"text-navy-900 dark:text-white font-serif text-xl md:text-2xl italic mb-1 md:mb-1\">\n                                    {item.title}\n                                </h3>\n                                <p className=\"text-navy-700 dark:text-gray-300 text-[10px] md:text-xs font-bold uppercase tracking-widest\">\n                                    {item.description || \"New Collection\"}\n                                </p>\n                            </div>\n                        </Link>\n                    ))}\n                </div>\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/DepartmentBentoGrid.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":127,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":127,"endColumn":36},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":178,"column":37,"nodeType":"JSXOpeningElement","endLine":182,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ArrowUpRight, Loader2 } from 'lucide-react';\nimport { createClient } from '@/utils/supabase/client';\nimport { getGoogleDriveDirectLink } from '@/utils/googleDrive';\n\nconst containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n        opacity: 1,\n        transition: {\n            staggerChildren: 0.1\n        }\n    }\n};\n\nconst itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.6 } }\n};\n\ninterface BentoTile {\n    title: string;\n    subtitle: string;\n    href: string;\n    image: string;\n    colSpan: string;\n    rowSpan: string;\n    color: string;\n    textColor: string;\n}\n\nconst DEFAULT_TILES: BentoTile[] = [\n    {\n        title: 'Clothing',\n        subtitle: 'Trending',\n        href: '/shop/clothing',\n        image: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=800&q=80',\n        colSpan: 'col-span-6 md:col-span-3',\n        rowSpan: 'row-span-1',\n        color: 'bg-green-100',\n        textColor: 'text-green-900',\n    },\n    {\n        title: 'Women',\n        subtitle: 'For Her',\n        href: '/shop/clothing/women',\n        image: 'https://images.unsplash.com/photo-1525845859779-54d477ff291f?w=600&q=80',\n        colSpan: 'col-span-6 md:col-span-3',\n        rowSpan: 'row-span-2',\n        color: 'bg-orange-50',\n        textColor: 'text-orange-900',\n    },\n    {\n        title: 'Stationery & Play',\n        subtitle: 'Curiosity',\n        href: '/shop/kids',\n        image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=500&q=80',\n        colSpan: 'col-span-6 md:col-span-3',\n        rowSpan: 'row-span-1',\n        color: 'bg-blue-50',\n        textColor: 'text-blue-900',\n    },\n    {\n        title: 'Accessories',\n        subtitle: 'Extras',\n        href: '/shop/accessories',\n        image: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?w=500&q=80',\n        colSpan: 'col-span-6 md:col-span-3',\n        rowSpan: 'row-span-1',\n        color: 'bg-purple-100',\n        textColor: 'text-purple-900',\n    },\n    {\n        title: 'Men',\n        subtitle: 'Menswear',\n        href: '/shop/clothing/men',\n        image: 'https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=800&q=80',\n        colSpan: 'col-span-6 md:col-span-3',\n        rowSpan: 'row-span-1',\n        color: 'bg-stone-100',\n        textColor: 'text-stone-900',\n    },\n    {\n        title: 'Pets',\n        subtitle: 'Furry Friends',\n        href: '/shop/pets',\n        image: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=800&q=80',\n        colSpan: 'col-span-6 md:col-span-3',\n        rowSpan: 'row-span-1',\n        color: 'bg-amber-100',\n        textColor: 'text-amber-900',\n    },\n    {\n        title: 'Lifestyle',\n        subtitle: 'Small Joys',\n        href: '/shop/lifestyle',\n        image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=500&q=80',\n        colSpan: 'col-span-6 md:col-span-3',\n        rowSpan: 'row-span-1',\n        color: 'bg-rose-50',\n        textColor: 'text-rose-900',\n    },\n    {\n        title: 'Home',\n        subtitle: 'Decor',\n        href: '/shop/home',\n        image: 'https://images.unsplash.com/photo-1513519245088-0e12902e5a38?w=800&q=80',\n        colSpan: 'col-span-12',\n        rowSpan: 'row-span-1',\n        color: 'bg-indigo-100',\n        textColor: 'text-indigo-900',\n    }\n];\n\nexport default function DepartmentBentoGrid() {\n    const [tiles, setTiles] = useState<BentoTile[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n\n    useEffect(() => {\n        async function fetchTiles() {\n            try {\n                const { data, error } = await supabase\n                    .from('content_blocks')\n                    .select('content')\n                    .eq('section_id', 'bento_grid')\n                    .single();\n\n                if (data && data.content && Array.isArray(data.content.tiles)) {\n                    setTiles(data.content.tiles);\n                } else {\n                    setTiles(DEFAULT_TILES);\n                }\n            } catch (err) {\n                console.error('Error fetching bento grid tiles:', err);\n                setTiles(DEFAULT_TILES);\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        fetchTiles();\n    }, [supabase]);\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center h-[200px]\">\n                <Loader2 className=\"animate-spin text-coral-500\" size={32} />\n            </div>\n        );\n    }\n\n    return (\n        <section className=\"relative z-10 max-w-[1200px] mx-auto px-6 py-8\">\n            <motion.div\n                variants={containerVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                className=\"grid grid-cols-12 gap-4 pb-4 auto-rows-[200px] md:grid-rows-3 md:gap-[20px] md:h-[840px] md:pb-0\"\n            >\n                <AnimatePresence>\n                    {tiles.map((tile, index) => (\n                        <motion.div\n                            key={tile.title + index}\n                            variants={itemVariants}\n                            className={`relative group rounded-3xl overflow-hidden cursor-pointer\n                                ${tile.colSpan} ${tile.rowSpan}\n                                h-full w-full\n                                ${tile.color}\n                            `}\n                        >\n                            <Link href={tile.href} className=\"block h-full w-full relative z-10\">\n                                <div className=\"absolute inset-0\">\n                                    <img\n                                        src={getGoogleDriveDirectLink(tile.image)}\n                                        alt={tile.title}\n                                        className=\"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105\"\n                                    />\n                                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-90\" />\n                                </div>\n\n                                <div className=\"absolute inset-0 p-5 md:p-8 flex flex-col justify-end text-white\">\n                                    <div className=\"flex justify-between items-end\">\n                                        <div className=\"space-y-1 md:space-y-2\">\n                                            <div className=\"inline-block px-2 py-0.5 md:px-3 md:py-1 text-[8px] md:text-[10px] font-bold tracking-[0.2em] uppercase bg-white/20 backdrop-blur-md rounded-full mb-1 md:mb-2\">\n                                                {tile.subtitle}\n                                            </div>\n                                            <h2 className=\"text-2xl md:text-3xl font-heading font-medium leading-none drop-shadow-lg\">\n                                                {tile.title}\n                                            </h2>\n                                        </div>\n                                        <div className=\"w-8 h-8 md:w-12 md:h-12 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center transform group-hover:-rotate-45 transition-all duration-500 shadow-xl group-hover:bg-red-600 group-hover:text-black active:scale-95 border border-white/30\">\n                                            <ArrowUpRight size={16} strokeWidth={1.5} className=\"md:w-6 md:h-6 transition-colors\" />\n                                        </div>\n                                    </div>\n                                </div>\n                            </Link>\n                        </motion.div>\n                    ))}\n                </AnimatePresence>\n            </motion.div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/DesktopCuratedGrid.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ArrowRight"},"fix":{"range":[208,250],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":34,"column":8,"nodeType":"ArrayExpression","endLine":34,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[948,950],"text":"[supabase]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":58,"column":29,"nodeType":"JSXOpeningElement","endLine":62,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\n// Vercel Rebuild Trigger: 160px micro update (Forced)\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { createClient } from '@/utils/supabase/client';\nimport { ArrowRight } from 'lucide-react';\n\ninterface CuratedSection {\n    id: string;\n    title: string;\n    description: string;\n    image_url: string;\n    category_slugs?: string[];\n}\n\nexport default function DesktopCuratedGrid() {\n    const [sections, setSections] = useState<CuratedSection[]>([]);\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchSections = async () => {\n            const { data } = await supabase\n                .from('curated_sections')\n                .select('*')\n                .eq('is_active', true)\n                .order('display_order', { ascending: true });\n\n            if (data) {\n                setSections(data);\n            }\n        };\n        fetchSections();\n    }, []);\n\n    if (sections.length === 0) return null;\n\n    return (\n        <section className=\"hidden md:block py-16 px-6 bg-white dark:bg-navy-900\">\n            <div className=\"max-w-[1440px] mx-auto\">\n                <div className=\"flex items-center justify-between mb-8\">\n                    <div>\n                        <h2 className=\"text-2xl font-heading font-bold text-navy-900 dark:text-white uppercase tracking-wider\">\n                            Curated For You\n                        </h2>\n                        <div className=\"h-1 w-20 bg-coral-500 mt-2\"></div>\n                    </div>\n\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {sections.map((item) => (\n                        <Link\n                            key={item.id}\n                            href={`/shop/${item.category_slugs?.[0] || 'all'}?curated=${item.id}`}\n                            className=\"group relative w-full aspect-square overflow-hidden rounded-[32px] cursor-pointer shadow-md hover:shadow-2xl transition-all duration-500\"\n                        >\n                            <img\n                                src={item.image_url}\n                                alt={item.title}\n                                className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                            />\n                            <div className=\"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors duration-500\" />\n\n                            {/* Centered Content */}\n                            <div className=\"absolute inset-0 flex flex-col items-center justify-center p-6 text-center z-10\">\n                                <h3 className=\"text-white font-serif text-3xl md:text-4xl italic mb-3 transform group-hover:scale-105 transition-transform duration-500 drop-shadow-lg\">\n                                    {item.title}\n                                </h3>\n                                <p className=\"text-white/90 text-[10px] md:text-xs font-bold tracking-[0.2em] uppercase drop-shadow-md\">\n                                    {item.description}\n                                </p>\n                            </div>\n                        </Link>\n                    ))}\n                </div>\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/DiscoverMore.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[393,396],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[393,396],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1176,1179],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1176,1179],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":50,"column":8,"nodeType":"ArrayExpression","endLine":50,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1706,1708],"text":"[supabase]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { createClient } from '@/utils/supabase/client';\nimport Link from 'next/link';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { Sparkles, ArrowRight } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\nexport default function DiscoverMore() {\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchAllProducts = async () => {\n            setLoading(true);\n\n            // Fetch a larger batch of products to shuffle\n            const { data, error } = await supabase\n                .from('products')\n                .select('*')\n                .limit(50); // Reasonable limit for performance\n\n            if (error) {\n                console.error('DiscoverMore Fetch Error:', error);\n                setLoading(false);\n                return;\n            }\n\n            if (data) {\n                // Shuffle logic\n                const shuffled = [...data].sort(() => Math.random() - 0.5);\n\n                setProducts(shuffled.map((p: any) => ({\n                    id: p.id,\n                    name: p.name,\n                    brand: 'BroncStudio',\n                    price: p.price,\n                    originalPrice: p.compare_at_price,\n                    image: p.images?.[0] || '/images/placeholder.jpg',\n                    secondaryImage: p.images?.[1],\n                    badge: p.stock_status === 'out_of_stock' ? 'Sold Out' : undefined\n                })));\n            }\n            setLoading(false);\n        };\n\n        fetchAllProducts();\n    }, []);\n\n    if (!loading && products.length === 0) return null;\n\n    return (\n        <section className=\"pt-10 pb-20 px-6 bg-white dark:bg-black/5\">\n            <div className=\"max-w-[1440px] mx-auto\">\n                <div className=\"flex flex-col items-center mb-12 text-center\">\n                    <div className=\"relative w-16 h-16 flex items-center justify-center mb-4\">\n                        <div className=\"absolute inset-0 bg-amber-500/20 blur-xl rounded-full animate-pulse\" />\n                        <Sparkles size={32} className=\"relative z-10 text-amber-500 drop-shadow-[0_0_15px_rgba(245,158,11,0.5)]\" />\n                    </div>\n                    <h2 className=\"text-3xl md:text-4xl font-heading font-black text-navy-900 dark:text-white mb-3\">\n                        Discover More\n                    </h2>\n                    <p className=\"text-gray-500 dark:text-gray-400 text-lg max-w-2xl\">\n                        Continue surfing through our entire collection. You might find something unexpected.\n                    </p>\n                </div>\n\n                <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-10 md:gap-x-6 md:gap-y-12\">\n                    {products.map((product, idx) => (\n                        <motion.div\n                            key={product.id}\n                            initial={{ opacity: 0, y: 20 }}\n                            whileInView={{ opacity: 1, y: 0 }}\n                            viewport={{ once: true }}\n                            transition={{ delay: idx * 0.05, duration: 0.5 }}\n                        >\n                            <ProductCard {...product} />\n                        </motion.div>\n                    ))}\n                </div>\n\n                <div className=\"mt-16 text-center\">\n                    <Link href=\"/shop/all\" className=\"inline-flex items-center gap-2 bg-white text-black px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-white/90 transition-transform hover:scale-105 shadow-lg group\">\n                        View all collections\n                        <ArrowRight size={18} className=\"group-hover:translate-x-1 transition-transform\" />\n                    </Link>\n                </div>\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/HeroVideo.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'HomeIcon' is defined but never used.","line":22,"column":49,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":57,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"HomeIcon"},"fix":{"range":[552,570],"text":""},"desc":"Remove unused variable \"HomeIcon\"."}]}],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":178,"column":29,"nodeType":"JSXOpeningElement","endLine":183,"endColumn":31,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Link from 'next/link';\nimport { createBrowserClient } from '@supabase/ssr';\nimport { getGoogleDriveDirectLink } from '@/utils/googleDrive';\n\ntype HeroContentType = 'video' | 'images';\n\ninterface HeroContent {\n    type: HeroContentType;\n    video_url: string;\n    poster_url: string;\n    images: string[];\n    mobile_images: string[];\n    heading: string;\n    subheading: string;\n    button_text: string;\n    button_link: string;\n}\n\nimport { ArrowRight, Box, Shirt, Heart, Home as HomeIcon, Smartphone, Watch, Dog } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst CATEGORIES = [\n    { name: 'Stationary & Toys', icon: Box, link: '/shop/stationary-toys' },\n    { name: 'Clothing', icon: Shirt, link: '/shop/clothing' },\n    { name: 'Lifestyle', icon: Heart, link: '/shop/lifestyle' },\n    { name: 'Home & Tech', icon: Smartphone, link: '/shop/home-tech' },\n    { name: 'Accessories', icon: Watch, link: '/shop/accessories' },\n    { name: 'Pets', icon: Dog, link: '/shop/pets' },\n];\n\nexport default function HeroVideo() {\n    const [content, setContent] = useState<HeroContent>({\n        type: 'video',\n        video_url: '',\n        poster_url: '',\n        images: [],\n        mobile_images: [],\n        heading: '',\n        subheading: '',\n        button_text: 'Shop Now',\n        button_link: '/shop/new-arrivals'\n    });\n    const [isLoading, setIsLoading] = useState(true);\n    const [isMobile, setIsMobile] = useState(false);\n    const [isHovered, setIsHovered] = useState(false);\n\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        const fetchContent = async () => {\n            const supabase = createBrowserClient(\n                process.env.NEXT_PUBLIC_SUPABASE_URL!,\n                process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n            );\n\n            const { data } = await supabase\n                .from('content_blocks')\n                .select('content')\n                .eq('section_id', 'hero_main')\n                .single();\n\n            if (data && data.content) {\n                // Merge with defaults to ensure safety\n                setContent(prev => ({\n                    ...prev,\n                    ...data.content,\n                    // Fallbacks for legacy data\n                    type: data.content.type || 'video',\n                    images: data.content.images || prev.images,\n                    mobile_images: data.content.mobile_images || data.content.images || prev.mobile_images\n                }));\n            }\n            setIsLoading(false);\n        };\n\n        fetchContent();\n\n        // Device detection\n        const checkMobile = () => {\n            setIsMobile(window.innerWidth < 768);\n        };\n        checkMobile();\n        window.addEventListener('resize', checkMobile);\n        return () => window.removeEventListener('resize', checkMobile);\n    }, []);\n\n    // Process content to handle Google Drive links and sanitize fallback text\n    const processedContent = React.useMemo(() => {\n        const sanitize = (text: string) => {\n            if (!text) return '';\n            return text\n                .replace(/No video configured/gi, '')\n                .replace(/No images configured/gi, '')\n                .replace(/Summer Luxe/gi, '')\n                .replace(/New Collection/gi, '')\n                .trim();\n        };\n\n        return {\n            ...content,\n            heading: sanitize(content.heading),\n            subheading: sanitize(content.subheading),\n            video_url: getGoogleDriveDirectLink(content.video_url),\n            poster_url: getGoogleDriveDirectLink(content.poster_url),\n            images: content.images.map(img => getGoogleDriveDirectLink(img))\n        };\n    }, [content]);\n\n    // Filter out empty strings from images based on device\n    const validImages = React.useMemo(() => {\n        const imageSet = isMobile && content.mobile_images?.length > 0\n            ? content.mobile_images\n            : content.images;\n\n        return imageSet ? imageSet\n            .filter(img => img && img.trim() !== '')\n            .map(img => getGoogleDriveDirectLink(img)) : [];\n    }, [content.images, content.mobile_images, isMobile]);\n\n    // Auto-scroll logic for images\n    useEffect(() => {\n        if (content.type !== 'images' || validImages.length === 0) return;\n\n        const interval = setInterval(() => {\n            if (scrollContainerRef.current) {\n                const { scrollLeft, clientWidth, scrollWidth } = scrollContainerRef.current;\n                const nextScroll = scrollLeft + clientWidth;\n\n                if (nextScroll >= scrollWidth) {\n                    scrollContainerRef.current.scrollTo({ left: 0, behavior: 'smooth' });\n                } else {\n                    scrollContainerRef.current.scrollTo({ left: nextScroll, behavior: 'smooth' });\n                }\n            }\n        }, 5000); // Scroll every 5 seconds\n\n        return () => clearInterval(interval);\n    }, [content.type, validImages]);\n\n    return (\n        <section\n            className=\"relative w-full overflow-hidden bg-black group\"\n            style={{\n                height: isMobile\n                    ? 'calc(100vh - 104px - 4rem - env(safe-area-inset-bottom))'\n                    : 'calc(100vh - 104px)'\n            }}\n        >\n            {/* Background Content */}\n            {content.type === 'video' ? (\n                processedContent.video_url ? (\n                    <video\n                        className=\"absolute inset-0 w-full h-full object-cover object-top opacity-80\"\n                        autoPlay\n                        loop\n                        muted\n                        playsInline\n                        poster={processedContent.poster_url}\n                        key={processedContent.video_url} // Force reload on url change\n                    >\n                        <source src={processedContent.video_url} type=\"video/mp4\" />\n                        Your browser does not support the video tag.\n                    </video>\n                ) : (\n                    <div className=\"min-w-full w-full h-full bg-black flex items-center justify-center\" />\n                )\n            ) : (\n                <div\n                    ref={scrollContainerRef}\n                    className=\"absolute inset-0 w-full h-full flex overflow-hidden scroll-smooth\"\n                >\n                    {validImages.map((img, idx) => (\n                        <div key={idx} className=\"min-w-full w-full h-full snap-center flex-shrink-0 relative\">\n                            {/* eslint-disable-next-line @next/next/no-img-element */}\n                            <img\n                                src={img}\n                                alt={`Banner ${idx + 1}`}\n                                className=\"w-full h-full object-cover object-top opacity-90\"\n                                referrerPolicy=\"no-referrer\"\n                            />\n                        </div>\n                    ))}\n                    {/* Fallback if no valid images are found */}\n                    {validImages.length === 0 && (\n                        <div className=\"min-w-full w-full h-full bg-black flex items-center justify-center\" />\n                    )}\n                </div>\n            )}\n\n            {/* Overlay Gradient */}\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent pointer-events-none\" />\n\n            {/* Content Overlay - Centered/Bottom Biased */}\n            {!isLoading && (processedContent.heading || processedContent.subheading || content.button_text) && (\n                <div className=\"absolute inset-0 flex flex-col items-center justify-end pb-20 md:pb-48 px-6 text-center z-10\">\n                    <div className=\"animate-fade-in-up relative\">\n                        {processedContent.subheading && (\n                            <span className=\"text-white text-[10px] md:text-xs font-bold uppercase tracking-[0.3em] mb-6 block drop-shadow-md opacity-80\">\n                                {processedContent.subheading}\n                            </span>\n                        )}\n                        {processedContent.heading && (\n                            <h2 className=\"text-white text-4xl md:text-8xl font-serif font-medium italic mb-12 drop-shadow-2xl leading-[1.1] text-center max-w-4xl mx-auto\">\n                                {processedContent.heading}\n                            </h2>\n                        )}\n\n                        {/* Interactive Button Section */}\n                        <div\n                            className=\"relative flex items-center justify-center\"\n                            onMouseEnter={() => setIsHovered(true)}\n                            onMouseLeave={() => setIsHovered(false)}\n                        >\n                            {/* Category Pop-out Buttons */}\n                            <AnimatePresence>\n                                {isHovered && !isMobile && (\n                                    <div className=\"absolute top-full left-1/2 -translate-x-1/2 pt-12 flex items-center justify-center gap-4 pointer-events-none\">\n                                        {CATEGORIES.map((cat, idx) => (\n                                            <motion.div\n                                                key={cat.name}\n                                                initial={{ opacity: 0, y: -20, scale: 0.8 }}\n                                                animate={{\n                                                    opacity: 1,\n                                                    y: 0,\n                                                    scale: 1,\n                                                    transition: {\n                                                        type: 'spring',\n                                                        stiffness: 300,\n                                                        damping: 25,\n                                                        delay: idx * 0.05\n                                                    }\n                                                }}\n                                                exit={{\n                                                    opacity: 0,\n                                                    y: -10,\n                                                    scale: 0.9,\n                                                    transition: { duration: 0.2 }\n                                                }}\n                                                className=\"pointer-events-auto\"\n                                            >\n                                                <Link\n                                                    href={cat.link}\n                                                    className=\"group/cat flex flex-col items-center justify-center w-24 h-24 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-2 transition-all duration-300 hover:bg-white/20 hover:scale-110 hover:border-white/30 shadow-2xl\"\n                                                >\n                                                    <cat.icon className=\"w-6 h-6 text-white mb-2 transition-transform group-hover/cat:scale-110\" />\n                                                    <span className=\"text-[10px] text-white font-medium uppercase tracking-tighter text-center leading-tight\">\n                                                        {cat.name}\n                                                    </span>\n                                                </Link>\n                                            </motion.div>\n                                        ))}\n                                    </div>\n                                )}\n                            </AnimatePresence>\n\n                            {/* Main Shop Now Button */}\n                            {content.button_text && (\n                                <Link\n                                    href={content.button_link || '#'}\n                                    className=\"group/btn relative z-20 inline-flex items-center gap-4 bg-white/10 backdrop-blur-md border border-white/20 text-white px-12 py-5 rounded-full text-sm font-bold uppercase tracking-[0.3em] transition-all duration-500 hover:bg-white hover:text-black hover:scale-105 hover:shadow-[0_0_60px_rgba(255,255,255,0.4)] overflow-hidden\"\n                                >\n                                    <span className=\"relative z-10\">{content.button_text}</span>\n                                    <ArrowRight className=\"relative z-10 w-4 h-4 transition-transform duration-500 group-hover/btn:translate-x-2\" />\n                                    <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover/btn:translate-x-full transition-transform duration-1000\" />\n                                </Link>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            )}\n        </section>\n    );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/MasonryProductGrid.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[193,196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[193,196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { motion } from 'framer-motion';\n\ninterface MasonryProductGridProps {\n    products: any[];\n    title?: string;\n    subtitle?: string;\n}\n\nexport default function MasonryProductGrid({ products, title = \"Featured Collection\", subtitle = \"Our most loved pieces, curated just for you.\" }: MasonryProductGridProps) {\n    if (!products || products.length === 0) return null;\n\n    return (\n        <section className=\"pt-8 pb-16 md:pt-12 md:pb-24 px-4 bg-gray-50 dark:bg-black\">\n            <div className=\"container-premium max-w-[1440px] mx-auto\">\n                <div className=\"text-center mb-12\">\n                    <h2 className=\"text-3xl md:text-5xl font-heading font-black text-navy-900 dark:text-white mb-4\">\n                        {title}\n                    </h2>\n                    <p className=\"text-gray-500 dark:text-gray-400 max-w-2xl mx-auto text-lg\">\n                        {subtitle}\n                    </p>\n                </div>\n\n                {/* CSS Columns Masonry */}\n                {/* Standard Grid Layout */}\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n                    {products.map((product, idx) => (\n                        <motion.div\n                            key={product.id}\n                            initial={{ opacity: 0, y: 20 }}\n                            whileInView={{ opacity: 1, y: 0 }}\n                            viewport={{ once: true, margin: \"-50px\" }}\n                            transition={{ duration: 0.5, delay: 0.05 * (idx % 4) }}\n                            className=\"h-full\"\n                        >\n                            <ProductCard\n                                id={product.id}\n                                name={product.name}\n                                brand=\"BroncStudio\"\n                                price={product.price}\n                                originalPrice={product.originalPrice || product.compare_at_price}\n                                image={product.image || product.images?.[0] || '/images/placeholder.jpg'}\n                                // Pass secondary image if available (Assuming full product object has images array)\n                                secondaryImage={product.images?.[1]}\n                                badge={product.badge}\n                            />\n                        </motion.div>\n                    ))}\n                </div>\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/MobileCategoriesGrid.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":80,"column":33,"nodeType":"JSXOpeningElement","endLine":84,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\n\n// Strictly mapped to 'src/data/categories.ts' output\nconst CATALOG_CATEGORIES = [\n    {\n        label: \"Men's Edit\",\n        slug: 'men',\n        image: 'https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=500&q=80',\n        href: '/collections/men'\n    },\n    {\n        label: \"Women's Edit\",\n        slug: 'women',\n        image: 'https://images.unsplash.com/photo-1525845859779-54d477ff291f?w=500&q=80',\n        href: '/collections/women'\n    },\n    {\n        label: \"Little Legends\",\n        slug: 'little-legends',\n        image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=500&q=80',\n        href: '/collections/little-legends'\n    },\n    {\n        label: \"Home & Living\",\n        slug: 'space-stories',\n        image: 'https://images.unsplash.com/photo-1513519245088-0e12902e5a38?w=500&q=80',\n        href: '/collections/space-stories'\n    },\n    {\n        label: \"Accessories\",\n        slug: 'style-extras',\n        image: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?w=500&q=80',\n        href: '/collections/style-extras'\n    },\n    {\n        label: \"Everyday Icons\",\n        slug: 'everyday-icons',\n        image: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=500&q=80',\n        href: '/collections/everyday-icons'\n    },\n    {\n        label: \"Gift Suite\",\n        slug: 'little-luxuries',\n        image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=500&q=80',\n        href: '/collections/little-luxuries'\n    },\n    {\n        label: \"Pawfect Picks\",\n        slug: 'pets',\n        image: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=500&q=80',\n        href: '/collections/pets'\n    }\n];\n\nexport default function MobileCategoriesGrid() {\n    return (\n        <section className=\"md:hidden py-6 bg-gray-50 dark:bg-white/5\">\n            <div className=\"px-4 mb-4\">\n                <h2 className=\"text-xl font-heading font-bold text-navy-900 dark:text-white uppercase tracking-wider\">\n                    SHOP BY CATEGORY\n                </h2>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Explore our curated collections.</p>\n            </div>\n\n            <div className=\"overflow-x-auto no-scrollbar snap-x w-full scroll-pl-4\">\n                <div\n                    className=\"grid grid-rows-2 grid-flow-col gap-3 w-max min-w-full\"\n                    style={{ paddingLeft: '16px', paddingRight: '16px' }}\n                >\n                    {CATALOG_CATEGORIES.map((item, idx) => (\n                        <Link\n                            key={idx}\n                            href={item.href}\n                            className=\"flex flex-col gap-2 group snap-start w-[calc(50vw-24px)]\"\n                        >\n                            <div className=\"aspect-[3/4] overflow-hidden rounded-lg bg-gray-200 relative\">\n                                <img\n                                    src={item.image}\n                                    alt={item.label}\n                                    className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                                />\n                                <div className=\"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors\" />\n                            </div>\n                            <span className=\"text-center text-[10px] font-bold text-navy-900 dark:text-white uppercase tracking-widest truncate px-1\">\n                                {item.label}\n                            </span>\n                        </Link>\n                    ))}\n                </div>\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/MobileCategoryRail.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":49,"column":37,"nodeType":"JSXOpeningElement","endLine":53,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\n\n// 14 Specific items requested by User\nconst RAIL_ITEMS = [\n    { label: 'Men', href: '/collections/men', img: 'https://images.unsplash.com/photo-1516257984-b1b4d8c92305?w=500&q=80' },\n    { label: 'Women', href: '/collections/women', img: 'https://images.unsplash.com/photo-1483985988355-763728e1935b?w=500&q=80' },\n    { label: 'Kids', href: '/collections/kids-clothing', img: 'https://images.unsplash.com/photo-1503919545889-aef636e10ad4?w=500&q=80' },\n    { label: 'Accessories', href: '/collections/style-extras', img: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?w=500&q=80' },\n    { label: 'Books', href: '/collections/kids-books', img: 'https://images.unsplash.com/photo-1512820790803-83ca734da794?w=500&q=80' },\n    { label: 'Pets', href: '/collections/pets', img: 'https://images.unsplash.com/photo-1543466835-00a7907e9de1?w=500&q=80' },\n    { label: 'Stationery', href: '/collections/stationery', img: 'https://images.unsplash.com/photo-1544816155-12df9643f363?w=500&q=80' },\n    { label: 'Toys', href: '/collections/toys-activities', img: 'https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?w=500&q=80' },\n    { label: 'Drinkware', href: '/collections/drinkware', img: 'https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?w=500&q=80' },\n    { label: 'Lifestyle', href: '/shop/lifestyle', img: 'https://images.unsplash.com/photo-1549465220-1a8b9238cd48?w=500&q=80' },\n    { label: 'Desk', href: '/collections/desk-essentials', img: 'https://images.unsplash.com/photo-1505330622279-bf7d7fc918f4?w=500&q=80' },\n    { label: 'Decor', href: '/collections/home-decor', img: 'https://images.unsplash.com/photo-1583847268964-b28dc8f51f92?w=500&q=80' },\n    { label: 'Magnets', href: '/collections/magnets', img: 'https://images.unsplash.com/photo-1596495370355-467332247aa6?w=500&q=80' },\n    { label: 'Posters', href: '/collections/posters', img: 'https://images.unsplash.com/photo-1577083552431-6e5fd01988ec?w=500&q=80' },\n];\n\nexport default function MobileCategoryRail() {\n    return (\n        <div className=\"md:hidden w-full bg-white dark:bg-navy-900 pt-5 pb-4\">\n            <div className=\"overflow-x-auto no-scrollbar snap-x w-full scroll-pl-4\">\n                <div\n                    className=\"flex w-max min-w-full\"\n                    style={{ paddingLeft: '16px', paddingRight: '16px' }}\n                >\n                    <div className=\"flex gap-3\">\n                        {/* Special 'New' Item - Premium Solid Tile */}\n                        <Link href=\"/shop/new-arrivals\" className=\"flex flex-col items-center gap-2 min-w-[80px] snap-start group\">\n                            <div className=\"w-20 h-20 rounded-2xl bg-navy-900 dark:bg-white flex items-center justify-center shadow-lg shadow-navy-900/10 transition-transform group-active:scale-95\">\n                                <div className=\"text-center\">\n                                    <span className=\"block text-white dark:text-slate-900 text-[10px] font-bold tracking-widest uppercase mb-0.5\">NEW</span>\n                                    <span className=\"block text-white dark:text-slate-900 text-xs font-black tracking-tighter\">DROPS</span>\n                                </div>\n                            </div>\n                            <span className=\"text-xs font-bold text-navy-900 dark:text-white text-center tracking-wide\">\n                                New In\n                            </span>\n                        </Link>\n\n                        {RAIL_ITEMS.map((item) => (\n                            <Link key={item.label} href={item.href} className=\"flex flex-col items-center gap-2 min-w-[80px] snap-start group\">\n                                <div className=\"w-20 h-20 rounded-2xl overflow-hidden bg-gray-100 shadow-md transition-transform group-active:scale-95 relative\">\n                                    <img\n                                        src={item.img}\n                                        alt={item.label}\n                                        className=\"w-full h-full object-cover\"\n                                    />\n                                    {/* Subtle inner border for definition */}\n                                    <div className=\"absolute inset-0 rounded-2xl border border-black/5 dark:border-white/10 pointer-events-none\"></div>\n                                </div>\n                                <span className=\"text-xs font-medium text-navy-900 dark:text-white text-center leading-tight whitespace-nowrap\">\n                                    {item.label}\n                                </span>\n                            </Link>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/MobileCuratedGrid.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[245,248],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[245,248],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":24,"column":8,"nodeType":"ArrayExpression","endLine":24,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[686,688],"text":"[supabase]"}}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":46,"column":29,"nodeType":"JSXOpeningElement","endLine":50,"endColumn":31}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { createClient } from '@/utils/supabase/client';\n\nexport default function MobileCuratedGrid() {\n    const [sections, setSections] = useState<any[]>([]);\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const { data } = await supabase\n                .from('curated_sections')\n                .select('*')\n                .eq('is_active', true)\n                .order('display_order', { ascending: true });\n\n            if (data) {\n                setSections(data);\n            }\n        };\n        fetchData();\n    }, []);\n\n    if (sections.length === 0) return null;\n\n    return (\n        <section className=\"md:hidden py-6 bg-white dark:bg-navy-900 overflow-hidden\">\n            <div className=\"px-4 mb-4\">\n                <h2 className=\"text-lg font-bold text-navy-900 dark:text-white uppercase tracking-wider\">\n                    CURATED FOR YOU\n                </h2>\n                <div className=\"h-0.5 w-12 bg-coral-500 mt-1\"></div>\n            </div>\n\n            {/* Horizontal 2xGrid (2 rows, horizontal scroll) */}\n            <div className=\"grid grid-rows-2 grid-flow-col gap-x-4 gap-y-8 px-4 pb-4 overflow-x-auto snap-x snap-mandatory no-scrollbar scroll-pl-4\">\n                {sections.map((item) => (\n                    <Link\n                        key={item.id}\n                        href={`/shop/${item.category_slugs?.[0] || 'all'}?curated=${item.id}`}\n                        className=\"flex flex-col gap-2 w-[calc(50vw-24px)] snap-start group\"\n                    >\n                        <div className=\"relative aspect-[3/4] w-full overflow-hidden rounded-xl bg-gray-100\">\n                            <img\n                                src={item.image_url}\n                                alt={item.title}\n                                className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\n                            />\n                        </div>\n                        <span className=\"text-navy-900 dark:text-white font-serif uppercase tracking-widest text-[10px] text-center font-bold\">\n                            {item.title}\n                        </span>\n                    </Link>\n                ))}\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/MobilePillsRail.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[692,695],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[692,695],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[810,813],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[810,813],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[898,901],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[898,901],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1527,1530],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1527,1530],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1634,1637],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1634,1637],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1738,1741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1738,1741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { CATEGORY_TAXONOMY } from '@/data/categories';\n\n// 1. Definition of Fixed/Priority Items\nconst PRIORITY_ITEMS = [\n    { label: 'Hoodies', href: '/shop/men-hoodies' },\n    { label: 'Jackets', href: '/shop/men-jackets' },\n    { label: 'Oversized T-Shirts', href: '/shop/men-oversized-tees' },\n    { label: 'Joggers', href: '/shop/men-bottoms' },\n];\n\n// 2. Helper to flatten all categories\nconst getAllCategories = () => {\n    const allItems: { label: string; href: string }[] = [];\n    const seenLabels = new Set(PRIORITY_ITEMS.map(i => i.label.toLowerCase()));\n\n    Object.values(CATEGORY_TAXONOMY).forEach((cat: any) => {\n        // Check subcategories\n        if (cat.subcategories) {\n            cat.subcategories.forEach((sub: any) => {\n                if (sub.items) {\n                    sub.items.forEach((item: any) => {\n                        const label = item.name;\n                        // Avoid duplicates\n                        if (!seenLabels.has(label.toLowerCase())) {\n                            seenLabels.add(label.toLowerCase());\n                            allItems.push({\n                                label: item.name,\n                                href: `/shop/${item.slug}`\n                            });\n                        }\n                    });\n                }\n            });\n        }\n        // Check groups (like in Everyday Icons)\n        if (cat.groups) {\n            cat.groups.forEach((group: any) => {\n                if (group.subcategories) {\n                    group.subcategories.forEach((sub: any) => {\n                        if (sub.items) {\n                            sub.items.forEach((item: any) => {\n                                const label = item.name;\n                                if (!seenLabels.has(label.toLowerCase())) {\n                                    seenLabels.add(label.toLowerCase());\n                                    allItems.push({\n                                        label: item.name,\n                                        href: `/shop/${item.slug}`\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n        }\n    });\n\n    return allItems;\n};\n\nexport default function MobilePillsRail() {\n    const dynamicCategories = getAllCategories();\n    const FULL_LIST = [...PRIORITY_ITEMS, ...dynamicCategories];\n\n    return (\n        <div className=\"md:hidden w-full bg-white dark:bg-navy-900 py-3 border-b border-gray-100 dark:border-white/5 sticky top-[var(--header-height)] z-20 shadow-sm\">\n            <div className=\"overflow-x-auto no-scrollbar w-full snap-x scroll-pl-4\">\n                <div\n                    className=\"flex w-max min-w-full items-center\"\n                    style={{ paddingLeft: '16px', paddingRight: '16px' }}\n                >\n                    <div className=\"flex gap-2\">\n                        {FULL_LIST.map((item, idx) => (\n                            <Link\n                                key={`${item.label}-${idx}`}\n                                href={item.href}\n                                className=\"flex-shrink-0 snap-start bg-white dark:bg-navy-800 text-navy-900 dark:text-white border border-gray-200 dark:border-white/10 px-5 py-2 rounded-full text-xs font-bold uppercase tracking-wide whitespace-nowrap hover:bg-gray-50 dark:hover:bg-white/5 transition-colors\"\n                            >\n                                {item.label}\n                            </Link>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/MosaicCategoryGrid.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":81,"column":25,"nodeType":"JSXOpeningElement","endLine":85,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport clsx from 'clsx';\n\n// Real Categories from src/data/categories.ts\nconst MOSAIC_ITEMS = [\n    {\n        id: 'everyday-icons',\n        label: 'Everyday Icons',\n        href: '/shop/everyday-icons',\n        className: 'col-span-1 row-span-1 bg-[#FDE047]', // Yellow\n        image: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=500&q=80',\n        overlayColor: 'mix-blend-multiply bg-yellow-300/20'\n    },\n    {\n        id: 'women',\n        label: 'Women',\n        href: '/shop/everyday-icons/women', // Direct link to subcategory\n        className: 'col-span-1 row-span-2 bg-[#FB923C]', // Orange\n        image: 'https://images.unsplash.com/photo-1525845859779-54d477ff291f?w=600&q=80',\n        overlayColor: ''\n    },\n    {\n        id: 'little-legends',\n        label: 'Little Legends',\n        href: '/shop/little-legends',\n        className: 'col-span-1 row-span-1 bg-pink-100',\n        image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=500&q=80',\n        overlayColor: ''\n    },\n    {\n        id: 'men',\n        label: 'Men',\n        href: '/shop/everyday-icons/men', // Direct link to subcategory\n        className: 'col-span-1 row-span-1 bg-white',\n        image: 'https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=500&q=80',\n        overlayColor: ''\n    },\n    {\n        id: 'pets',\n        label: 'Pets',\n        href: '/shop/pets',\n        className: 'col-span-1 row-span-1 bg-white',\n        image: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=500&q=80', // Dog image from data\n        overlayColor: ''\n    },\n    {\n        id: 'style-extras',\n        label: 'Accessories',\n        href: '/shop/style-extras',\n        className: 'col-span-2 md:col-span-1 row-span-1 bg-gray-50', // Wide on Mobile, Square on Desktop\n        image: 'https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?w=800&q=80',\n        overlayColor: ''\n    },\n    {\n        id: 'space-stories',\n        label: 'Home & Living',\n        href: '/shop/space-stories',\n        className: 'col-span-2 md:col-span-1 row-span-1 bg-gray-50', // Wide on Mobile, Square on Desktop\n        image: 'https://images.unsplash.com/photo-1513519245088-0e12902e5a38?w=800&q=80',\n        overlayColor: ''\n    }\n];\n\nexport default function MosaicCategoryGrid() {\n    return (\n        <section className=\"py-4 md:py-8 px-3 md:px-6 bg-white dark:bg-black/5\">\n            <div className=\"max-w-[1440px] mx-auto grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 auto-rows-[200px] md:auto-rows-[300px] grid-flow-dense\">\n                {MOSAIC_ITEMS.map((item) => (\n                    <Link\n                        key={item.id}\n                        href={item.href}\n                        className={clsx(\n                            \"relative rounded-xl overflow-hidden group shadow-sm hover:shadow-xl transition-all duration-500\",\n                            item.className\n                        )}\n                    >\n                        {/* Background Image */}\n                        <img\n                            src={item.image}\n                            alt={item.label}\n                            className=\"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                        />\n\n                        {/* Specific Overlay Adjustments for text readability if needed */}\n                        <div className={`absolute inset-0 bg-black/5 ${item.overlayColor || ''} group-hover:bg-black/0 transition-colors`} />\n\n                        {/* Floating Centered Button */}\n                        <div className=\"absolute inset-0 flex items-center justify-center p-4\">\n                            <span className=\"bg-white/95 backdrop-blur-sm text-navy-900 border border-white px-6 py-2.5 md:px-8 md:py-3 rounded-lg md:rounded-xl text-xs md:text-sm font-bold uppercase tracking-wider shadow-lg transform transition-transform duration-300 group-hover:scale-105 group-hover:bg-navy-900 group-hover:text-white group-hover:border-navy-900 whitespace-nowrap\">\n                                {item.label}\n                            </span>\n                        </div>\n                    </Link>\n                ))}\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/ProductShowcase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/ShopByCategory.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":24,"column":33,"nodeType":"JSXOpeningElement","endLine":24,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Home/TabbedProductShowcase.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[679,682],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[679,682],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[795,798],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[795,798],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":32,"column":45,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":32,"endColumn":73},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":102,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":105,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1558,1561],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1558,1561],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":172,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":175,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1628,1631],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1628,1631],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":45,"column":36,"nodeType":"Identifier","messageId":"unusedVar","endLine":45,"endColumn":41},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3075,3078],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3075,3078],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3938,3941],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3938,3941],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":99,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4751,4754],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4751,4754],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":111,"column":8,"nodeType":"ArrayExpression","endLine":111,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [categorySlug, supabase]","fix":{"range":[5072,5086],"text":"[categorySlug, supabase]"}}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":123,"column":45,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":123,"endColumn":73},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":123,"column":102,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":105,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5481,5484],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5481,5484],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":123,"column":172,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":175,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5551,5554],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5551,5554],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":124,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":124,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5622,5625],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5622,5625],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5763,5766],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5763,5766],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":129,"column":86,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":89,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5979,5982],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5979,5982],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6359,6362],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6359,6362],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":146,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":146,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6738,6741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6738,6741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":167,"column":8,"nodeType":"ArrayExpression","endLine":167,"endColumn":33,"suggestions":[{"desc":"Update the dependencies array to be: [activeTab, categorySlug, supabase]","fix":{"range":[7451,7476],"text":"[activeTab, categorySlug, supabase]"}}]}],"suppressedMessages":[],"errorCount":16,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\nimport ProductCard from '@/components/Product/ProductCard';\nimport { createClient } from '@/utils/supabase/client';\nimport { Loader2 } from 'lucide-react';\n\ninterface TabbedProductShowcaseProps {\n    categorySlug?: string;\n}\n\nexport default function TabbedProductShowcase({ categorySlug = 'everyday-icons' }: TabbedProductShowcaseProps) {\n    const [activeTab, setActiveTab] = useState('');\n    const [tabs, setTabs] = useState<{ id: string; label: string; slug: string }[]>([]);\n    const [products, setProducts] = useState<any[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [categoryNode, setCategoryNode] = useState<any>(null); // DB Data\n    const supabase = createClient();\n\n    // 1. Resolve Category & Tabs from DB\n    useEffect(() => {\n        const fetchCategoryData = async () => {\n            // Check local taxonomy for legacy_slug to ensure we query DB with the right key\n            // This allows us to strictly rename the frontend without migrating the DB immediately\n            let targetSlug = categorySlug;\n\n            // Try to find the node in local taxonomy to see if it has a legacy override\n            // Iterate over values since we don't have the key directly here (unless categorySlug matches)\n            // But usually categorySlug matches the key.\n            const localNode = Object.values(require('@/data/categories').CATEGORY_TAXONOMY).find((c: any) => c.slug === categorySlug || c.legacy_slug === categorySlug) as any;\n\n            if (localNode && localNode.db_slug) {\n                targetSlug = localNode.db_slug;\n            } else if (localNode && localNode.legacy_slug) {\n                // Only use legacy if we need to, but our DB seems to use the NEW slug 'clothing'.\n                // Let's NOT override targetSlug unless we are sure.\n                // Better strategy: Query for EITHER.\n                // For now, let's comment out the force override or verify.\n                // targetSlug = localNode.legacy_slug; \n            }\n\n            // Fetch the main category (World/Level 1)\n            const { data: catData, error } = await supabase\n                .from('categories')\n                .select('*, children:categories(*)') // Self-join for immediate children\n                .eq('slug', targetSlug)\n                .single();\n\n            if (catData) {\n                // If we found it via legacy slug, use the NEW name from local taxonomy if available\n                // to effectively \"rename\" it in the UI even if DB receives old name\n                if (localNode) {\n                    setCategoryNode({ ...catData, name: localNode.name, description: localNode.description });\n\n                    // USE LOCAL SUBCATEGORIES IF AVAILABLE (e.g. Men, Women, Kids)\n                    if (localNode.subcategories && localNode.subcategories.length > 0) {\n                        const newTabs = localNode.subcategories.map((sub: any) => ({\n                            id: sub.id, // Virtual ID or whatever\n                            label: sub.name,\n                            slug: sub.slug\n                        }));\n                        setTabs(newTabs);\n                        setActiveTab(newTabs[0].slug);\n                        return; // Skip DB children fetch\n                    }\n                } else {\n                    setCategoryNode(catData);\n                }\n\n                // Get subcategories (Tabs) from children (Fallback to DB)\n                const { data: children } = await supabase\n                    .from('categories')\n                    .select('*')\n                    .eq('parent_id', catData.id)\n                    .order('name');\n\n                if (children && children.length > 0) {\n                    const newTabs = children.map((sub: any) => ({\n                        id: sub.id,\n                        label: sub.name,\n                        slug: sub.slug\n                    }));\n                    setTabs(newTabs);\n                    setActiveTab(newTabs[0].slug);\n                }\n            } else if (localNode) {\n                // If not in DB but in local taxonomy, use local data\n                setCategoryNode({\n                    id: localNode.id || 'virtual',\n                    name: localNode.name,\n                    slug: localNode.slug,\n                    description: localNode.description,\n                    image_url: localNode.image\n                });\n\n                if (localNode.subcategories && localNode.subcategories.length > 0) {\n                    const newTabs = localNode.subcategories.map((sub: any) => ({\n                        id: sub.id,\n                        label: sub.name,\n                        slug: sub.slug\n                    }));\n                    setTabs(newTabs);\n                    setActiveTab(newTabs[0].slug);\n                }\n            }\n        };\n\n        fetchCategoryData();\n    }, [categorySlug]);\n\n    // 2. Fetch Products for Active Tab\n    useEffect(() => {\n        if (!activeTab) return;\n\n        const fetchProducts = async () => {\n            setLoading(true);\n\n            let targetIds: string[] = [];\n\n            // Determine if activeTab is a \"Virtual\" tab from local taxonomy\n            const localNode = Object.values(require('@/data/categories').CATEGORY_TAXONOMY).find((c: any) => c.slug === categorySlug || c.legacy_slug === categorySlug) as any;\n            const virtualSub = localNode?.subcategories?.find((s: any) => s.slug === activeTab);\n\n            if (virtualSub && virtualSub.items) {\n                const itemSlugs = virtualSub.items.map((i: any) => i.slug);\n                const { data: childCats } = await supabase.from('categories').select('id').in('slug', itemSlugs);\n                if (childCats && childCats.length > 0) targetIds = childCats.map((c: any) => c.id);\n            } else {\n                const { data: tabCat } = await supabase.from('categories').select('id').eq('slug', activeTab).single();\n                if (tabCat) {\n                    const { data: subChildren } = await supabase.from('categories').select('id').eq('parent_id', tabCat.id);\n                    targetIds = [tabCat.id, ...(subChildren?.map((c: any) => c.id) || [])];\n                }\n            }\n\n            if (targetIds.length > 0) {\n                const { data: prods } = await supabase\n                    .from('products')\n                    .select('*')\n                    .in('category_id', targetIds)\n                    .limit(8);\n\n                if (prods) {\n                    setProducts(prods.map((p: any) => ({\n                        id: p.id,\n                        name: p.name,\n                        brand: 'BroncStudio',\n                        price: p.price,\n                        originalPrice: p.compare_at_price,\n                        image: p.images?.[0] || p.image_url || '/images/placeholder.jpg',\n                        secondaryImage: p.images?.[1],\n                        badge: p.stock_status === 'out_of_stock' ? 'Sold Out' : undefined\n                    })));\n                } else {\n                    setProducts([]);\n                }\n            } else {\n                setProducts([]);\n            }\n\n            setLoading(false);\n        };\n\n        fetchProducts();\n    }, [activeTab, categorySlug]);\n\n    if (!categoryNode) return null; // Or skeleton\n\n    return (\n        <section className=\"py-16 md:py-24 bg-white dark:bg-black/5\">\n            <div className=\"container-premium max-w-[1400px] mx-auto px-6\">\n\n\n\n                {/* Tabs */}\n                {tabs.length > 0 && (\n                    <div className=\"flex justify-center mb-12\">\n                        <div className=\"flex flex-wrap justify-center gap-x-8 gap-y-4 border-b border-gray-100 dark:border-white/10 px-8\">\n                            {tabs.map((tab) => (\n                                <button\n                                    key={tab.slug}\n                                    onClick={() => setActiveTab(tab.slug)}\n                                    className={`pb-4 text-base md:text-lg font-bold tracking-wide uppercase transition-all relative ${activeTab === tab.slug\n                                        ? 'text-navy-900 dark:text-white'\n                                        : 'text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300'\n                                        }`}\n                                >\n                                    {tab.label}\n                                    {activeTab === tab.slug && (\n                                        <motion.div\n                                            layoutId=\"activeTabIndicator\"\n                                            className=\"absolute bottom-0 left-0 right-0 h-1 bg-navy-900 dark:bg-white rounded-t-full\"\n                                        />\n                                    )}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {/* Content */}\n                <div className=\"min-h-[400px]\">\n                    {loading ? (\n                        <div className=\"flex flex-col items-center justify-center py-20 opacity-50\">\n                            <Loader2 className=\"animate-spin text-navy-900 mb-4\" size={32} />\n                            <p className=\"text-sm font-bold tracking-widest uppercase\">Loading styles...</p>\n                        </div>\n                    ) : (\n                        <AnimatePresence mode='wait'>\n                            <motion.div\n                                key={activeTab}\n                                initial={{ opacity: 0, y: 20 }}\n                                animate={{ opacity: 1, y: 0 }}\n                                exit={{ opacity: 0, y: -20 }}\n                                transition={{ duration: 0.4 }}\n                                className=\"grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-10 md:gap-x-8\"\n                            >\n                                {products.length > 0 ? products.map((product) => (\n                                    <div key={product.id}>\n                                        <ProductCard {...product} />\n                                    </div>\n                                )) : (\n                                    <div className=\"col-span-full py-20 text-center text-gray-400\">\n                                        <p>No products found in this category.</p>\n                                    </div>\n                                )}\n                            </motion.div>\n                        </AnimatePresence>\n                    )}\n                </div>\n\n                <div className=\"text-center mt-12\">\n                    <Link\n                        href={`/collections/${activeTab}`}\n                        className=\"inline-flex items-center gap-2 px-8 py-3 bg-navy-900 text-white rounded-full font-bold hover:bg-coral-500 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1\"\n                    >\n                        View All {tabs.find(t => t.slug === activeTab)?.label}\n                    </Link>\n                </div>\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Invoice/InvoiceDownloadButton.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Invoice/InvoiceDownloadButton.tsx:18:9\n  16 |\n  17 |     useEffect(() => {\n> 18 |         setIsClient(true);\n     |         ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  19 |     }, []);\n  20 |\n  21 |     if (!isClient) {","line":18,"column":9,"nodeType":null,"endLine":18,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'blob' is defined but never used.","line":37,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":37,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'url' is defined but never used.","line":37,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":37,"endColumn":26}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\n'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport { InvoicePDF, Order } from './InvoicePDF';\nimport { FileText, Loader2 } from 'lucide-react';\n\ninterface InvoiceDownloadButtonProps {\n    order: Order;\n    variant?: 'primary' | 'outline' | 'ghost'; // For different UI contexts\n}\n\nexport default function InvoiceDownloadButton({ order, variant = 'outline' }: InvoiceDownloadButtonProps) {\n    const [isClient, setIsClient] = useState(false);\n\n    useEffect(() => {\n        setIsClient(true);\n    }, []);\n\n    if (!isClient) {\n        return null; // Avoid SSR issues with react-pdf\n    }\n\n    const buttonClasses = {\n        primary: \"flex items-center gap-2 bg-navy-900 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-navy-800 dark:bg-white dark:text-slate-900 dark:hover:bg-gray-200 transition-colors\",\n        outline: \"flex items-center gap-2 border border-subtle text-primary px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors\",\n        ghost: \"flex items-center gap-2 text-coral-500 hover:text-coral-600 text-sm font-bold\"\n    };\n\n    return (\n        <PDFDownloadLink\n            document={<InvoicePDF order={order} logoPath={window.location.origin + '/blacklogo.png'} />}\n            fileName={`invoice_${order.id.slice(0, 8)}.pdf`}\n            className=\"inline-block\"\n        >\n            {({ blob, url, loading, error }) => (\n                <button className={buttonClasses[variant]} disabled={loading}>\n                    {loading ? (\n                        <Loader2 size={16} className=\"animate-spin\" />\n                    ) : (\n                        <FileText size={16} />\n                    )}\n                    {loading ? 'Generating...' : 'Invoice'}\n                    {error && <span className=\"text-red-500 text-xs ml-2\">Error: {error.toString()}</span>}\n                </button>\n            )}\n        </PDFDownloadLink>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Invoice/InvoicePDF.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Font' is defined but never used.","line":3,"column":57,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":61,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Font"},"fix":{"range":[82,88],"text":""},"desc":"Remove unused variable \"Font\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":189,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":189,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4356,4359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4356,4359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":197,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":197,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4497,4500],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4497,4500],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":219,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":219,"endColumn":15},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot reassign variable after render completes\n\nReassigning `runningSubtotal` after render has completed can cause inconsistent behavior on subsequent renders. Consider using state instead.\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Invoice/InvoicePDF.tsx:257:9\n  255 |         const taxAmount = (taxableValue * taxPercent) / 100;\n  256 |\n> 257 |         runningSubtotal += taxableValue;\n      |         ^^^^^^^^^^^^^^^ Cannot reassign `runningSubtotal` after render completes\n  258 |         runningTotalTax += taxAmount;\n  259 |\n  260 |         const totalLineAmount = taxableValue + taxAmount;","line":257,"column":9,"nodeType":null,"endLine":257,"endColumn":24},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"Image elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":321,"column":17,"nodeType":"JSXOpeningElement","endLine":321,"endColumn":66},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"Image elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":326,"column":25,"nodeType":"JSXOpeningElement","endLine":326,"endColumn":106},{"ruleId":"jsx-a11y/alt-text","severity":1,"message":"Image elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","line":494,"column":25,"nodeType":"JSXOpeningElement","endLine":494,"endColumn":120}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport React from 'react';\nimport { Page, Text, View, Document, StyleSheet, Image, Font } from '@react-pdf/renderer';\n\n// Register Fonts (Optional - using standard Helvetica for now to ensure compatibility)\n// Font.register({ family: 'Inter', src: '...' });\n\nconst styles = StyleSheet.create({\n    page: {\n        padding: 30,\n        fontFamily: 'Helvetica',\n        fontSize: 8,\n        color: '#1a1a1a',\n        lineHeight: 1.4,\n        position: 'relative',\n    },\n    watermark: {\n        position: 'absolute',\n        top: 250,\n        left: 100,\n        width: 400,\n        height: 400,\n        opacity: 0.1,\n        transform: 'rotate(-45deg)',\n        zIndex: -1,\n    },\n    header: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        marginBottom: 20,\n        borderBottomWidth: 1,\n        borderBottomColor: '#e5e7eb',\n        borderBottomStyle: 'solid',\n        paddingBottom: 15,\n    },\n    companyDetails: {\n        flexDirection: 'column',\n        textAlign: 'right',\n        alignItems: 'flex-end',\n    },\n    title: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        textTransform: 'uppercase',\n        color: '#111827',\n        letterSpacing: 1,\n        marginBottom: 8, // Added margin to prevent overlap\n    },\n    subTitle: {\n        fontSize: 9,\n        color: '#6b7280',\n        marginTop: 2,\n    },\n    invoiceMeta: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        marginTop: 10,\n        marginBottom: 20,\n    },\n    metaColumn: {\n        flexDirection: 'column',\n        width: '48%',\n    },\n    label: {\n        fontSize: 7,\n        textTransform: 'uppercase',\n        color: '#6b7280',\n        marginBottom: 2,\n        fontWeight: 'bold',\n    },\n    value: {\n        fontSize: 9,\n        color: '#111827',\n        marginBottom: 4,\n    },\n    // Table Styles\n    table: {\n        width: '100%',\n        marginTop: 10,\n        borderWidth: 1,\n        borderColor: '#e5e7eb',\n        borderStyle: 'solid',\n    },\n    tableHeader: {\n        flexDirection: 'row',\n        backgroundColor: '#f9fafb',\n        borderBottomWidth: 1,\n        borderBottomColor: '#e5e7eb',\n        paddingVertical: 6,\n        alignItems: 'center',\n    },\n    tableRow: {\n        flexDirection: 'row',\n        borderBottomWidth: 1,\n        borderBottomColor: '#e5e7eb',\n        paddingVertical: 8,\n        alignItems: 'flex-start',\n    },\n    colHeader: {\n        fontSize: 7,\n        fontWeight: 'bold',\n        color: '#374151',\n        paddingHorizontal: 4,\n    },\n    colText: {\n        fontSize: 8,\n        paddingHorizontal: 4,\n    },\n    productName: {\n        fontSize: 9,\n        fontWeight: 'bold',\n        color: '#111827',\n    },\n    productMeta: {\n        fontSize: 7,\n        color: '#6b7280',\n        marginTop: 1,\n    },\n    totals: {\n        marginTop: 20,\n        alignItems: 'flex-end',\n    },\n    totalRow: {\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n        marginBottom: 4,\n        width: '50%',\n    },\n    totalLabel: {\n        fontSize: 9,\n        color: '#4b5563',\n        marginRight: 10,\n        textAlign: 'right',\n        flex: 1,\n    },\n    totalValue: {\n        fontSize: 9,\n        color: '#111827',\n        fontWeight: 'bold',\n        width: 80,\n        textAlign: 'right',\n    },\n    grandTotal: {\n        borderTopWidth: 1,\n        borderTopColor: '#000',\n        paddingTop: 8,\n        marginTop: 4,\n    },\n    grandTotalLabel: {\n        fontSize: 12,\n        fontWeight: 'bold',\n        color: '#111827',\n        width: 'auto',\n        textAlign: 'right',\n        flex: 1,\n        marginRight: 20,\n    },\n    grandTotalValue: {\n        fontSize: 12,\n        fontWeight: 'bold',\n        color: '#111827',\n        width: 80,\n        textAlign: 'right',\n    },\n    footer: {\n        marginTop: 'auto', // Push to bottom if content is short, or just margin\n        paddingTop: 10,\n        borderTopWidth: 1,\n        borderTopColor: '#e5e7eb',\n        textAlign: 'center',\n        fontSize: 7,\n        color: '#9ca3af',\n        width: '100%',\n        position: 'absolute',\n        bottom: 30,\n        left: 30,\n        right: 30,\n    },\n});\n\nexport interface OrderItem {\n    id?: string;\n    product_id?: string;\n    name: string;\n    quantity: number;\n    price: number;\n    size?: string;\n    image_url?: string;\n    metadata?: any;\n}\n\nexport interface Order {\n    id: string;\n    created_at: string;\n    total_amount: number;\n    status: string;\n    shipping_address: any;\n    user_id: string;\n    payment_status: string;\n    payment_method: string;\n    items?: OrderItem[];\n    coupon_discount?: number;\n    discount_amount?: number;\n    wallet_amount_used?: number;\n}\n\ninterface InvoicePDFProps {\n    order: Order;\n    logoPath?: string;\n}\n\n// Helpers\nconst formatCurrency = (amount: number) => `Rs. ${amount.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n\nconst formatDate = (dateString: string) => {\n    try {\n        const date = new Date(dateString);\n        return date.toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' });\n    } catch (e) {\n        return dateString;\n    }\n};\n\nexport const InvoicePDF: React.FC<InvoicePDFProps> = ({ order, logoPath = '/blacklogo.png' }) => {\n\n    // 1. Determine State Logic\n    const shippingState: string = (order.shipping_address?.state || '').toLowerCase().trim();\n    // Assuming 'karnataka' or 'ka' is the home state. \n    const isInterState = !(shippingState === 'karnataka' || shippingState === 'ka');\n\n    // 2. Calculate Taxes Per Item\n    let runningSubtotal = 0;\n    let runningTotalTax = 0;\n\n    const enrichedItems = (order.items || []).map(item => {\n        const meta = item.metadata || {};\n        const qty = item.quantity;\n\n        // Strategy: \"Rate\" is usually pre-tax basic price.\n        // But if item.price is the selling price (inclusive or exclusive dependent on your DB), we need to clarify.\n        // Assuming item.price is the taxable value (base price) logic from previous context:\n        // \"const itemTax = (item.price * itemQty * gst) / 100\"\n        // This implies item.price is EXCLUSIVE of tax.\n\n        const unitPrice = item.price;\n        const taxableValue = unitPrice * qty;\n\n        let taxPercent = 18; // Default\n        if (meta.is_custom) {\n            taxPercent = meta.gst_percent || 12;\n        } else {\n            taxPercent = meta.gst_percent || 18;\n        }\n\n        const taxAmount = (taxableValue * taxPercent) / 100;\n\n        runningSubtotal += taxableValue;\n        runningTotalTax += taxAmount;\n\n        const totalLineAmount = taxableValue + taxAmount;\n\n        return {\n            ...item,\n            taxPercent,\n            taxableValue,\n            taxAmount,\n            totalLineAmount\n        };\n    });\n\n    // Shipping Calculation (Balancing figure)\n    // Grand Total (Paid) = Subtotal + Tax + Shipping - Coupon - Wallet\n    // Therefore: Shipping = Grand Total - (Subtotal + Tax) + Coupon + Wallet\n\n    const calculatedGross = runningSubtotal + runningTotalTax;\n    const couponDiscount = order.coupon_discount || order.discount_amount || 0;\n    const walletUsed = order.wallet_amount_used || 0;\n\n    // We used order.total_amount as the final paid amount\n    // So Shipping = Paid - Gross + Coupon + Wallet\n    // E.g. Gross 118. Coupon 10. Paid 108. Shipping 0.\n    // 108 - 118 + 10 + 0 = 0. Correct.\n\n    const shippingCost = Math.max(0, order.total_amount - calculatedGross + couponDiscount + walletUsed);\n\n    // 3. Payment/Order Status Logic\n    let displayStatus = 'PENDING';\n    let statusColor = '#F59E0B'; // Amber/Warning by default\n\n    // Priority 1: Order Cancellation\n    if (order.status?.toLowerCase() === 'cancelled') {\n        displayStatus = 'CANCELLED';\n        statusColor = '#EF4444'; // Red\n    }\n    // Priority 2: Payment Status (Admin overrides)\n    else if (order.payment_status === 'refunded') {\n        displayStatus = 'REFUNDED';\n        statusColor = '#6366F1'; // Indigo\n    }\n    else if (order.payment_status === 'paid') {\n        displayStatus = 'PAID';\n        statusColor = '#10B981'; // Green\n    }\n    else if (order.payment_status === 'failed') {\n        displayStatus = 'PAYMENT FAILED';\n        statusColor = '#EF4444'; // Red\n    }\n    else {\n        // Fallback for pending/cod\n        if (order.payment_method === 'cod') {\n            displayStatus = 'PENDING (COD)';\n        } else {\n            displayStatus = 'PAYMENT PENDING';\n        }\n    }\n\n    return (\n        <Document>\n            <Page size=\"A4\" style={styles.page}>\n                {/* Watermark Logo */}\n                <Image src={logoPath} style={styles.watermark} />\n\n                {/* Header */}\n                <View style={styles.header}>\n                    <View>\n                        <Image src={logoPath} style={{ width: 100, height: 'auto', marginBottom: 10 }} />\n                        <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#111827' }}>BRONCSTUDIO</Text>\n                        <Text style={{ fontSize: 8, color: '#6b7280', marginTop: 4 }}>Bangalore, Karnataka, India</Text>\n                        <Text style={{ fontSize: 8, color: '#6b7280' }}>support@broncstudio.com</Text>\n                        <Text style={{ fontSize: 8, color: '#6b7280' }}>GSTIN: 29AAAAA0000A1Z5</Text>\n                    </View>\n                    <View style={styles.companyDetails}>\n                        <Text style={styles.title}>TAX INVOICE</Text>\n                        <Text style={styles.subTitle}>#{order.id.slice(0, 8).toUpperCase()}</Text>\n                        <Text style={{ fontSize: 9, marginTop: 4 }}>Date: {formatDate(order.created_at)}</Text>\n                        <Text style={{ fontSize: 9, marginTop: 2, color: statusColor, fontWeight: 'bold' }}>\n                            Status: {displayStatus}\n                        </Text>\n                    </View>\n                </View>\n\n                {/* Bill To / Ship To */}\n                <View style={styles.invoiceMeta}>\n                    <View style={styles.metaColumn}>\n                        <Text style={styles.label}>Bill To / Ship To</Text>\n                        <Text style={[styles.value, { fontWeight: 'bold' }]}>{order.shipping_address?.firstName} {order.shipping_address?.lastName}</Text>\n                        <Text style={styles.value}>{order.shipping_address?.address}</Text>\n                        <Text style={styles.value}>{order.shipping_address?.city}, {order.shipping_address?.state}</Text>\n                        <Text style={styles.value}>{order.shipping_address?.pincode}</Text>\n                        <Text style={styles.value}>Ph: {order.shipping_address?.phone}</Text>\n                    </View>\n                    <View style={[styles.metaColumn, { alignItems: 'flex-end' }]}>\n                        <Text style={styles.label}>Invoice Details</Text>\n                        <Text style={styles.value}>Order ID: {order.id}</Text>\n                        <Text style={styles.value}>Place of Supply: {order.shipping_address?.state || 'Karnataka'}</Text>\n                        <Text style={styles.value}>Payment Method: {order.payment_method === 'cod' ? 'Cash on Delivery' : 'Online'}</Text>\n                        {/* If interstate showing IGST, else CGST/SGST implied */}\n                        <Text style={[styles.value, { fontSize: 8, color: '#6b7280' }]}>{isInterState ? '(Inter-State Supply)' : '(Intra-State Supply)'}</Text>\n                    </View>\n                </View>\n\n                {/* Items Table */}\n                <View style={styles.table}>\n                    <View style={styles.tableHeader}>\n                        <Text style={[styles.colHeader, { width: '25%' }]}>Description</Text>\n                        <Text style={[styles.colHeader, { width: '8%', textAlign: 'center' }]}>Qty</Text>\n                        <Text style={[styles.colHeader, { width: '12%', textAlign: 'right' }]}>Rate</Text>\n                        <Text style={[styles.colHeader, { width: '12%', textAlign: 'right' }]}>Taxable Val</Text>\n\n                        {!isInterState ? (\n                            <>\n                                <Text style={[styles.colHeader, { width: '11%', textAlign: 'right' }]}>CGST</Text>\n                                <Text style={[styles.colHeader, { width: '11%', textAlign: 'right' }]}>SGST</Text>\n                            </>\n                        ) : (\n                            <Text style={[styles.colHeader, { width: '22%', textAlign: 'right' }]}>IGST</Text>\n                        )}\n\n                        <Text style={[styles.colHeader, { width: '18%', textAlign: 'right' }]}>Total</Text>\n                    </View>\n\n                    {enrichedItems.map((item, index) => {\n                        // Rate calc\n                        const halfRate = item.taxPercent / 2;\n                        const halfAmt = item.taxAmount / 2;\n\n                        return (\n                            <View key={index} style={styles.tableRow}>\n                                <View style={{ width: '25%', paddingHorizontal: 4 }}>\n                                    <Text style={styles.productName}>{item.name}</Text>\n                                    <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\n                                        {item.size && <Text style={styles.productMeta}>Size: {item.size} </Text>}\n                                        {item.metadata?.color && <Text style={styles.productMeta}>Color: {item.metadata.color} </Text>}\n                                    </View>\n                                </View>\n\n                                <Text style={[styles.colText, { width: '8%', textAlign: 'center' }]}>{item.quantity}</Text>\n                                <Text style={[styles.colText, { width: '12%', textAlign: 'right' }]}>{formatCurrency(item.price)}</Text>\n                                <Text style={[styles.colText, { width: '12%', textAlign: 'right' }]}>{formatCurrency(item.taxableValue)}</Text>\n\n                                {!isInterState ? (\n                                    <>\n                                        <View style={{ width: '11%', paddingHorizontal: 4, alignItems: 'flex-end' }}>\n                                            <Text style={styles.colText}>{formatCurrency(halfAmt)}</Text>\n                                            <Text style={{ fontSize: 6, color: '#6b7280' }}>@{halfRate}%</Text>\n                                        </View>\n                                        <View style={{ width: '11%', paddingHorizontal: 4, alignItems: 'flex-end' }}>\n                                            <Text style={styles.colText}>{formatCurrency(halfAmt)}</Text>\n                                            <Text style={{ fontSize: 6, color: '#6b7280' }}>@{halfRate}%</Text>\n                                        </View>\n                                    </>\n                                ) : (\n                                    <View style={{ width: '22%', paddingHorizontal: 4, alignItems: 'flex-end' }}>\n                                        <Text style={styles.colText}>{formatCurrency(item.taxAmount)}</Text>\n                                        <Text style={{ fontSize: 6, color: '#6b7280' }}>@{item.taxPercent}%</Text>\n                                    </View>\n                                )}\n\n                                <Text style={[styles.colText, { width: '18%', textAlign: 'right', fontWeight: 'bold' }]}>\n                                    {formatCurrency(item.totalLineAmount)}\n                                </Text>\n                            </View>\n                        );\n                    })}\n                </View>\n\n                {/* Totals Section */}\n                <View style={styles.totals}>\n                    <View style={styles.totalRow}>\n                        <Text style={styles.totalLabel}>Total Taxable Amount</Text>\n                        <Text style={styles.totalValue}>{formatCurrency(runningSubtotal)}</Text>\n                    </View>\n\n                    {!isInterState ? (\n                        <>\n                            <View style={styles.totalRow}>\n                                <Text style={styles.totalLabel}>Total CGST</Text>\n                                <Text style={styles.totalValue}>{formatCurrency(runningTotalTax / 2)}</Text>\n                            </View>\n                            <View style={styles.totalRow}>\n                                <Text style={styles.totalLabel}>Total SGST</Text>\n                                <Text style={styles.totalValue}>{formatCurrency(runningTotalTax / 2)}</Text>\n                            </View>\n                        </>\n                    ) : (\n                        <View style={styles.totalRow}>\n                            <Text style={styles.totalLabel}>Total IGST</Text>\n                            <Text style={styles.totalValue}>{formatCurrency(runningTotalTax)}</Text>\n                        </View>\n                    )}\n\n                    {shippingCost > 0 && (\n                        <View style={styles.totalRow}>\n                            <Text style={styles.totalLabel}>Shipping</Text>\n                            <Text style={styles.totalValue}>{formatCurrency(shippingCost)}</Text>\n                        </View>\n                    )}\n\n                    {couponDiscount > 0 && (\n                        <View style={styles.totalRow}>\n                            <Text style={styles.totalLabel}>Coupon Discount</Text>\n                            <Text style={styles.totalValue}>-{formatCurrency(couponDiscount)}</Text>\n                        </View>\n                    )}\n\n                    {walletUsed > 0 && (\n                        <View style={styles.totalRow}>\n                            <Text style={styles.totalLabel}>Wallet Adjustment</Text>\n                            <Text style={styles.totalValue}>-{formatCurrency(walletUsed)}</Text>\n                        </View>\n                    )}\n\n                    <View style={[styles.totalRow, styles.grandTotal]}>\n                        <Text style={styles.grandTotalLabel}>Grand Total</Text>\n                        <Text style={styles.grandTotalValue}>{formatCurrency(order.total_amount)}</Text>\n                    </View>\n                </View>\n\n                {/* Note Area */}\n                <View style={{ marginTop: 20 }}>\n                    <Text style={{ fontSize: 8, fontStyle: 'italic', color: '#6b7280' }}>\n                        Note: No returns or exchanges are accepted as per our policy.\n                        This invoice shows a detailed breakdown of taxes applicable based on your shipping address.\n                        For any discrepancies, please contact support.\n                    </Text>\n                </View>\n\n                {/* Footer */}\n                <View style={styles.footer}>\n                    <Text>Subject to Bangalore Jurisdiction. This is a computer generated invoice.</Text>\n\n                    <View style={{ alignItems: 'center', marginTop: 10, marginBottom: 10 }}>\n                        <Text style={{ fontSize: 8, fontWeight: 'bold' }}>For BRONCSTUDIO</Text>\n                        <Image src={logoPath} style={{ width: 60, height: 'auto', opacity: 0.6, marginVertical: 4 }} />\n                        <Text style={{ fontSize: 7, color: '#6b7280' }}>(Authorized Signatory)</Text>\n                    </View>\n\n                    <Text style={{ fontWeight: 'bold' }}>www.broncstudio.com</Text>\n                    <Text style={{ marginTop: 2, fontSize: 6 }}>Regd: Bangalore, Karnataka. Contact: support@broncstudio.com</Text>\n                </View>\n            </Page>\n        </Document>\n    );\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/AnnouncementBar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":12,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supabase'. Either include it or remove the dependency array.","line":35,"column":8,"nodeType":"ArrayExpression","endLine":35,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supabase]","fix":{"range":[1269,1271],"text":"[supabase]"}}]},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/AnnouncementBar.tsx:51:22\n  49 |             {link ? (\n  50 |                 <Link href={link} className=\"hover:opacity-80 transition-opacity block w-full\">\n> 51 |                     <Content />\n     |                      ^^^^^^^ This component is created during render\n  52 |                 </Link>\n  53 |             ) : (\n  54 |                 <Content />\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/AnnouncementBar.tsx:41:21\n  39 |     if (!isActive) return null;\n  40 |\n> 41 |     const Content = () => (\n     |                     ^^^^^^^\n> 42 |         <div className=\"flex container-premium items-center justify-center\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |             <span dangerouslySetInnerHTML={{ __html: text.replace(/â€¢/g, '<span class=\"mx-2 opacity-50\">â€¢</span>') }}></span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |     );\n     | ^^^^^^ The component is created during render here\n  46 |\n  47 |     return (\n  48 |         <div className={`${pathname === '/' ? 'bg-[#891d12] text-white' : 'bg-red-600 text-white'} text-[10px] md:text-xs font-medium tracking-wide py-2 text-center relative z-[101]`}>","line":51,"column":22,"nodeType":null,"endLine":51,"endColumn":29},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/AnnouncementBar.tsx:54:18\n  52 |                 </Link>\n  53 |             ) : (\n> 54 |                 <Content />\n     |                  ^^^^^^^ This component is created during render\n  55 |             )}\n  56 |         </div>\n  57 |     );\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/AnnouncementBar.tsx:41:21\n  39 |     if (!isActive) return null;\n  40 |\n> 41 |     const Content = () => (\n     |                     ^^^^^^^\n> 42 |         <div className=\"flex container-premium items-center justify-center\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |             <span dangerouslySetInnerHTML={{ __html: text.replace(/â€¢/g, '<span class=\"mx-2 opacity-50\">â€¢</span>') }}></span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |     );\n     | ^^^^^^ The component is created during render here\n  46 |\n  47 |     return (\n  48 |         <div className={`${pathname === '/' ? 'bg-[#891d12] text-white' : 'bg-red-600 text-white'} text-[10px] md:text-xs font-medium tracking-wide py-2 text-center relative z-[101]`}>","line":54,"column":18,"nodeType":null,"endLine":54,"endColumn":25}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { createBrowserClient } from '@supabase/ssr';\n\nexport default function AnnouncementBar() {\n    const [text, setText] = useState('Free Shipping on all orders above â‚¹999 â€¢ New Collection Dropped');\n    const [link, setLink] = useState('');\n    const [isActive, setIsActive] = useState(true);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    useEffect(() => {\n        const fetchSettings = async () => {\n            const { data } = await supabase\n                .from('store_settings')\n                .select('announcement_text, announcement_link, announcement_active')\n                .single();\n\n            if (data) {\n                if (data.announcement_text) setText(data.announcement_text);\n                if (data.announcement_link) setLink(data.announcement_link);\n                if (data.announcement_active !== undefined) setIsActive(data.announcement_active);\n            }\n            setLoading(false);\n        };\n\n        fetchSettings();\n    }, []);\n\n    const pathname = usePathname();\n\n    if (!isActive) return null;\n\n    const Content = () => (\n        <div className=\"flex container-premium items-center justify-center\">\n            <span dangerouslySetInnerHTML={{ __html: text.replace(/â€¢/g, '<span class=\"mx-2 opacity-50\">â€¢</span>') }}></span>\n        </div>\n    );\n\n    return (\n        <div className={`${pathname === '/' ? 'bg-[#891d12] text-white' : 'bg-red-600 text-white'} text-[10px] md:text-xs font-medium tracking-wide py-2 text-center relative z-[101]`}>\n            {link ? (\n                <Link href={link} className=\"hover:opacity-80 transition-opacity block w-full\">\n                    <Content />\n                </Link>\n            ) : (\n                <Content />\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/ConditionalMain.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/InfoPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/NavVisibilityWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Layout/SplashScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":5,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[114,131],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Image from 'next/image';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport default function SplashScreen() {\n    // Start visible, then fade out\n    const [isVisible, setIsVisible] = useState(true);\n    const [shouldRender, setShouldRender] = useState(true);\n\n    useEffect(() => {\n        // 1. Initial wait\n        const timerFunctions = setTimeout(() => {\n            setIsVisible(false);\n        }, 2200);\n\n        // 2. Remove from DOM after transition (0.8s)\n        const cleanupTimer = setTimeout(() => {\n            setShouldRender(false);\n        }, 3000); // 2200 + 800\n\n        return () => {\n            clearTimeout(timerFunctions);\n            clearTimeout(cleanupTimer);\n        };\n    }, []);\n\n    if (!shouldRender) return null;\n\n    return (\n        <div\n            className={`fixed inset-0 z-[9999] flex items-center justify-center bg-[#FAF9F7]/80 backdrop-blur-xl transition-opacity duration-700 ease-in-out ${isVisible ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none'}`}\n            aria-hidden={!isVisible}\n        >\n            <div className=\"flex flex-col md:flex-row items-center gap-4 md:gap-6\">\n                {/* Logo Animation */}\n                <motion.div\n                    initial={{ scale: 0.5, opacity: 0, rotate: -10 }}\n                    animate={{\n                        scale: 1,\n                        opacity: 1,\n                        rotate: 0,\n                        transition: { duration: 1.2, ease: [0.22, 1, 0.36, 1] }\n                    }}\n                    className=\"relative h-24 w-24 md:h-32 md:w-32 flex-shrink-0 -mr-6 md:-mr-8\"\n                >\n                    <Image\n                        src=\"/blacklogo.png\"\n                        alt=\"Broncstudio\"\n                        fill\n                        sizes=\"(max-width: 768px) 96px, 128px\"\n                        className=\"object-contain\"\n                        priority\n                    />\n                </motion.div>\n\n                {/* Text Reveal Animation */}\n                <div className=\"overflow-hidden\">\n                    <motion.div\n                        initial={{ opacity: 0, x: 20 }}\n                        animate={{\n                            opacity: 1,\n                            x: 0,\n                            transition: { delay: 0.3, duration: 0.8 }\n                        }}\n                        className=\"relative h-20 md:h-24 w-auto aspect-[4/1]\"\n                    >\n                        <Image\n                            src=\"/broncname.png\"\n                            alt=\"Broncstudio\"\n                            fill\n                            sizes=\"(max-width: 768px) 256px, 384px\"\n                            className=\"object-contain dark:hidden\"\n                            priority\n                        />\n                        <Image\n                            src=\"/broncnamey.png\"\n                            alt=\"Broncstudio\"\n                            fill\n                            sizes=\"(max-width: 768px) 256px, 384px\"\n                            className=\"object-contain hidden dark:block\"\n                            priority\n                        />\n                        <Image\n                            src=\"/broncstudioredname.png\"\n                            alt=\"Broncstudio\"\n                            fill\n                            sizes=\"(max-width: 768px) 256px, 384px\"\n                            className=\"hidden\"\n                            priority\n                        />\n                        <Image\n                            src=\"/broncstudioyellowname.png\"\n                            alt=\"Broncstudio\"\n                            fill\n                            sizes=\"(max-width: 768px) 256px, 384px\"\n                            className=\"hidden\"\n                            priority\n                        />\n                    </motion.div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Product/Page/MiniTrustStrip.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RotateCcw' is defined but never used.","line":4,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":32,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"RotateCcw"},"fix":{"range":[62,73],"text":""},"desc":"Remove unused variable \"RotateCcw\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CreditCard' is defined but never used.","line":4,"column":66,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":76,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CreditCard"},"fix":{"range":[105,117],"text":""},"desc":"Remove unused variable \"CreditCard\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { ShieldCheck, RotateCcw, Headphones, CheckCircle, Truck, CreditCard } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\nexport default function MiniTrustStrip() {\n    const features = [\n        {\n            icon: ShieldCheck,\n            text: \"Secure Payments\",\n            subtext: \"100% Encrypted\"\n        },\n        {\n            icon: Headphones,\n            text: \"24/7 Support\",\n            subtext: \"Always Online\"\n        },\n        {\n            icon: CheckCircle,\n            text: \"Quality Assured\",\n            subtext: \"Boutique Grade\"\n        },\n        {\n            icon: Truck,\n            text: \"Fast Delivery\",\n            subtext: \"Priority Shipping\"\n        }\n    ];\n\n    return (\n        <div className=\"w-full bg-surface-1 dark:bg-black border-y border-subtle py-8 md:py-12 mt-12 md:mt-24\">\n            <div className=\"max-w-[1200px] mx-auto px-6\">\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-y-10 gap-x-4\">\n                    {features.map((f, i) => (\n                        <motion.div\n                            key={i}\n                            initial={{ opacity: 0, y: 10 }}\n                            whileInView={{ opacity: 1, y: 0 }}\n                            transition={{ delay: i * 0.1 }}\n                            className=\"flex flex-col items-center text-center space-y-4 group\"\n                        >\n                            <div className=\"w-12 h-12 md:w-16 md:h-16 rounded-2xl bg-surface-2 dark:bg-white/5 border border-divider flex items-center justify-center transition-all duration-300 group-hover:scale-110 group-hover:border-accent-orange/30 group-hover:shadow-[0_0_20px_rgba(249,115,22,0.1)]\">\n                                <f.icon size={24} className=\"text-primary md:w-8 md:h-8\" strokeWidth={1.5} />\n                            </div>\n                            <div className=\"space-y-1\">\n                                <h3 className=\"text-[13px] md:text-sm font-bold text-primary tracking-tight\">\n                                    {f.text}\n                                </h3>\n                                <p className=\"text-[11px] md:text-xs text-secondary opacity-70\">\n                                    {f.subtext}\n                                </p>\n                            </div>\n                        </motion.div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Product/Page/ProductGallery.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":44,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[47,58],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":48,"column":29,"nodeType":"JSXOpeningElement","endLine":52,"endColumn":31},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":124,"column":25,"nodeType":"JSXOpeningElement","endLine":124,"endColumn":106}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ChevronLeft, ChevronRight, Maximize2 } from 'lucide-react';\n\ninterface ProductGalleryProps {\n    images: string[];\n}\n\nexport default function ProductGallery({ images }: ProductGalleryProps) {\n    const [activeIndex, setActiveIndex] = useState(0);\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n    // Sync active index with scroll position on mobile\n    const handleScroll = () => {\n        if (!scrollContainerRef.current) return;\n        const scrollLeft = scrollContainerRef.current.scrollLeft;\n        const width = scrollContainerRef.current.offsetWidth;\n        const newIndex = Math.round(scrollLeft / width);\n        if (newIndex !== activeIndex) {\n            setActiveIndex(newIndex);\n        }\n    };\n\n    const scrollTo = (index: number) => {\n        if (!scrollContainerRef.current) return;\n        const width = scrollContainerRef.current.offsetWidth;\n        scrollContainerRef.current.scrollTo({\n            left: index * width,\n            behavior: 'smooth'\n        });\n        setActiveIndex(index);\n    };\n\n    return (\n        <div className=\"w-full\">\n            {/* Main Stage */}\n            <div className=\"relative group\">\n                {/* Mobile: Horizontal Scroll Container */}\n                <div\n                    ref={scrollContainerRef}\n                    onScroll={handleScroll}\n                    className=\"flex md:hidden overflow-x-auto snap-x snap-mandatory no-scrollbar w-full aspect-[4/5] bg-surface-2 md:rounded-3xl\"\n                >\n                    {images.map((img, idx) => (\n                        <div key={idx} className=\"w-full h-full flex-shrink-0 snap-center p-0\">\n                            <img\n                                src={img}\n                                alt={`View ${idx}`}\n                                className=\"w-full h-full object-cover\"\n                            />\n                        </div>\n                    ))}\n                </div>\n\n                {/* Desktop: Single Image Stage */}\n                <div className=\"hidden md:block w-full aspect-[4/5] bg-surface-2 rounded-3xl overflow-hidden relative\">\n                    <AnimatePresence mode=\"wait\">\n                        <motion.img\n                            key={activeIndex}\n                            initial={{ opacity: 0, scale: 1.05 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            exit={{ opacity: 0 }}\n                            transition={{ duration: 0.4, ease: \"easeOut\" }}\n                            src={images[activeIndex]}\n                            alt=\"Main product view\"\n                            className=\"w-full h-full object-cover\"\n                        />\n                    </AnimatePresence>\n\n                    {/* Zoom Hint */}\n                    <div className=\"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                        <div className=\"bg-black/60 dark:bg-white/10 backdrop-blur-xl p-3 rounded-2xl border border-white/20\">\n                            <Maximize2 size={20} className=\"text-white\" />\n                        </div>\n                    </div>\n                </div>\n\n                {/* Mobile Page Indicator Overlay */}\n                <div className=\"md:hidden absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-1.5 px-3 py-1.5 bg-black/40 backdrop-blur-md rounded-full border border-white/10\">\n                    {images.map((_, i) => (\n                        <div\n                            key={i}\n                            className={`transition-all duration-300 rounded-full ${i === activeIndex ? 'w-4 h-1.5 bg-white' : 'w-1.5 h-1.5 bg-white/40'\n                                }`}\n                        />\n                    ))}\n                </div>\n\n                {/* Desktop Navigation Arrows */}\n                <div className=\"hidden md:block\">\n                    {activeIndex > 0 && (\n                        <button\n                            onClick={() => setActiveIndex(prev => prev - 1)}\n                            className=\"absolute left-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/80 dark:bg-black/80 backdrop-blur-md flex items-center justify-center text-primary shadow-lg opacity-0 group-hover:opacity-100 transition-all hover:scale-110\"\n                        >\n                            <ChevronLeft size={24} />\n                        </button>\n                    )}\n                    {activeIndex < images.length - 1 && (\n                        <button\n                            onClick={() => setActiveIndex(prev => prev + 1)}\n                            className=\"absolute right-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/80 dark:bg-black/80 backdrop-blur-md flex items-center justify-center text-primary shadow-lg opacity-0 group-hover:opacity-100 transition-all hover:scale-110\"\n                        >\n                            <ChevronRight size={24} />\n                        </button>\n                    )}\n                </div>\n            </div>\n\n            {/* Desktop Thumbnails Grid */}\n            <div className=\"hidden md:grid grid-cols-5 gap-3 mt-4\">\n                {images.map((img, idx) => (\n                    <button\n                        key={idx}\n                        onClick={() => scrollTo(idx)}\n                        onMouseEnter={() => setActiveIndex(idx)}\n                        className={`relative aspect-square rounded-xl overflow-hidden border-2 transition-all duration-300 ${activeIndex === idx\n                            ? 'border-accent-orange'\n                            : 'border-transparent opacity-60 hover:opacity-100'\n                            }`}\n                    >\n                        <img src={img} alt={`Thumbnail ${idx}`} className=\"w-full h-full object-cover\" />\n                        {activeIndex === idx && (\n                            <motion.div\n                                layoutId=\"activeThumb\"\n                                className=\"absolute inset-0 bg-accent-orange/10\"\n                            />\n                        )}\n                    </button>\n                ))}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Product/Page/ProductInfo.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RotateCcw' is defined but never used.","line":4,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":26,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"RotateCcw"},"fix":{"range":[70,81],"text":""},"desc":"Remove unused variable \"RotateCcw\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[389,392],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[389,392],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4977,4980],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4977,4980],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { Truck, RotateCcw, ShieldCheck, ChevronDown, Ruler, ShoppingBag, Zap } from 'lucide-react';\nimport { useUI } from '@/context/UIContext';\nimport { useCart } from '@/context/CartContext';\nimport { useToast } from '@/context/ToastContext';\nimport { useRouter } from 'next/navigation';\n\ninterface ProductInfoProps {\n    product: any;\n}\n\nexport default function ProductInfo({ product }: ProductInfoProps) {\n    const router = useRouter();\n    const { formatPrice } = useUI();\n    const { addToCart } = useCart();\n    const { addToast } = useToast();\n\n    const meta = product.metadata || {};\n    const colors = meta.colors || []; // Array of {name, code}\n    const sizes = meta.sizes || []; // Array of strings\n    const highlights = meta.highlights || []; // Array of strings\n\n    const [selectedSize, setSelectedSize] = useState(sizes[0] || '');\n    const [selectedColor, setSelectedColor] = useState(colors[0]?.name || '');\n\n    const stockStatus = meta.stock_status || 'in_stock'; // in_stock, out_of_stock, low_stock\n    const isOutOfStock = stockStatus === 'out_of_stock';\n    const isLowStock = stockStatus === 'low_stock';\n\n    const handleAddToCart = () => {\n        if (isOutOfStock) return;\n        if (sizes.length > 0 && !selectedSize) {\n            addToast('Please select a size', 'error');\n            return;\n        }\n        addToCart({ ...product, color: selectedColor }, selectedSize);\n        addToast(`${product.name} added to your bag!`, 'success');\n    };\n\n    const handleBuyNow = () => {\n        if (isOutOfStock) return;\n        if (sizes.length > 0 && !selectedSize) {\n            addToast('Please select a size', 'error');\n            return;\n        }\n        addToCart({ ...product, color: selectedColor }, selectedSize);\n        router.push('/cart');\n    };\n\n    return (\n        <div className=\"flex flex-col gap-4 md:gap-8 px-6 md:px-0\">\n            {/* Header Block */}\n            <div className=\"space-y-1 md:space-y-3\">\n                <div className=\"flex items-center gap-2 text-[10px] md:text-xs font-bold uppercase tracking-widest text-secondary opacity-60\">\n                    <span>Home</span> <span className=\"w-1 h-1 rounded-full bg-border\" /> <span>{product.category?.name || 'Shop'}</span>\n                </div>\n                <h1 className=\"text-xl md:text-4xl font-heading font-black text-primary leading-[1.1] tracking-tight\">\n                    {product.name}\n                </h1>\n\n                <div className=\"flex flex-wrap items-center gap-3 pt-1\">\n                    <div className=\"flex items-center gap-2\">\n                        {meta.is_featured && (\n                            <span className=\"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200 text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-widest\">Featured</span>\n                        )}\n                        {isLowStock && (\n                            <span className=\"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-200 text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-widest animate-pulse\">Low Stock</span>\n                        )}\n                    </div>\n                </div>\n\n                <div className=\"flex items-center gap-4 pt-4 md:pt-6\">\n                    <div className=\"flex flex-col\">\n                        <span className=\"text-3xl md:text-5xl font-black text-primary tracking-tighter\">{formatPrice(product.price)}</span>\n                    </div>\n                    {product.compare_at_price && (\n                        <div className=\"flex flex-col\">\n                            <span className=\"text-base md:text-xl text-secondary line-through opacity-50 font-bold\">{formatPrice(product.compare_at_price)}</span>\n                            <span className=\"text-green-500 text-[10px] md:text-xs font-black uppercase tracking-tighter\">\n                                Save {Math.round(((product.compare_at_price - product.price) / product.compare_at_price) * 100)}% Today\n                            </span>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            <div className=\"h-px bg-divider md:my-2\" />\n\n            {/* Variants */}\n            {!isOutOfStock && (\n                <div className=\"space-y-6 md:space-y-10\">\n\n                    {/* Colors */}\n                    {colors.length > 0 && (\n                        <div>\n                            <div className=\"flex justify-between items-center mb-4\">\n                                <span className=\"text-xs md:text-sm font-black uppercase tracking-widest text-primary\">Color</span>\n                                <span className=\"text-[11px] font-bold text-secondary uppercase\">{selectedColor}</span>\n                            </div>\n                            <div className=\"flex gap-4\">\n                                {colors.map((color: any, i: number) => (\n                                    <button\n                                        key={`${color.name}-${i}`}\n                                        onClick={() => setSelectedColor(color.name)}\n                                        className={`w-12 h-12 rounded-2xl border-2 p-1.5 transition-all duration-300 ${selectedColor === color.name ? 'border-primary scale-110 shadow-lg' : 'border-divider hover:border-subtle hover:scale-105'}`}\n                                        title={color.name}\n                                    >\n                                        <div className=\"w-full h-full rounded-xl shadow-inner\" style={{ backgroundColor: color.code }} />\n                                    </button>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Sizes */}\n                    {sizes.length > 0 && (\n                        <div>\n                            <div className=\"flex justify-between items-center mb-4\">\n                                <span className=\"text-xs md:text-sm font-black uppercase tracking-widest text-primary\">Size</span>\n                                <button className=\"text-[10px] md:text-xs text-accent-orange font-black uppercase tracking-widest flex items-center gap-1.5 hover:opacity-80 transition-opacity\">\n                                    <Ruler size={14} /> Size Guide\n                                </button>\n                            </div>\n                            <div className=\"grid grid-cols-4 md:flex md:flex-wrap gap-2 md:gap-3\">\n                                {sizes.map((size: string) => (\n                                    <button\n                                        key={size}\n                                        onClick={() => setSelectedSize(size)}\n                                        className={`flex items-center justify-center py-3.5 md:min-w-[4.5rem] md:px-5 rounded-2xl border-2 text-[13px] md:text-sm font-black transition-all duration-300 ${selectedSize === size\n                                            ? 'bg-primary border-primary text-white shadow-[0_10px_20px_rgba(0,0,0,0.15)] dark:shadow-[0_10px_20px_rgba(255,255,255,0.1)]'\n                                            : 'bg-transparent border-divider text-secondary hover:border-subtle hover:bg-surface-2'\n                                            }`}\n                                    >\n                                        {size}\n                                    </button>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {/* Actions (Desktop) - On Mobile we rely more on Sticky bar but these should still look perfect */}\n            <div className=\"flex gap-3 md:gap-5 pt-4 md:pt-8 mb-4\">\n                <button\n                    onClick={handleAddToCart}\n                    disabled={isOutOfStock}\n                    className={`flex-1 group relative overflow-hidden h-14 md:h-16 font-black uppercase tracking-widest text-xs md:text-sm rounded-2xl transition-all active:scale-95 ${isOutOfStock\n                        ? 'bg-surface-3 text-disabled cursor-not-allowed'\n                        : 'border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-white'\n                        }`}\n                >\n                    <span className=\"relative z-10 flex items-center justify-center gap-3\">\n                        <ShoppingBag size={20} /> {isOutOfStock ? 'Sold Out' : 'Add to Bag'}\n                    </span>\n                </button>\n                <button\n                    onClick={handleBuyNow}\n                    disabled={isOutOfStock}\n                    className={`flex-1 group relative overflow-hidden h-14 md:h-16 font-black uppercase tracking-widest text-xs md:text-sm rounded-2xl transition-all active:scale-95 shadow-[0_15px_30px_-5px_rgba(0,0,0,0.3)] dark:shadow-[0_15px_30px_-5px_rgba(255,255,255,0.1)] ${isOutOfStock\n                        ? 'bg-surface-3 text-disabled cursor-not-allowed shadow-none'\n                        : 'bg-primary text-secondary-foreground hover:bg-primary/90'\n                        }`}\n                >\n                    <span className=\"relative z-10 flex items-center justify-center gap-3\">\n                        <Zap size={20} className=\"fill-current\" /> Fast Checkout\n                    </span>\n                </button>\n            </div>\n\n            {/* Premium Trust Cards */}\n            <div className=\"grid grid-cols-2 gap-3 mt-2\">\n                <div className=\"flex flex-col gap-3 p-4 bg-surface-2/40 rounded-2xl border border-divider\">\n                    <Truck size={18} className=\"text-accent-orange\" />\n                    <div className=\"space-y-0.5\">\n                        <p className=\"text-[11px] font-black uppercase tracking-wider text-primary\">Free Express</p>\n                        <p className=\"text-[10px] text-secondary font-medium\">Delivery in 2-4 Days</p>\n                    </div>\n                </div>\n\n                <div className=\"flex flex-col gap-3 p-4 bg-surface-2/40 rounded-2xl border border-divider\">\n                    <ShieldCheck size={18} className=\"text-accent-orange\" />\n                    <div className=\"space-y-0.5\">\n                        <p className=\"text-[11px] font-black uppercase tracking-wider text-primary\">Safe Checkout</p>\n                        <p className=\"text-[10px] text-secondary font-medium\">COD & Secure Pay</p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Highlights */}\n            {highlights.length > 0 && (\n                <ul className=\"grid grid-cols-2 gap-2 mt-2\">\n                    {highlights.map((item: string) => (\n                        <li key={item} className=\"text-xs text-secondary flex items-center gap-2\">\n                            <span className=\"w-1.5 h-1.5 rounded-full bg-coral-500\" /> {item}\n                        </li>\n                    ))}\n                </ul>\n            )}\n\n            {/* Accordions */}\n            <div className=\"border-t border-subtle mt-4 pt-4 space-y-2\">\n                {/* Description */}\n                <details className=\"group\" open>\n                    <summary className=\"flex justify-between items-center font-bold text-primary cursor-pointer list-none py-2\">\n                        Description\n                        <ChevronDown size={16} className=\"transition-transform group-open:rotate-180 text-secondary\" />\n                    </summary>\n                    <p className=\"text-sm text-secondary mt-2 mb-4 leading-relaxed\">\n                        {product.description || 'No description available.'}\n                    </p>\n                </details>\n\n                {/* Material & Care */}\n                {meta.material_care && (\n                    <details className=\"group\">\n                        <summary className=\"flex justify-between items-center font-bold text-primary cursor-pointer list-none py-2\">\n                            Material & Care\n                            <ChevronDown size={16} className=\"transition-transform group-open:rotate-180 text-secondary\" />\n                        </summary>\n                        <p className=\"text-sm text-secondary mt-2 mb-4 leading-relaxed whitespace-pre-line\">\n                            {meta.material_care}\n                        </p>\n                    </details>\n                )}\n\n                {/* Shipping & Returns */}\n                {meta.shipping_returns && (\n                    <details className=\"group\">\n                        <summary className=\"flex justify-between items-center font-bold text-primary cursor-pointer list-none py-2\">\n                            Shipping & Returns\n                            <ChevronDown size={16} className=\"transition-transform group-open:rotate-180 text-secondary\" />\n                        </summary>\n                        <p className=\"text-sm text-secondary mt-2 mb-4 leading-relaxed whitespace-pre-line\">\n                            {meta.shipping_returns}\n                        </p>\n                    </details>\n                )}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Product/Page/StickyActionBar.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":70,"column":25,"nodeType":"JSXOpeningElement","endLine":70,"endColumn":108}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { ShoppingBag, Zap } from 'lucide-react';\nimport { formatPrice } from '@/utils/formatPrice';\n\ninterface StickyActionBarProps {\n    price: number;\n    originalPrice?: number;\n    productName: string;\n    productImage: string;\n    onAddToCart: () => void;\n    onBuyNow: () => void;\n}\n\nexport default function StickyActionBar({ price, originalPrice, productName, productImage, onAddToCart, onBuyNow }: StickyActionBarProps) {\n    const [isVisible, setIsVisible] = React.useState(false);\n\n    React.useEffect(() => {\n        const toggleVisibility = () => {\n            if (window.scrollY > 600) {\n                setIsVisible(true);\n            } else {\n                setIsVisible(false);\n            }\n        };\n\n        window.addEventListener('scroll', toggleVisibility);\n        return () => window.removeEventListener('scroll', toggleVisibility);\n    }, []);\n\n    // If not visible on desktop (scroll check), we hide the desktop part but KEEP mobile part\n    // Actually, let's make it universal but with different styles\n    if (!isVisible) return null;\n\n    return (\n        <>\n            {/* Mobile Bottom Bar */}\n            <div className=\"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-white dark:bg-black border-t border-subtle p-4 pb-safe shadow-[0_-4px_20px_rgba(0,0,0,0.05)] flex items-center gap-3 animate-in slide-in-from-bottom-5\">\n                <div className=\"flex flex-col\">\n                    <span className=\"text-xs text-secondary font-bold uppercase\">Total</span>\n                    <div className=\"flex items-center gap-1\">\n                        <span className=\"text-lg font-bold text-primary\">{formatPrice(price)}</span>\n                        {originalPrice && <span className=\"text-xs text-secondary line-through\">{formatPrice(originalPrice)}</span>}\n                    </div>\n                </div>\n\n                <div className=\"flex-1 flex gap-2\">\n                    <button\n                        onClick={onAddToCart}\n                        className=\"flex-1 bg-surface-2 text-primary font-bold rounded-xl py-3 flex items-center justify-center gap-2 text-sm hover:bg-surface-3 transition-colors\"\n                    >\n                        <ShoppingBag size={18} /> Add\n                    </button>\n                    <button\n                        onClick={onBuyNow}\n                        className=\"flex-1 bg-black dark:bg-white text-white dark:text-black font-bold rounded-xl py-3 flex items-center justify-center gap-2 text-sm hover:bg-coral-500 dark:hover:bg-coral-400 shadow-lg shadow-coral-500/20 transition-all\"\n                    >\n                        <Zap size={18} /> Buy Now\n                    </button>\n                </div>\n            </div>\n\n            {/* Desktop Top Sticky Bar (Wokiee Style) */}\n            <div className={`hidden md:flex fixed top-0 left-0 right-0 z-[50] bg-white/95 dark:bg-black/95 backdrop-blur-md border-b border-subtle py-3 px-8 justify-between items-center shadow-sm transition-transform duration-300 ${isVisible ? 'translate-y-[0%]' : '-translate-y-full'}`}>\n\n                {/* Product Tiny Preview */}\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"w-12 h-12 rounded-lg bg-surface-2 overflow-hidden border border-subtle\">\n                        <img src={productImage} alt={productName} className=\"w-full h-full object-cover\" />\n                    </div>\n                    <div>\n                        <h3 className=\"font-bold text-primary text-sm\">{productName}</h3>\n                        <div className=\"flex items-center gap-2\">\n                            <span className=\"text-sm font-bold text-primary\">{formatPrice(price)}</span>\n                            {originalPrice && <span className=\"text-xs text-secondary line-through\">{formatPrice(originalPrice)}</span>}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex gap-3\">\n                    <button\n                        onClick={onAddToCart}\n                        className=\"bg-surface-2 text-primary font-bold rounded-lg px-6 py-2.5 flex items-center gap-2 text-sm hover:bg-surface-3 transition-colors\"\n                    >\n                        <ShoppingBag size={16} /> Add to Cart\n                    </button>\n                    <button\n                        onClick={onBuyNow}\n                        className=\"bg-black dark:bg-white text-white dark:text-black font-bold rounded-lg px-8 py-2.5 flex items-center gap-2 text-sm hover:bg-coral-500 dark:hover:bg-coral-400 shadow-md shadow-black/10 dark:shadow-white/10 hover:shadow-coral-500/20 transition-all\"\n                    >\n                        <Zap size={16} /> Buy Now\n                    </button>\n                </div>\n            </div>\n        </>\n    );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Product/ProductCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Product/QuickViewModal.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Product/QuickViewModal.tsx:23:13\n  21 |     useEffect(() => {\n  22 |         if (product) {\n> 23 |             setSelectedSize('');\n     |             ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |             setSelectedColor('');\n  25 |             setError('');\n  26 |             // Auto-select first color if available","line":23,"column":13,"nodeType":null,"endLine":23,"endColumn":28},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":68,"column":25,"nodeType":"JSXOpeningElement","endLine":72,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useUI } from '@/context/UIContext';\nimport { useCart } from '@/context/CartContext';\nimport { X, ShoppingBag, Check, AlertCircle } from 'lucide-react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport clsx from 'clsx';\n\nexport default function QuickViewModal() {\n    const { quickViewProduct, closeQuickView, formatPrice, userName } = useUI();\n    const { addToCart } = useCart();\n    const [selectedSize, setSelectedSize] = useState<string>('');\n    const [selectedColor, setSelectedColor] = useState<string>('');\n    const [error, setError] = useState<string>('');\n\n    const product = quickViewProduct;\n\n    // Reset state when product changes\n    useEffect(() => {\n        if (product) {\n            setSelectedSize('');\n            setSelectedColor('');\n            setError('');\n            // Auto-select first color if available\n            if (product.colors && product.colors.length > 0) {\n                setSelectedColor(product.colors[0]);\n            }\n        }\n    }, [product]);\n\n    const handleAddToBag = () => {\n        if (!selectedSize) {\n            const msg = userName ? `${userName}, please select a size.` : 'Please select a size.';\n            setError(msg);\n            return;\n        }\n        addToCart(product, selectedSize); // In real app, pass selectedColor too\n        closeQuickView();\n    };\n\n    if (!product) return null;\n\n    // Derived State\n    const inStock = product.stock_status !== 'out_of_stock'; // detailed stock logic if available\n    const hasColors = product.colors && product.colors.length > 0;\n\n    return (\n        <AnimatePresence>\n            <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                className=\"fixed inset-0 z-[1100] bg-black/60 backdrop-blur-sm flex items-end md:items-center justify-center p-0 md:p-4 pb-safe\"\n                onClick={closeQuickView}\n            >\n                <motion.div\n                    initial={{ y: \"100%\", opacity: 0 }}\n                    animate={{ y: 0, opacity: 1 }}\n                    exit={{ y: \"100%\", opacity: 0 }}\n                    transition={{ type: \"spring\", damping: 25, stiffness: 300 }}\n                    onClick={(e) => e.stopPropagation()}\n                    className=\"bg-white dark:bg-navy-900 w-full max-w-5xl md:rounded-xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh] md:max-h-[80vh] md:min-h-[500px]\"\n                >\n                    {/* LEFT: Image Section (Full Height on Desktop) */}\n                    <div className=\"w-full md:w-1/2 bg-gray-100 dark:bg-black/20 relative md:h-auto h-[35vh] shrink-0\">\n                        <img\n                            src={product.image}\n                            alt={product.name}\n                            className=\"w-full h-full object-cover\"\n                        />\n                        {product.badge && (\n                            <span className=\"absolute top-4 left-4 bg-navy-900 text-white text-xs font-bold px-3 py-1 uppercase tracking-wider\">\n                                {product.badge}\n                            </span>\n                        )}\n                        {/* Mobile Close Button */}\n                        <button\n                            onClick={closeQuickView}\n                            className=\"absolute top-4 right-4 md:hidden w-8 h-8 rounded-full bg-white/80 backdrop-blur flex items-center justify-center text-navy-900 shadow-sm\"\n                        >\n                            <X size={20} />\n                        </button>\n                    </div>\n\n                    {/* RIGHT: Details Section */}\n                    <div className=\"w-full md:w-1/2 flex flex-col h-full overflow-y-auto custom-scrollbar\">\n                        <div className=\"p-6 md:p-10 flex flex-col h-full\">\n\n                            {/* Header */}\n                            <div className=\"flex justify-between items-start mb-4\">\n                                <div>\n                                    <h3 className=\"text-sm font-bold text-gray-400 uppercase tracking-widest mb-2\">\n                                        {product.brand || 'BroncStudio'}\n                                    </h3>\n                                    <h2 className=\"text-2xl md:text-3xl font-heading font-bold text-navy-900 dark:text-white leading-tight\">\n                                        {product.name}\n                                    </h2>\n                                </div>\n                                <button\n                                    onClick={closeQuickView}\n                                    className=\"hidden md:flex text-gray-400 hover:text-navy-900 dark:hover:text-white transition-colors\"\n                                >\n                                    <X size={28} />\n                                </button>\n                            </div>\n\n                            {/* Price */}\n                            <div className=\"flex items-center gap-4 mb-6 border-b border-gray-100 dark:border-white/10 pb-6\">\n                                <div className=\"flex items-baseline gap-2\">\n                                    <span className=\"text-2xl font-bold text-coral-500\">{formatPrice(product.price)}</span>\n                                    {product.originalPrice && (\n                                        <span className=\"text-base text-gray-400 line-through\">\n                                            {formatPrice(product.originalPrice)}\n                                        </span>\n                                    )}\n                                </div>\n                            </div>\n\n                            {/* Stock Status */}\n                            <div className=\"flex items-center gap-2 mb-6\">\n                                {inStock ? (\n                                    <span className=\"inline-flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-2.5 py-1 rounded\">\n                                        <Check size={14} /> In Stock\n                                    </span>\n                                ) : (\n                                    <span className=\"inline-flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-2.5 py-1 rounded\">\n                                        <AlertCircle size={14} /> Sold Out\n                                    </span>\n                                )}\n                                <span className=\"text-xs text-gray-400\">SKU: {product.id.slice(0, 8).toUpperCase()}</span>\n                            </div>\n\n                            {/* Color Swatches */}\n                            {hasColors && (\n                                <div className=\"mb-6\">\n                                    <span className=\"text-xs font-bold uppercase tracking-wider text-navy-900 dark:text-white block mb-3\">\n                                        Color: <span className=\"text-gray-500 font-normal capitalize\">{selectedColor}</span>\n                                    </span>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {product.colors?.map((color: string) => (\n                                            <button\n                                                key={color}\n                                                onClick={() => setSelectedColor(color)}\n                                                className={clsx(\n                                                    \"w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center\",\n                                                    selectedColor === color\n                                                        ? \"border-navy-900 dark:border-white scale-110\"\n                                                        : \"border-gray-200 dark:border-white/10 hover:border-gray-300\"\n                                                )}\n                                                style={{ backgroundColor: color.toLowerCase().replace(' ', '') }}\n                                                title={color}\n                                            >\n                                                {selectedColor === color && (\n                                                    <Check size={12} className={clsx(color.toLowerCase() === 'white' ? \"text-black\" : \"text-white\")} />\n                                                )}\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n                            )}\n\n                            {/* Size Selector */}\n                            <div className=\"mb-8\">\n                                <div className=\"flex justify-between items-center mb-3\">\n                                    <span className=\"text-xs font-bold uppercase tracking-wider text-navy-900 dark:text-white\">\n                                        Size: <span className=\"text-red-500 font-normal normal-case\">{error}</span>\n                                    </span>\n                                    <button className=\"text-xs text-coral-500 font-bold hover:underline\">Size Guide</button>\n                                </div>\n                                <div className=\"flex flex-wrap gap-2\">\n                                    {['XS', 'S', 'M', 'L', 'XL'].map((size) => (\n                                        <button\n                                            key={size}\n                                            onClick={() => { setSelectedSize(size); setError(''); }}\n                                            className={clsx(\n                                                \"min-w-[48px] h-10 px-3 rounded border text-sm font-bold transition-all\",\n                                                selectedSize === size\n                                                    ? \"bg-navy-900 text-white border-navy-900 dark:bg-white dark:text-slate-900\"\n                                                    : \"bg-transparent text-gray-600 border-gray-200 hover:border-navy-900 dark:text-gray-300 dark:border-white/10 dark:hover:border-white\"\n                                            )}\n                                        >\n                                            {size}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n\n                            {/* Actions */}\n                            <div className=\"mt-auto space-y-3\">\n                                <button\n                                    onClick={handleAddToBag}\n                                    disabled={!inStock}\n                                    className={clsx(\n                                        \"w-full py-4 rounded-lg font-bold uppercase tracking-widest text-sm flex items-center justify-center gap-2 shadow-lg transition-all\",\n                                        inStock\n                                            ? \"bg-navy-900 text-white hover:bg-coral-500 hover:shadow-coral-500/20 dark:bg-white dark:text-slate-900\"\n                                            : \"bg-gray-200 text-gray-400 cursor-not-allowed\"\n                                    )}\n                                >\n                                    <ShoppingBag size={18} />\n                                    {inStock ? 'Add to Cart' : 'Out of Stock'}\n                                </button>\n                                <Link\n                                    href={`/product/${product.id}`}\n                                    onClick={closeQuickView}\n                                    className=\"block w-full text-center py-3 text-sm font-bold uppercase tracking-widest text-navy-900 dark:text-white hover:text-coral-500 transition-colors\"\n                                >\n                                    View Full Details\n                                </Link>\n                            </div>\n\n                        </div>\n                    </div>\n                </motion.div>\n            </motion.div>\n        </AnimatePresence>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Product/ShopTheLook.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":6,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Plus"},"fix":{"range":[156,162],"text":""},"desc":"Remove unused variable \"Plus\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Minus' is defined but never used.","line":6,"column":36,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":41,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Minus"},"fix":{"range":[162,169],"text":""},"desc":"Remove unused variable \"Minus\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":6,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":53,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[169,181],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":7,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[220,237],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[516,519],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[516,519],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[727,730],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[727,730],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1280,1283],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1280,1283],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":218,"column":79,"nodeType":"Identifier","messageId":"unusedVar","endLine":218,"endColumn":80}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { ShoppingBag, Check, Plus, Minus, ArrowRight } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useCart } from '@/context/CartContext';\nimport { useToast } from '@/context/ToastContext';\nimport { getRecommendations } from '@/lib/recommendations';\nimport { formatPrice } from '@/utils/formatPrice';\n\ninterface ShopTheLookProps {\n    product: any;\n}\n\nexport default function ShopTheLook({ product }: ShopTheLookProps) {\n    const { addToCart } = useCart();\n    const { addToast } = useToast();\n\n    const [recommendations, setRecommendations] = useState<any[]>([]);\n    const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchLooks = async () => {\n            if (!product) return;\n            setLoading(true);\n            const recs = await getRecommendations(product);\n            const limitedRecs = recs.slice(0, 3);\n            setRecommendations(limitedRecs);\n\n            // Default: Select all recommendations\n            const initialSelected = new Set([product.id, ...limitedRecs.map((r: any) => r.id)]);\n            setSelectedIds(initialSelected);\n\n            setLoading(false);\n        };\n        fetchLooks();\n    }, [product]);\n\n    if (loading) return null;\n    if (recommendations.length === 0) return null;\n\n    const allItems = [product, ...recommendations];\n\n    const toggleSelection = (id: string, e?: React.MouseEvent) => {\n        if (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n        const newSelected = new Set(selectedIds);\n        if (newSelected.has(id)) {\n            newSelected.delete(id);\n        } else {\n            newSelected.add(id);\n        }\n        setSelectedIds(newSelected);\n    };\n\n    const selectedItems = allItems.filter(item => selectedIds.has(item.id));\n    const totalPrice = selectedItems.reduce((sum, item) => sum + item.price, 0);\n    const totalItems = selectedItems.length;\n\n    const handleAddBundle = () => {\n        if (totalItems === 0) {\n            addToast('Please select at least one item to add.', 'error');\n            return;\n        }\n\n        selectedItems.forEach(item => {\n            const size = item.metadata?.sizes?.[0] || 'One Size';\n            addToCart({\n                id: item.id,\n                name: item.name,\n                price: item.price,\n                image: item.images?.[0] || item.image || '',\n                qty: 1,\n                size: size,\n                color: item.metadata?.colors?.[0]?.name || 'Default'\n            }, size);\n        });\n        addToast(`Found your style! ${totalItems} items added to bag.`, 'success');\n    };\n\n    return (\n        <section className=\"py-24 md:py-32 bg-white dark:bg-[#050505] relative overflow-hidden\">\n            {/* Ambient Background Accents */}\n            <div className=\"absolute -top-24 -left-24 w-96 h-96 bg-coral-500/10 blur-[120px] rounded-full pointer-events-none\" />\n            <div className=\"absolute top-1/2 -right-24 w-64 h-64 bg-navy-500/10 blur-[100px] rounded-full pointer-events-none\" />\n\n            <div className=\"container-premium max-w-[1400px] mx-auto px-4 md:px-8 relative z-10\">\n                {/* Header Section */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 items-end mb-16 md:mb-24\">\n                    <motion.div\n                        initial={{ opacity: 0, x: -30 }}\n                        whileInView={{ opacity: 1, x: 0 }}\n                        viewport={{ once: true }}\n                        transition={{ duration: 0.8, ease: \"circOut\" }}\n                    >\n                        <span className=\"text-coral-500 font-bold uppercase tracking-[0.4em] text-[10px] md:text-xs mb-4 block\">Editorial Curation</span>\n                        <h2 className=\"text-4xl md:text-7xl font-heading font-black text-navy-900 dark:text-white leading-[0.9] tracking-tight\">\n                            Shop <br className=\"hidden md:block\" /> The Look.\n                        </h2>\n                    </motion.div>\n\n                    <motion.div\n                        initial={{ opacity: 0, x: 30 }}\n                        whileInView={{ opacity: 1, x: 0 }}\n                        viewport={{ once: true }}\n                        transition={{ duration: 0.8, ease: \"circOut\", delay: 0.2 }}\n                        className=\"lg:max-w-md\"\n                    >\n                        <p className=\"text-lg md:text-xl text-gray-500 dark:text-gray-400 font-medium leading-relaxed\">\n                            Handpicked essentials that pair perfectly with your {product.name.toLowerCase()}. Curated for visual excellence.\n                        </p>\n                    </motion.div>\n                </div>\n\n                <div className=\"flex flex-col xl:flex-row gap-12 xl:gap-20 items-start\">\n\n                    {/* The Lookbook Grid */}\n                    <div className=\"flex-1 w-full overflow-visible\">\n                        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-8\">\n                            {allItems.map((item, index) => {\n                                const isSelected = selectedIds.has(item.id);\n                                const isMain = item.id === product.id;\n\n                                return (\n                                    <motion.div\n                                        key={item.id}\n                                        initial={{ opacity: 0, y: 40 }}\n                                        whileInView={{ opacity: 1, y: 0 }}\n                                        viewport={{ once: true }}\n                                        transition={{ duration: 0.6, delay: index * 0.15 }}\n                                        className={`group relative flex flex-col ${index % 2 !== 0 ? 'md:mt-12' : ''}`}\n                                    >\n                                        {/* Product Card Container */}\n                                        <div\n                                            onClick={() => toggleSelection(item.id)}\n                                            className={`relative aspect-[4/5] rounded-[2rem] overflow-hidden cursor-pointer transition-all duration-700 ease-in-out border-2 ${isSelected\n                                                ? 'border-navy-900 dark:border-white shadow-[0_20px_50px_rgba(0,0,0,0.1)] dark:shadow-[0_20px_50px_rgba(0,0,0,0.3)]'\n                                                : 'border-transparent opacity-60 grayscale-[0.4] scale-95 hover:opacity-80 hover:scale-98'\n                                                }`}\n                                        >\n                                            <Image\n                                                src={item.images?.[0] || item.image || '/images/placeholder.jpg'}\n                                                alt={item.name}\n                                                fill\n                                                className=\"object-cover transition-transform duration-[1.5s] ease-out group-hover:scale-110\"\n                                            />\n\n                                            {/* Gradient Overlay */}\n                                            <div className=\"absolute inset-0 bg-gradient-to-b from-black/0 via-black/0 to-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\n\n                                            {/* Interactive Tags */}\n                                            <div className=\"absolute inset-0 flex flex-col justify-between p-6\">\n                                                <div className=\"flex justify-between items-start\">\n                                                    {isMain ? (\n                                                        <span className=\"bg-white/90 dark:bg-black/90 backdrop-blur-xl text-navy-900 dark:text-white text-[9px] font-black tracking-[0.2em] px-3 py-1.5 rounded-full uppercase shadow-xl ring-1 ring-black/5\">\n                                                            Focus Item\n                                                        </span>\n                                                    ) : <div />}\n\n                                                    {/* Custom Checkbox Tag */}\n                                                    <div\n                                                        className={`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-500 shadow-2xl ring-2 ${isSelected\n                                                            ? 'bg-coral-500 text-white ring-white/20 scale-100'\n                                                            : 'bg-white/10 backdrop-blur-md text-transparent ring-white/10 scale-90'\n                                                            }`}\n                                                    >\n                                                        <Check size={18} strokeWidth={4} />\n                                                    </div>\n                                                </div>\n\n                                                {/* Price Tag (Appears on Hover) */}\n                                                <motion.div\n                                                    animate={{ opacity: isSelected ? 1 : 0, y: isSelected ? 0 : 10 }}\n                                                    className=\"inline-flex self-start bg-white/90 dark:bg-white backdrop-blur-xl text-black px-4 py-2 rounded-xl text-sm font-black shadow-2xl ring-1 ring-black/5\"\n                                                >\n                                                    {formatPrice(item.price)}\n                                                </motion.div>\n                                            </div>\n                                        </div>\n\n                                        {/* Product Info Below */}\n                                        <div className=\"mt-6\">\n                                            <Link href={`/product/${item.id}`} className=\"block\">\n                                                <h3 className={`text-sm md:text-base font-bold leading-tight transition-all duration-300 ${isSelected ? 'text-navy-900 dark:text-white' : 'text-gray-400'}`}>\n                                                    {item.name}\n                                                </h3>\n                                            </Link>\n                                            <div className={`text-xs font-bold uppercase tracking-widest mt-2 transition-all duration-300 ${isSelected ? 'text-coral-500' : 'text-gray-400'}`}>\n                                                {item.brand || 'Premium Design'}\n                                            </div>\n                                        </div>\n                                    </motion.div>\n                                );\n                            })}\n                        </div>\n                    </div>\n\n                    {/* The Checkout Panel (Sticky) */}\n                    <motion.div\n                        initial={{ opacity: 0, scale: 0.95 }}\n                        whileInView={{ opacity: 1, scale: 1 }}\n                        viewport={{ once: true }}\n                        className=\"w-full xl:w-[420px] shrink-0 sticky top-32 z-30\"\n                    >\n                        <div className=\"relative group\">\n                            {/* Decorative Edge Glow */}\n                            <div className=\"absolute -inset-[1px] bg-gradient-to-tr from-coral-500 via-navy-500 to-purple-500 rounded-[2.5rem] opacity-20 blur-sm transition duration-1000 group-hover:opacity-40\" />\n\n                            <div className=\"relative bg-white dark:bg-[#0A0A0A] p-10 rounded-[2.5rem] shadow-[0_40px_100px_rgba(0,0,0,0.1)] dark:shadow-[0_40px_100px_rgba(0,0,0,0.5)] border border-gray-100 dark:border-white/5\">\n                                <div className=\"flex justify-between items-center mb-10 pb-6 border-b border-gray-100 dark:border-white/5\">\n                                    <h3 className=\"font-heading font-black text-2xl text-navy-900 dark:text-white tracking-tight\">Your Look</h3>\n                                    <div className=\"flex -space-x-3\">\n                                        {selectedItems.slice(0, 3).map((item, i) => (\n                                            <div key={item.id} className=\"w-10 h-10 rounded-full border-2 border-white dark:border-[#0A0A0A] overflow-hidden bg-gray-100\">\n                                                <Image src={item.images?.[0] || item.image || ''} alt=\"\" width={40} height={40} className=\"object-cover h-full w-full\" />\n                                            </div>\n                                        ))}\n                                        {totalItems > 3 && (\n                                            <div className=\"w-10 h-10 rounded-full bg-navy-900 dark:bg-white text-white dark:text-navy-900 text-[10px] font-black flex items-center justify-center border-2 border-white dark:border-[#0A0A0A]\">\n                                                +{totalItems - 3}\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n\n                                {/* Dynamic Price & Savings */}\n                                <div className=\"space-y-6 mb-10\">\n                                    <div className=\"flex justify-between items-end\">\n                                        <div className=\"flex flex-col\">\n                                            <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1\">Total Set Value</span>\n                                            <motion.span\n                                                key={totalPrice}\n                                                initial={{ y: 10, opacity: 0 }}\n                                                animate={{ y: 0, opacity: 1 }}\n                                                className=\"text-4xl md:text-5xl font-black text-navy-900 dark:text-white tracking-tighter\"\n                                            >\n                                                {formatPrice(totalPrice)}\n                                            </motion.span>\n                                        </div>\n                                    </div>\n\n                                    {totalItems > 1 && (\n                                        <div className=\"flex items-center gap-2 text-green-600 dark:text-green-400 font-bold bg-green-50 dark:bg-green-900/20 py-3 px-4 rounded-2xl text-sm border border-green-100 dark:border-green-900/30\">\n                                            <div className=\"w-2 h-2 rounded-full bg-current animate-pulse\" />\n                                            Style Bundle Discount Applied\n                                        </div>\n                                    )}\n                                </div>\n\n                                <button\n                                    onClick={handleAddBundle}\n                                    disabled={totalItems === 0}\n                                    className={`group/btn w-full py-6 font-black rounded-3xl flex items-center justify-center gap-3 transition-all duration-500 overflow-hidden relative shadow-2xl active:scale-[0.98] ${totalItems > 0\n                                        ? 'bg-navy-900 dark:bg-white text-white dark:text-black hover:bg-coral-500 dark:hover:bg-coral-400'\n                                        : 'bg-gray-100 dark:bg-[#111] text-gray-400 cursor-not-allowed'\n                                        }`}\n                                >\n                                    <ShoppingBag size={22} className=\"transition-transform group-hover/btn:-translate-y-1\" />\n                                    <span className=\"tracking-wide\">\n                                        {totalItems > 0 ? `ADD ${totalItems} PIECES TO BAG` : 'BUILD YOUR LOOK'}\n                                    </span>\n                                </button>\n\n                                <div className=\"mt-8 text-center\">\n                                    <p className=\"text-[10px] text-gray-400 uppercase font-black tracking-[0.2em]\">\n                                        Free Express Shipping Included\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    </motion.div>\n                </div>\n            </div>\n        </section>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Profile/AddressCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1456,1459],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1456,1459],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { MapPin, Loader2, Plus } from 'lucide-react';\nimport { createClient } from '@/utils/supabase/client';\n\ninterface Address {\n    id: string;\n    label: string;\n    firstName: string;\n    lastName: string;\n    addressLine1: string;\n    city: string;\n    pincode: string;\n    isDefault?: boolean;\n}\n\nexport default function AddressCard() {\n    const [addresses, setAddresses] = useState<Address[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchAddresses = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) {\n                setLoading(false);\n                return;\n            }\n\n            // Fetch addresses from orders (since we don't have a dedicated addresses table yet)\n            // We'll extract unique addresses from order history\n            const { data: orders } = await supabase\n                .from('orders')\n                .select('shipping_address')\n                .eq('user_id', user.id)\n                .order('created_at', { ascending: false })\n                .limit(5);\n\n            if (orders && orders.length > 0) {\n                // Get unique addresses based on pincode\n                const uniqueAddresses = new Map<string, Address>();\n                orders.forEach((order: any, index: number) => {\n                    const addr = order.shipping_address;\n                    if (addr && addr.pincode && !uniqueAddresses.has(addr.pincode)) {\n                        uniqueAddresses.set(addr.pincode, {\n                            id: `addr-${index}`,\n                            label: addr.label || 'Shipping Address',\n                            firstName: addr.firstName || '',\n                            lastName: addr.lastName || '',\n                            addressLine1: addr.addressLine1 || '',\n                            city: addr.city || '',\n                            pincode: addr.pincode || '',\n                            isDefault: index === 0\n                        });\n                    }\n                });\n                setAddresses(Array.from(uniqueAddresses.values()).slice(0, 2));\n            }\n            setLoading(false);\n        };\n\n        fetchAddresses();\n    }, [supabase]);\n\n    if (loading) {\n        return (\n            <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-5 shadow-sm mt-6\">\n                <div className=\"py-8 flex justify-center\">\n                    <Loader2 className=\"animate-spin text-gray-400 dark:text-gray-500\" size={24} />\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-5 shadow-sm mt-6 transition-colors\">\n            <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-bold text-navy-900 dark:text-white\">Saved Addresses</h3>\n                <Link href=\"/profile/addresses\" className=\"text-sm font-bold text-coral-500 hover:underline\">+ Add New</Link>\n            </div>\n\n            {addresses.length === 0 ? (\n                <div className=\"py-8 text-center border-2 border-dashed border-gray-200 dark:border-white/10 rounded-xl\">\n                    <MapPin className=\"mx-auto text-gray-400 dark:text-gray-500 mb-3\" size={32} />\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-3\">No saved addresses</p>\n                    <Link\n                        href=\"/profile/addresses\"\n                        className=\"inline-flex items-center gap-1 text-sm font-bold text-coral-500 hover:underline\"\n                    >\n                        <Plus size={16} /> Add Address\n                    </Link>\n                </div>\n            ) : (\n                <div className=\"flex gap-4 overflow-x-auto pb-2 -mx-5 px-5 md:mx-0 md:px-0 md:flex-col md:overflow-visible md:gap-3\">\n                    {addresses.map((address) => (\n                        <div\n                            key={address.id}\n                            className={`min-w-[280px] md:w-full border rounded-xl p-4 relative transition-colors ${address.isDefault\n                                ? 'border-green-200 bg-green-50/30 dark:border-green-900/30 dark:bg-green-900/10'\n                                : 'border-gray-100 dark:border-white/10 hover:border-gray-200 dark:hover:border-white/20'\n                                }`}\n                        >\n                            {address.isDefault && (\n                                <span className=\"absolute top-4 right-4 text-[10px] font-bold bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400 px-2 py-0.5 rounded-full\">\n                                    DEFAULT\n                                </span>\n                            )}\n                            <div className=\"flex items-center gap-2 mb-2\">\n                                <MapPin size={16} className={address.isDefault ? 'text-navy-900 dark:text-white' : 'text-gray-400 dark:text-gray-500'} />\n                                <span className={`font-bold text-sm ${address.isDefault ? 'text-navy-900 dark:text-white' : 'text-gray-500 dark:text-gray-400'}`}>\n                                    {address.label}\n                                </span>\n                            </div>\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 leading-relaxed mb-3\">\n                                {address.firstName} {address.lastName}<br />\n                                {address.addressLine1}<br />\n                                {address.city} - {address.pincode}\n                            </p>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Profile/OrderPreview.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[367,370],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[367,370],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":29,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":29,"endColumn":32}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { ChevronRight, PackageCheck, Clock, Package, Loader2, ShoppingBag } from 'lucide-react';\nimport { createClient } from '@/utils/supabase/client';\n\ninterface Order {\n    id: string;\n    created_at: string;\n    status: string;\n    total_amount: number;\n    items?: any[];\n}\n\nexport default function OrderPreview() {\n    const [orders, setOrders] = useState<Order[]>([]);\n    const [loading, setLoading] = useState(true);\n    const supabase = createClient();\n\n    useEffect(() => {\n        const fetchOrders = async () => {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) {\n                setLoading(false);\n                return;\n            }\n\n            const { data, error } = await supabase\n                .from('orders')\n                .select('*')\n                .eq('user_id', user.id)\n                .order('created_at', { ascending: false })\n                .limit(3);\n\n            if (data) {\n                setOrders(data);\n            }\n            setLoading(false);\n        };\n\n        fetchOrders();\n    }, [supabase]);\n\n    const getStatusIcon = (status: string) => {\n        switch (status) {\n            case 'delivered': return PackageCheck;\n            case 'shipped': return Package;\n            default: return Clock;\n        }\n    };\n\n    const getStatusColor = (status: string) => {\n        switch (status) {\n            case 'delivered': return 'text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20';\n            case 'shipped': return 'text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20';\n            case 'cancelled': return 'text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20';\n            default: return 'text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20';\n        }\n    };\n\n    const formatDate = (dateString: string) => {\n        return new Date(dateString).toLocaleDateString('en-IN', {\n            month: 'short',\n            day: 'numeric',\n            year: 'numeric'\n        });\n    };\n\n    return (\n        <div className=\"bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 p-5 shadow-sm transition-colors\">\n            <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-bold text-navy-900 dark:text-white\">Recent Orders</h3>\n                <Link href=\"/profile/orders\" className=\"text-sm font-bold text-coral-500 hover:underline\">View All</Link>\n            </div>\n\n            {loading ? (\n                <div className=\"py-8 flex justify-center\">\n                    <Loader2 className=\"animate-spin text-gray-400 dark:text-gray-500\" size={24} />\n                </div>\n            ) : orders.length === 0 ? (\n                <div className=\"py-8 text-center\">\n                    <ShoppingBag className=\"mx-auto text-gray-400 dark:text-gray-500 mb-3\" size={40} />\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm\">No orders yet</p>\n                    <Link href=\"/shop\" className=\"text-sm font-bold text-coral-500 hover:underline mt-2 inline-block\">\n                        Start Shopping\n                    </Link>\n                </div>\n            ) : (\n                <div className=\"space-y-4\">\n                    {orders.map((order) => {\n                        const StatusIcon = getStatusIcon(order.status);\n                        const statusColor = getStatusColor(order.status);\n                        const itemCount = order.items?.length || 0;\n                        const firstItemName = order.items?.[0]?.name || 'Order';\n                        const displayName = itemCount > 1\n                            ? `${firstItemName} + ${itemCount - 1} more`\n                            : firstItemName;\n\n                        return (\n                            <Link\n                                key={order.id}\n                                href={`/profile/orders/${order.id}`}\n                                className=\"flex items-start gap-4 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-white/10 transition-colors cursor-pointer group\"\n                            >\n                                <div className={`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${statusColor}`}>\n                                    <StatusIcon size={18} />\n                                </div>\n                                <div className=\"flex-1\">\n                                    <div className=\"flex justify-between items-start\">\n                                        <h4 className=\"text-sm font-bold text-navy-900 dark:text-white group-hover:text-coral-500 transition-colors\">\n                                            {displayName}\n                                        </h4>\n                                        <span className=\"text-sm font-bold text-navy-900 dark:text-white\">\n                                            â‚¹{order.total_amount}\n                                        </span>\n                                    </div>\n                                    <div className=\"flex justify-between items-center mt-1\">\n                                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                            #{order.id.slice(0, 8)} â€¢ {formatDate(order.created_at)}\n                                        </span>\n                                        <span className={`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase ${statusColor}`}>\n                                            {order.status}\n                                        </span>\n                                    </div>\n                                </div>\n                                <ChevronRight size={16} className=\"text-gray-400 dark:text-gray-500 group-hover:text-navy-900 dark:group-hover:text-white mt-2\" />\n                            </Link>\n                        );\n                    })}\n                </div>\n            )}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Profile/ProfileHeader.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'theme' is assigned a value but never used.","line":18,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":18},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/Profile/ProfileHeader.tsx:23:9\n  21 |     // Prevent hydration mismatch\n  22 |     useEffect(() => {\n> 23 |         setMounted(true);\n     |         ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  24 |     }, []);\n  25 |\n  26 |     // Get initials from name or email","line":23,"column":9,"nodeType":null,"endLine":23,"endColumn":19},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":55,"column":17,"nodeType":"JSXOpeningElement","endLine":59,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { Edit2, ShieldCheck, Moon, Sun } from 'lucide-react';\nimport { useTheme } from 'next-themes';\n\ninterface ProfileHeaderProps {\n    user: {\n        email?: string;\n        full_name?: string;\n        avatar_url?: string;\n        created_at?: string;\n    } | null;\n}\n\nexport default function ProfileHeader({ user }: ProfileHeaderProps) {\n    const { theme, setTheme, resolvedTheme } = useTheme();\n    const [mounted, setMounted] = useState(false);\n\n    // Prevent hydration mismatch\n    useEffect(() => {\n        setMounted(true);\n    }, []);\n\n    // Get initials from name or email\n    const getInitials = () => {\n        if (user?.full_name) {\n            return user.full_name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);\n        }\n        if (user?.email) {\n            return user.email.slice(0, 2).toUpperCase();\n        }\n        return 'U';\n    };\n\n    // Get display name\n    const getDisplayName = () => {\n        if (user?.full_name) return user.full_name;\n        if (user?.email) return user.email.split('@')[0];\n        return 'User';\n    };\n\n    const toggleTheme = () => {\n        setTheme(resolvedTheme === 'dark' ? 'light' : 'dark');\n    };\n\n    return (\n        <div className=\"flex items-center gap-4 p-6 bg-white dark:bg-white/5 rounded-2xl border border-gray-100 dark:border-white/10 shadow-sm relative overflow-hidden transition-colors duration-300\">\n            {/* Decorative Background Blur */}\n            <div className=\"absolute top-0 right-0 w-32 h-32 bg-coral-50 dark:bg-accent-orange-soft/10 rounded-full blur-3xl -z-0 opacity-50\" />\n\n            {/* Avatar */}\n            {user?.avatar_url ? (\n                <img\n                    src={user.avatar_url}\n                    alt={getDisplayName()}\n                    className=\"relative z-10 w-20 h-20 rounded-full ring-4 ring-[#FAF9F7] dark:ring-black flex-shrink-0 object-cover\"\n                />\n            ) : (\n                <div className=\"relative z-10 w-20 h-20 rounded-full bg-gray-100 dark:bg-white/10 text-navy-900 dark:text-white flex items-center justify-center text-2xl font-bold ring-4 ring-[#FAF9F7] dark:ring-black flex-shrink-0 transition-colors duration-300\">\n                    {getInitials()}\n                </div>\n            )}\n\n            <div className=\"relative z-10 flex-1\">\n                <h1 className=\"text-xl md:text-2xl font-bold text-navy-900 dark:text-white transition-colors duration-300\">\n                    {getDisplayName()}\n                </h1>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1 transition-colors duration-300\">\n                    {user?.email || 'No email'}\n                </p>\n\n                <div className=\"flex items-center gap-2 mt-2\">\n                    <span className=\"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-1 transition-colors duration-300\">\n                        <ShieldCheck size={12} /> Member\n                    </span>\n                </div>\n            </div>\n\n            <div className=\"flex items-center gap-3 relative z-10\">\n                {mounted && (\n                    <button\n                        onClick={toggleTheme}\n                        className=\"group relative p-2.5 rounded-full bg-white/50 dark:bg-white/10 backdrop-blur-md border border-gray-100 dark:border-white/10 shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105 active:scale-95\"\n                        title={resolvedTheme === 'light' ? 'Switch to Dark Mode' : 'Switch to Light Mode'}\n                    >\n                        <div className=\"relative transition-transform duration-500 rotate-0 dark:rotate-180\">\n                            {resolvedTheme === 'light' ? (\n                                <Moon size={20} className=\"text-indigo-600 dark:text-indigo-400 fill-indigo-100 dark:fill-indigo-900/30 transition-colors\" />\n                            ) : (\n                                <Sun size={20} className=\"text-amber-500 fill-amber-500/20 transition-colors\" />\n                            )}\n                        </div>\n                    </button>\n                )}\n                <Link href=\"/profile/edit\" className=\"p-2.5 text-gray-500 dark:text-gray-400 hover:text-navy-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-white/10 rounded-full transition-colors backdrop-blur-sm\">\n                    <Edit2 size={20} />\n                </Link>\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Profile/QuickActions.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":5,"column":50,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":62,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[119,133],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { Package, Heart, CreditCard, Headphones, ChevronRight, Wallet } from 'lucide-react';\n\nexport default function QuickActions() {\n    const actions = [\n        { icon: Package, label: 'My Orders', color: 'text-blue-600 dark:text-blue-400', bg: 'bg-blue-50 dark:bg-blue-900/20', href: '/profile/orders' },\n        { icon: Heart, label: 'Wishlist', color: 'text-pink-600 dark:text-pink-400', bg: 'bg-pink-50 dark:bg-pink-900/20', href: '/profile/wishlist' },\n\n        { icon: Wallet, label: 'My Wallet', color: 'text-amber-600 dark:text-amber-400', bg: 'bg-amber-50 dark:bg-amber-900/20', href: '/profile/wallet' },\n        { icon: CreditCard, label: 'Payments', color: 'text-green-600 dark:text-green-400', bg: 'bg-green-50 dark:bg-green-900/20', href: '/profile/payments' },\n        { icon: Headphones, label: 'Support', color: 'text-purple-600 dark:text-purple-400', bg: 'bg-purple-50 dark:bg-purple-900/20', href: '/profile/support' },\n    ];\n\n    return (\n        <div className=\"grid grid-cols-3 md:grid-cols-5 gap-3 md:gap-4 my-6\">\n            {actions.map((action, i) => (\n                <Link key={i} href={action.href} className=\"flex flex-col items-center gap-2 p-4 bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 rounded-xl hover:shadow-md hover:bg-gray-50 dark:hover:bg-white/10 transition-all group\">\n                    <div className={`w-12 h-12 rounded-full flex items-center justify-center ${action.bg} ${action.color} group-hover:scale-110 transition-transform`}>\n                        <action.icon size={20} strokeWidth={2} />\n                    </div>\n                    <span className=\"text-xs font-bold text-navy-900 dark:text-white text-center\">{action.label}</span>\n                </Link>\n            ))}\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Search/SearchOverlay.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":17,"column":17,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":17,"endColumn":61}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport { useUI } from '@/context/UIContext';\nimport { Search, X, TrendingUp } from 'lucide-react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { useRouter } from 'next/navigation';\n\nexport default function SearchOverlay() {\n    const { isSearchOpen, closeSearch, openSearch } = useUI();\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\n                e.preventDefault();\n                isSearchOpen ? closeSearch() : openSearch();\n            }\n            if (e.key === 'Escape') {\n                closeSearch();\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [isSearchOpen, closeSearch, openSearch]);\n\n    // Focus input when open\n    useEffect(() => {\n        if (isSearchOpen && inputRef.current) {\n            setTimeout(() => inputRef.current?.focus(), 100);\n        }\n    }, [isSearchOpen]);\n\n    const router = useRouter();\n\n    const handleSearch = (query: string) => {\n        if (!query.trim()) return;\n        closeSearch();\n        router.push(`/search?q=${encodeURIComponent(query)}`);\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n        if (e.key === 'Enter') {\n            handleSearch(inputRef.current?.value || '');\n        }\n    };\n\n    return (\n        <AnimatePresence>\n            {isSearchOpen && (\n                <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"fixed inset-0 z-[1100] bg-white/95 dark:bg-black/95 backdrop-blur-xl flex items-start justify-center pt-20 md:pt-32\"\n                    onClick={closeSearch} // Close on backdrop click\n                >\n                    <motion.div\n                        initial={{ y: -20, opacity: 0 }}\n                        animate={{ y: 0, opacity: 1 }}\n                        exit={{ y: -20, opacity: 0 }}\n                        onClick={(e) => e.stopPropagation()} // Prevent close on content click\n                        className=\"w-full max-w-2xl px-6\"\n                    >\n                        <div className=\"relative mb-8\">\n                            <Search className=\"absolute left-6 top-1/2 -translate-y-1/2 text-navy-900 dark:text-white\" size={24} />\n                            <input\n                                ref={inputRef}\n                                type=\"text\"\n                                placeholder=\"Search for products, brands, or stories...\"\n                                className=\"w-full bg-gray-100 dark:bg-white/10 border border-gray-200 dark:border-white/10 rounded-2xl py-6 pl-16 pr-16 text-xl text-navy-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:bg-white dark:focus:bg-black focus:border-gray-300 dark:focus:border-white/30 focus:ring-1 focus:ring-gray-200 dark:focus:ring-white/20 shadow-sm focus:shadow-xl transition-all\"\n                                onKeyDown={handleKeyDown}\n                            />\n                            <button\n                                onClick={closeSearch}\n                                className=\"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 hover:text-navy-900 dark:hover:text-white transition-colors\"\n                            >\n                                <span className=\"text-xs uppercase font-bold border border-gray-300 dark:border-gray-600 px-2 py-1 rounded hidden md:inline-block\">ESC</span>\n                                <X size={24} className=\"md:hidden\" />\n                            </button>\n                        </div>\n\n                        {/* Trending Section */}\n                        <div className=\"bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 rounded-2xl p-6 md:p-8 shadow-sm\">\n                            <div className=\"flex items-center gap-2 mb-4\">\n                                <TrendingUp size={18} className=\"text-coral-500\" />\n                                <h3 className=\"text-sm font-bold uppercase tracking-widest text-navy-900 dark:text-white\">Trending Now</h3>\n                            </div>\n                            <div className=\"flex flex-wrap gap-3\">\n                                {['Oversized Tees', 'Hoodies', 'Caps', 'Tote Bags', 'Daily Planners', 'iPhone Cases'].map((tag) => (\n                                    <button\n                                        key={tag}\n                                        onClick={() => handleSearch(tag)}\n                                        className=\"text-navy-900 dark:text-white hover:text-white bg-gray-100 dark:bg-white/10 hover:bg-navy-900 dark:hover:bg-white/20 px-5 py-2.5 rounded-full text-sm font-bold transition-all hover:shadow-lg\"\n                                    >\n                                        {tag}\n                                    </button>\n                                ))}\n                            </div>\n                        </div>\n\n                        {/* Suggestions Section */}\n                        <div className=\"mt-6\">\n                            <h3 className=\"text-sm font-bold uppercase tracking-widest text-gray-500 dark:text-gray-400 mb-4 px-1\">Suggestions</h3>\n                            <div className=\"flex flex-wrap gap-2\">\n                                {(() => {\n                                    const suggestions = [\n                                        'Fridge Magnets', 'Pet Tags', 'Colouring Books', 'Posters',\n                                        'Tote Bags', 'Mouse Pads', 'Gaming Pads', 'Coffee Mugs',\n                                        'Badges', 'Dog Tees'\n                                    ];\n                                    // Shuffle using a simple random sort for display variety\n                                    return suggestions.sort(() => Math.random() - 0.5).map((item) => (\n                                        <button\n                                            key={item}\n                                            onClick={() => handleSearch(item)}\n                                            className=\"text-sm text-gray-600 dark:text-gray-300 hover:text-navy-900 dark:hover:text-white bg-gray-50 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 px-4 py-2 rounded-lg transition-colors\"\n                                        >\n                                            {item}\n                                        </button>\n                                    ));\n                                })()}\n                            </div>\n                        </div>\n                    </motion.div>\n                </motion.div>\n            )}\n        </AnimatePresence>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Shop/FilterDrawer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useUI' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":15,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useUI"},"fix":{"range":[186,230],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[366,369],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[366,369],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[392,395],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[392,395],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[427,430],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[427,430],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Filter } from 'lucide-react';\nimport FilterSidebar from './FilterSidebar';\nimport { useUI } from '@/context/UIContext'; // Standard UI context if available or prop\n\ninterface FilterDrawerProps {\n    isOpen: boolean;\n    onClose: () => void;\n    products: any[];\n    activeFilters: any;\n    onFilterChange: (filters: any) => void;\n}\n\nexport default function FilterDrawer({ isOpen, onClose, products, activeFilters, onFilterChange }: FilterDrawerProps) {\n    return (\n        <AnimatePresence>\n            {isOpen && (\n                <>\n                    {/* Backdrop */}\n                    <motion.div\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                        onClick={onClose}\n                        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 lg:hidden\"\n                    />\n\n                    {/* Drawer */}\n                    <motion.div\n                        initial={{ x: '100%' }}\n                        animate={{ x: 0 }}\n                        exit={{ x: '100%' }}\n                        transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n                        className=\"fixed top-0 right-0 bottom-0 w-[85%] max-w-[400px] bg-white dark:bg-navy-950 shadow-2xl z-50 lg:hidden overflow-y-auto\"\n                    >\n                        <div className=\"p-6\">\n                            <div className=\"flex items-center justify-between mb-8\">\n                                <h2 className=\"text-xl font-heading font-bold text-navy-900 dark:text-white flex items-center gap-2\">\n                                    <Filter size={20} />\n                                    Filters\n                                </h2>\n                                <button onClick={onClose} className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors\">\n                                    <X size={20} />\n                                </button>\n                            </div>\n\n                            <FilterSidebar\n                                products={products}\n                                activeFilters={activeFilters}\n                                onFilterChange={onFilterChange}\n                            />\n\n                            <div className=\"sticky bottom-0 left-0 right-0 bg-white dark:bg-navy-950 pt-4 pb-8 border-t border-gray-100 dark:border-white/5 mt-8\">\n                                <button\n                                    onClick={onClose}\n                                    className=\"w-full py-4 bg-navy-900 text-white rounded-full font-bold shadow-lg hover:bg-coral-500 transition-colors\"\n                                >\n                                    Show Results\n                                </button>\n                            </div>\n                        </div>\n                    </motion.div>\n                </>\n            )}\n        </AnimatePresence>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Shop/FilterSidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":5,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":42,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"X"},"fix":{"range":[151,154],"text":""},"desc":"Remove unused variable \"X\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[288,291],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[288,291],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[485,488],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[485,488],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6081,6084],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6081,6084],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":153,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":153,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8711,8714],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8711,8714],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":188,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":188,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11126,11129],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11126,11129],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ChevronDown, ChevronUp, Check, X } from 'lucide-react';\nimport clsx from 'clsx'; // Using clsx as it is in package.json\n\ninterface FilterSidebarProps {\n    products: any[];\n    activeFilters: {\n        minPrice: number;\n        maxPrice: number;\n        colors: string[];\n        sizes: string[];\n        brands: string[];\n    };\n    onFilterChange: (newFilters: any) => void;\n    className?: string;\n}\n\nexport default function FilterSidebar({ products, activeFilters, onFilterChange, className }: FilterSidebarProps) {\n    // 1. Extract Available Options (Memoize in real app, but fast enough here)\n    const brands = Array.from(new Set(products.map(p => p.brand).filter((b): b is string => typeof b === 'string' && b.length > 0))).sort();\n\n    // Extract colors/sizes from metadata\n    const colors = Array.from(new Set(products.flatMap(p => p.metadata?.colors || []).filter((c): c is string => typeof c === 'string'))).sort();\n    const sizes = Array.from(new Set(products.flatMap(p => p.metadata?.sizes || []).filter((s): s is string => typeof s === 'string'))).sort();\n\n    // Price Bounds\n    const prices = products.map(p => p.price);\n    const globalMin = prices.length ? Math.min(...prices) : 0;\n    const globalMax = prices.length ? Math.max(...prices) : 10000;\n\n    // Local state for collapsed sections (default all open)\n    const [openSections, setOpenSections] = useState<Record<string, boolean>>({\n        price: true,\n        color: true,\n        size: true,\n        brand: true,\n    });\n\n    const toggleSection = (section: string) => {\n        setOpenSections(prev => ({ ...prev, [section]: !prev[section] }));\n    };\n\n    // Hanlders\n    const toggleArrayFilter = (key: 'colors' | 'sizes' | 'brands', value: string) => {\n        const current = activeFilters[key];\n        const updated = current.includes(value)\n            ? current.filter(item => item !== value)\n            : [...current, value];\n\n        onFilterChange({ ...activeFilters, [key]: updated });\n    };\n\n    const handlePriceChange = (e: React.ChangeEvent<HTMLInputElement>, type: 'min' | 'max') => {\n        const val = Number(e.target.value);\n        onFilterChange({\n            ...activeFilters,\n            [type === 'min' ? 'minPrice' : 'maxPrice']: val\n        });\n    };\n\n    return (\n        <aside className={clsx(\"w-full\", className)}>\n            <div className=\"space-y-6\">\n\n                {/* 1. Price Filter */}\n                <div className=\"border-b border-gray-200 dark:border-white/10 pb-6\">\n                    <button onClick={() => toggleSection('price')} className=\"w-full flex items-center justify-between text-sm font-bold uppercase tracking-wider text-navy-900 dark:text-white mb-4\">\n                        <span>Price</span>\n                        {openSections.price ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n                    </button>\n                    <AnimatePresence>\n                        {openSections.price && (\n                            <motion.div initial={{ height: 0, opacity: 0 }} animate={{ height: 'auto', opacity: 1 }} exit={{ height: 0, opacity: 0 }}>\n                                <div className=\"flex items-center space-x-2\">\n                                    <div className=\"relative\">\n                                        <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">$</span>\n                                        <input\n                                            type=\"number\"\n                                            value={activeFilters.minPrice || ''}\n                                            placeholder={String(globalMin)}\n                                            onChange={(e) => handlePriceChange(e, 'min')}\n                                            className=\"w-full pl-6 pr-2 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm\"\n                                        />\n                                    </div>\n                                    <span className=\"text-gray-400\">-</span>\n                                    <div className=\"relative\">\n                                        <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">$</span>\n                                        <input\n                                            type=\"number\"\n                                            value={activeFilters.maxPrice || ''}\n                                            placeholder={String(globalMax)}\n                                            onChange={(e) => handlePriceChange(e, 'max')}\n                                            className=\"w-full pl-6 pr-2 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm\"\n                                        />\n                                    </div>\n                                </div>\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n                </div>\n\n                {/* 2. Color Filter */}\n                {colors.length > 0 && (\n                    <div className=\"border-b border-gray-200 dark:border-white/10 pb-6\">\n                        <button onClick={() => toggleSection('color')} className=\"w-full flex items-center justify-between text-sm font-bold uppercase tracking-wider text-navy-900 dark:text-white mb-4\">\n                            <span>Color</span>\n                            {openSections.color ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n                        </button>\n                        <AnimatePresence>\n                            {openSections.color && (\n                                <motion.div initial={{ height: 0, opacity: 0 }} animate={{ height: 'auto', opacity: 1 }} exit={{ height: 0, opacity: 0 }}>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {colors.map((color: any) => {\n                                            const isActive = activeFilters.colors.includes(color);\n                                            // Simple logic to map color name to CSS\n                                            const bg = color.toLowerCase().replace(' ', '');\n                                            return (\n                                                <button\n                                                    key={color}\n                                                    onClick={() => toggleArrayFilter('colors', color)}\n                                                    className={clsx(\n                                                        \"w-8 h-8 rounded-full border flex items-center justify-center transition-all\",\n                                                        isActive ? \"ring-2 ring-offset-2 ring-navy-900 dark:ring-white scale-110\" : \"border-gray-200 hover:scale-105\"\n                                                    )}\n                                                    style={{ backgroundColor: bg }}\n                                                    title={color}\n                                                >\n                                                    {isActive && <Check size={12} className={clsx(bg === 'white' ? \"text-black\" : \"text-white\")} />}\n                                                </button>\n                                            )\n                                        })}\n                                    </div>\n                                </motion.div>\n                            )}\n                        </AnimatePresence>\n                    </div>\n                )}\n\n                {/* 3. Size Filter */}\n                {sizes.length > 0 && (\n                    <div className=\"border-b border-gray-200 dark:border-white/10 pb-6\">\n                        <button onClick={() => toggleSection('size')} className=\"w-full flex items-center justify-between text-sm font-bold uppercase tracking-wider text-navy-900 dark:text-white mb-4\">\n                            <span>Size</span>\n                            {openSections.size ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n                        </button>\n                        <AnimatePresence>\n                            {openSections.size && (\n                                <motion.div initial={{ height: 0, opacity: 0 }} animate={{ height: 'auto', opacity: 1 }} exit={{ height: 0, opacity: 0 }}>\n                                    <div className=\"grid grid-cols-3 gap-2\">\n                                        {sizes.map((size: any) => {\n                                            const isActive = activeFilters.sizes.includes(size);\n                                            return (\n                                                <button\n                                                    key={size}\n                                                    onClick={() => toggleArrayFilter('sizes', size)}\n                                                    className={clsx(\n                                                        \"py-2 text-xs font-medium rounded-md border transition-all\",\n                                                        isActive\n                                                            ? \"bg-navy-900 text-white border-navy-900 dark:bg-white dark:text-slate-900\"\n                                                            : \"bg-transparent border-gray-200 text-gray-600 hover:border-navy-900 dark:border-white/10 dark:text-gray-300 dark:hover:border-white\"\n                                                    )}\n                                                >\n                                                    {size}\n                                                </button>\n                                            )\n                                        })}\n                                    </div>\n                                </motion.div>\n                            )}\n                        </AnimatePresence>\n                    </div>\n                )}\n\n                {/* 4. Brand Filter */}\n                {brands.length > 0 && (\n                    <div className=\"border-b border-gray-200 dark:border-white/10 pb-6\">\n                        <button onClick={() => toggleSection('brand')} className=\"w-full flex items-center justify-between text-sm font-bold uppercase tracking-wider text-navy-900 dark:text-white mb-4\">\n                            <span>Brand</span>\n                            {openSections.brand ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n                        </button>\n                        <AnimatePresence>\n                            {openSections.brand && (\n                                <motion.div initial={{ height: 0, opacity: 0 }} animate={{ height: 'auto', opacity: 1 }} exit={{ height: 0, opacity: 0 }}>\n                                    <div className=\"space-y-2\">\n                                        {brands.map((brand: any) => {\n                                            const isActive = activeFilters.brands.includes(brand);\n                                            return (\n                                                <div key={brand} className=\"flex items-center\">\n                                                    <button\n                                                        onClick={() => toggleArrayFilter('brands', brand)}\n                                                        className=\"flex items-center space-x-3 text-sm text-gray-600 dark:text-gray-300 hover:text-navy-900 dark:hover:text-white group\"\n                                                    >\n                                                        <div className={clsx(\n                                                            \"w-5 h-5 rounded border flex items-center justify-center transition-colors\",\n                                                            isActive ? \"bg-navy-900 border-navy-900 dark:bg-coral-500 dark:border-coral-500 text-white\" : \"border-gray-300 dark:border-white/20 group-hover:border-navy-900\"\n                                                        )}>\n                                                            {isActive && <Check size={12} />}\n                                                        </div>\n                                                        <span>{brand}</span>\n                                                    </button>\n                                                </div>\n                                            )\n                                        })}\n                                    </div>\n                                </motion.div>\n                            )}\n                        </AnimatePresence>\n                    </div>\n                )}\n            </div>\n\n            {/* Clear All */}\n            <button\n                onClick={() => onFilterChange({ minPrice: 0, maxPrice: 10000, colors: [], sizes: [], brands: [] })}\n                className=\"mt-6 w-full py-3 text-sm font-bold text-gray-400 hover:text-navy-900 dark:hover:text-white transition-colors\"\n            >\n                Clear All Filters\n            </button>\n        </aside>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/UI/AmbientBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/UI/BrandLoader.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/UI/BrandLoader.tsx:43:9\n  41 |     useEffect(() => {\n  42 |         const randomQuote = LOADER_QUOTES[Math.floor(Math.random() * LOADER_QUOTES.length)];\n> 43 |         setQuote(randomQuote);\n     |         ^^^^^^^^ Avoid calling setState() directly within an effect\n  44 |     }, []);\n  45 |\n  46 |     if (size === 'sm') return <div className=\"animate-spin w-5 h-5 border-2 border-navy-900 border-t-transparent rounded-full\" />;","line":43,"column":9,"nodeType":null,"endLine":43,"endColumn":17},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":119,"column":25,"nodeType":"JSXOpeningElement","endLine":123,"endColumn":27},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":191,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8511,8537],"text":"\n                        &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8511,8537],"text":"\n                        &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8511,8537],"text":"\n                        &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8511,8537],"text":"\n                        &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":191,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8544,8566],"text":"&quot;\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8544,8566],"text":"&ldquo;\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8544,8566],"text":"&#34;\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8544,8566],"text":"&rdquo;\n                    "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport { motion } from 'framer-motion';\n\ninterface BrandLoaderProps {\n    text?: string;\n    size?: 'sm' | 'md' | 'lg';\n}\n\nconst LOADER_QUOTES = [\n    // Fashion\n    \"Style is a way to say who you are without having to speak.\",\n    \"Fashion fades, only style remains the same.\",\n    \"Clothes mean nothing until someone lives in them.\",\n    \"Fashion is about dreaming and making other people dream.\",\n\n    // Lifestyle\n    \"The best form of luxury is time.\",\n    \"Live the life you've imagined.\",\n    \"Elegance is not standing out, but being remembered.\",\n    \"Quality is not an act, it is a habit.\",\n\n    // Discipline\n    \"Discipline is the bridge between goals and accomplishment.\",\n    \"Suffer the pain of discipline or suffer the pain of regret.\",\n    \"Motivation gets you going, but discipline keeps you growing.\",\n    \"Discipline is choosing between what you want now and what you want most.\",\n\n    // Motivation\n    \"The best is yet to come.\",\n    \"Chase excellence, and success will follow.\",\n    \"Focus on the process, not the outcome.\",\n    \"Your ambition is the only limit.\"\n];\n\nexport default function BrandLoader({ text = 'Just a moment...', size = 'md' }: BrandLoaderProps) {\n    const [quote, setQuote] = useState('');\n\n    useEffect(() => {\n        const randomQuote = LOADER_QUOTES[Math.floor(Math.random() * LOADER_QUOTES.length)];\n        setQuote(randomQuote);\n    }, []);\n\n    if (size === 'sm') return <div className=\"animate-spin w-5 h-5 border-2 border-navy-900 border-t-transparent rounded-full\" />;\n\n    return (\n        <div className=\"flex flex-col items-center justify-center p-8 w-full min-h-[500px] overflow-hidden\">\n            <div className=\"relative w-80 h-80 flex items-center justify-center\">\n\n                {/* 1. Background Pulse Rings - Advanced Depth */}\n                <motion.div\n                    className=\"absolute w-48 h-48 border border-navy-50 dark:border-navy-900/50 rounded-full\"\n                    animate={{ scale: [1, 1.2, 1], opacity: [0.3, 0.1, 0.3] }}\n                    transition={{ duration: 4, repeat: Infinity, ease: \"easeInOut\" }}\n                />\n                <motion.div\n                    className=\"absolute w-64 h-64 border border-dashed border-gray-100 dark:border-navy-800/30 rounded-full\"\n                    animate={{ rotate: 360 }}\n                    transition={{ duration: 30, repeat: Infinity, ease: \"linear\" }}\n                />\n\n                {/* 2. The Silk Thread Path */}\n                <svg viewBox=\"0 0 200 200\" className=\"absolute inset-0 w-full h-full -rotate-90\">\n                    {/* The \"To-be-stitched\" guide */}\n                    <circle\n                        cx=\"100\" cy=\"100\" r=\"80\"\n                        className=\"fill-none stroke-gray-50 dark:stroke-navy-900/40 stroke-1 stroke-dasharray-[4,4]\"\n                        strokeDasharray=\"4 4\"\n                    />\n\n                    {/* The Actual Silk Thread */}\n                    <motion.circle\n                        cx=\"100\"\n                        cy=\"100\"\n                        r=\"80\"\n                        className=\"fill-none stroke-red-600 dark:stroke-red-500 stroke-[3]\"\n                        strokeLinecap=\"round\"\n                        initial={{ pathLength: 0, opacity: 0 }}\n                        animate={{\n                            pathLength: [0, 1, 1, 0],\n                            opacity: [0, 1, 1, 0],\n                            strokeWidth: [3, 4, 3]\n                        }}\n                        transition={{\n                            duration: 4,\n                            repeat: Infinity,\n                            ease: \"easeInOut\",\n                            times: [0, 0.45, 0.55, 1]\n                        }}\n                    />\n                </svg>\n\n                {/* 3. The Tailor's Pin (Needle + Logo Head) */}\n                <motion.div\n                    className=\"absolute w-12 h-32 z-30 flex flex-col items-center\"\n                    style={{\n                        transformOrigin: '50% 100%',\n                        top: 'calc(50% - 130px)', // Positioned relative to the track radius\n                    }}\n                    animate={{\n                        rotate: [0, 360],\n                    }}\n                    transition={{\n                        duration: 4,\n                        repeat: Infinity,\n                        ease: \"easeInOut\",\n                    }}\n                >\n                    {/* Pin Head (Branding) */}\n                    <motion.div\n                        className=\"w-12 h-12 bg-navy-900 rounded-full border-2 border-white shadow-xl flex items-center justify-center p-2.5 overflow-hidden\"\n                        animate={{\n                            boxShadow: [\"0 4px 6px rgba(0,0,0,0.1)\", \"0 10px 20px rgba(0,0,0,0.3)\", \"0 4px 6px rgba(0,0,0,0.1)\"]\n                        }}\n                        transition={{ duration: 2, repeat: Infinity }}\n                    >\n                        <img\n                            src=\"/whitelogo.png\"\n                            alt=\"Broncstudio\"\n                            className=\"w-full h-full object-contain\"\n                        />\n                    </motion.div>\n\n                    {/* Needle Body */}\n                    <div className=\"w-[3px] h-20 bg-gradient-to-b from-navy-900 via-gray-400 to-gray-200 rounded-full relative\">\n                        {/* Eye of the needle */}\n                        <div className=\"absolute top-2 left-1/2 -translate-x-1/2 w-1.5 h-4 border border-white/20 rounded-full\" />\n\n                        {/* Needle Tip Shine */}\n                        <motion.div\n                            className=\"absolute bottom-0 left-1/2 -translate-x-1/2 w-4 h-4 bg-white/40 blur-md rounded-full\"\n                            animate={{ opacity: [0, 1, 0] }}\n                            transition={{ duration: 1, repeat: Infinity }}\n                        />\n                    </div>\n                </motion.div>\n\n                {/* 4. Center Brand Identity */}\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center pt-8 pointer-events-none\">\n                    <motion.div\n                        className=\"relative h-12 w-48 opacity-20 dark:opacity-40\"\n                        animate={{ opacity: [0.1, 0.2, 0.1] }}\n                        transition={{ duration: 3, repeat: Infinity }}\n                    >\n                        <Image\n                            src=\"/broncname.png\"\n                            alt=\"Broncstudio\"\n                            fill\n                            className=\"object-contain dark:hidden\"\n                            priority\n                        />\n                        <Image\n                            src=\"/broncnamey.png\"\n                            alt=\"Broncstudio\"\n                            fill\n                            className=\"object-contain hidden dark:block\"\n                            priority\n                        />\n                    </motion.div>\n                </div>\n            </div>\n\n            {/* 5. Text Display & Quotes */}\n            <div className=\"mt-12 text-center space-y-6 max-w-sm px-4\">\n                <div className=\"space-y-3\">\n                    <motion.div\n                        className=\"h-[2px] w-24 bg-gradient-to-r from-transparent via-navy-900 dark:via-white to-transparent mx-auto\"\n                        initial={{ scaleX: 0 }}\n                        animate={{ scaleX: 1 }}\n                        transition={{ duration: 1.5, repeat: Infinity, repeatType: 'reverse' }}\n                    />\n                    <motion.p\n                        initial={{ opacity: 0, y: 10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"text-[10px] font-black tracking-[0.5em] text-navy-900 dark:text-white uppercase\"\n                    >\n                        {text}\n                    </motion.p>\n                </div>\n\n                {/* Random Quote */}\n                <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition={{ delay: 0.5, duration: 1 }}\n                    className=\"relative\"\n                >\n                    <p className=\"text-sm font-medium italic text-gray-500 dark:text-gray-400 leading-relaxed\">\n                        \"{quote}\"\n                    </p>\n                </motion.div>\n\n                <div className=\"flex justify-center gap-1.5\">\n                    {[0, 1, 2].map(i => (\n                        <motion.div\n                            key={i}\n                            className=\"w-1 h-1 bg-red-600 rounded-full\"\n                            animate={{ scale: [1, 1.5, 1], opacity: [0.3, 1, 0.3] }}\n                            transition={{ duration: 1, repeat: Infinity, delay: i * 0.2 }}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            {/* Floating Fabric/Texture Elements (Optional artistic touch) */}\n            <div className=\"absolute inset-0 pointer-events-none opacity-5\">\n                <div className=\"absolute top-1/4 left-1/4 w-64 h-64 bg-navy-900 rounded-full blur-[100px]\" />\n                <div className=\"absolute bottom-1/4 right-1/4 w-64 h-64 bg-red-600 rounded-full blur-[100px]\" />\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/UI/GlassCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/UI/TiltCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":3,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useState"},"fix":{"range":[37,47],"text":""},"desc":"Remove unused variable \"useState\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'classNames' is defined but never used.","line":76,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":76,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useRef, useState } from 'react';\nimport { motion, useMotionValue, useSpring, useTransform } from 'framer-motion';\nimport { cn } from '@/lib/utils'; // Assuming standard shadcn-like utils or I will replicate localized clsx\n\nconst TiltCard = ({ children, className }: { children: React.ReactNode; className?: string }) => {\n    const ref = useRef<HTMLDivElement>(null);\n\n    // Motion values for rotation\n    const x = useMotionValue(0);\n    const y = useMotionValue(0);\n\n    // Smooth spring physics\n    const mouseX = useSpring(x, { stiffness: 300, damping: 30 });\n    const mouseY = useSpring(y, { stiffness: 300, damping: 30 });\n\n    const rotateX = useTransform(mouseY, [-0.5, 0.5], [\"7deg\", \"-7deg\"]);\n    const rotateY = useTransform(mouseX, [-0.5, 0.5], [\"-7deg\", \"7deg\"]);\n\n    const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (!ref.current) return;\n\n        const rect = ref.current.getBoundingClientRect();\n        const width = rect.width;\n        const height = rect.height;\n\n        const mouseXPos = e.clientX - rect.left;\n        const mouseYPos = e.clientY - rect.top;\n\n        const xPct = mouseXPos / width - 0.5;\n        const yPct = mouseYPos / height - 0.5;\n\n        x.set(xPct);\n        y.set(yPct);\n    };\n\n    const handleMouseLeave = () => {\n        x.set(0);\n        y.set(0);\n    };\n\n    return (\n        <motion.div\n            ref={ref}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            style={{\n                rotateX,\n                rotateY,\n                transformStyle: \"preserve-3d\",\n            }}\n            className={cn(\"relative transition-all duration-200 ease-out\", className)}\n        >\n            <div\n                style={{ transform: \"translateZ(20px)\" }}\n                className=\"h-full w-full\"\n            >\n                {children}\n            </div>\n\n            {/* Glare Effect */}\n            <motion.div\n                className=\"absolute inset-0 pointer-events-none mix-blend-overlay z-50 rounded-xl bg-gradient-to-tr from-transparent via-white to-transparent opacity-0\"\n                style={{\n                    opacity: useTransform(mouseY, [-0.5, 0.5], [0, 0.3])\n                }}\n            />\n        </motion.div>\n    );\n};\n\nexport default TiltCard;\n\n// Utils helper if not exists\nfunction classNames(...classes: (string | undefined | null | false)[]) {\n    return classes.filter(Boolean).join(' ');\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/Wishlist/WishlistDrawer.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[593,596],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[593,596],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":60,"column":45,"nodeType":"JSXOpeningElement","endLine":60,"endColumn":124}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { useUI } from '@/context/UIContext';\nimport { useWishlist } from '@/context/WishlistContext';\nimport { useCart } from '@/context/CartContext';\nimport { X, ShoppingBag, Trash2 } from 'lucide-react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { formatPrice } from '@/utils/formatPrice';\n\nexport default function WishlistDrawer() {\n    const { isWishlistOpen, closeWishlist } = useUI();\n    const { wishlistItems, removeFromWishlist } = useWishlist();\n    const { addToCart } = useCart();\n\n    const handleMoveToBag = (item: any) => {\n        // Add to cart with default or stored size\n        addToCart(item, item.size || 'One Size');\n        removeFromWishlist(item.id);\n        // Alert handled by addToCart or UI notification\n    };\n\n    return (\n        <AnimatePresence>\n            {isWishlistOpen && (\n                <>\n                    {/* Backdrop */}\n                    <motion.div\n                        initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\n                        className=\"fixed inset-0 z-[1100] bg-navy-900/40 backdrop-blur-sm\"\n                        onClick={closeWishlist}\n                    />\n\n                    {/* Drawer */}\n                    <motion.div\n                        initial={{ x: '100%' }} animate={{ x: 0 }} exit={{ x: '100%' }}\n                        transition={{ type: 'spring', damping: 25, stiffness: 200 }}\n                        className=\"fixed inset-y-0 right-0 z-[1101] w-full max-w-md bg-white dark:bg-black shadow-2xl flex flex-col border-l border-gray-100 dark:border-white/10\"\n                    >\n                        {/* Header */}\n                        <div className=\"flex items-center justify-between p-6 border-b border-gray-100 dark:border-white/10\">\n                            <h2 className=\"text-xl font-heading font-bold text-navy-900 dark:text-white\">Your Wishlist ({wishlistItems.length})</h2>\n                            <button onClick={closeWishlist} className=\"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full transition-colors\">\n                                <X size={24} className=\"text-gray-500 dark:text-gray-400\" />\n                            </button>\n                        </div>\n\n                        {/* Content */}\n                        <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n                            {wishlistItems.length === 0 ? (\n                                <div className=\"h-full flex flex-col items-center justify-center text-center\">\n                                    <span className=\"text-4xl mb-4\">ðŸ’”</span>\n                                    <p className=\"text-gray-500 dark:text-gray-400 font-medium\">Your wishlist is empty.</p>\n                                    <button onClick={closeWishlist} className=\"mt-4 text-navy-900 dark:text-white font-bold underline\">Start Exploring</button>\n                                </div>\n                            ) : (\n                                wishlistItems.map(item => (\n                                    <div key={item.id} className=\"flex gap-4 group\">\n                                        <div className=\"w-24 h-24 bg-gray-50 rounded-xl overflow-hidden flex-shrink-0 border border-gray-100\">\n                                            <img src={item.image} alt={item.name} className=\"w-full h-full object-cover\" />\n                                        </div>\n                                        <div className=\"flex-1 flex flex-col\">\n                                            <div className=\"flex justify-between items-start mb-1\">\n                                                <div>\n                                                    <h3 className=\"text-navy-900 font-bold leading-tight line-clamp-2\">{item.name}</h3>\n                                                    <p className=\"text-xs text-gray-500 mt-1\">Size: {item.size || 'N/A'}</p>\n                                                </div>\n                                                <button\n                                                    onClick={() => removeFromWishlist(item.id)}\n                                                    className=\"text-gray-400 hover:text-red-500 transition-colors p-1\"\n                                                >\n                                                    <Trash2 size={16} />\n                                                </button>\n                                            </div>\n\n                                            <div className=\"mt-auto\">\n                                                <div className=\"flex justify-between items-center mb-3\">\n                                                    <span className=\"text-navy-900 font-bold\">{formatPrice(item.price)}</span>\n                                                </div>\n                                                <button\n                                                    onClick={() => handleMoveToBag(item)}\n                                                    className=\"w-full py-2.5 bg-navy-900 text-white text-xs font-bold uppercase tracking-wider rounded-lg hover:bg-coral-500 transition-colors flex items-center justify-center gap-2 shadow-sm active:scale-95\"\n                                                >\n                                                    <ShoppingBag size={14} /> Move to Bag\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))\n                            )}\n                        </div>\n\n                        {/* Footer */}\n                        <div className=\"p-6 border-t border-gray-100 dark:border-white/10 bg-gray-50 dark:bg-white/5\">\n                            <button\n                                onClick={closeWishlist}\n                                className=\"w-full py-3 border border-navy-900 dark:border-white/30 text-navy-900 dark:text-white font-bold rounded-xl hover:bg-navy-900 hover:text-white dark:hover:bg-white dark:hover:text-black transition-colors\"\n                            >\n                                Continue Shopping\n                            </button>\n                        </div>\n                    </motion.div>\n                </>\n            )}\n        </AnimatePresence>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AdminDateContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AnalyticsCharts.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1382,1385],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1382,1385],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1811,1814],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1811,1814],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AnalyticsCharts.tsx:133:52\n  131 |                                 />\n  132 |                                 <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#E5E7EB\" strokeOpacity={0.2} />\n> 133 |                                 <Tooltip content={<CustomTooltip formatter={(value: number, name: string) => [\n      |                                                    ^^^^^^^^^^^^^ This component is created during render\n  134 |                                     name === 'Revenue' ? formatCurrency(value) : value,\n  135 |                                     name\n  136 |                                 ]} />}\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AnalyticsCharts.tsx:62:27\n  60 |\n  61 |     // Custom Tooltip for Dark Mode compatibility\n> 62 |     const CustomTooltip = ({ active, payload, label, formatter }: any) => {\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |         if (active && payload && payload.length) {\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |             return (\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 81 |         return null;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |     };\n     | ^^^^^^ The component is created during render here\n  83 |\n  84 |     const tryFormatDate = (str: string) => {\n  85 |         try { return format(new Date(str), 'MMM d'); } catch { return str; }","line":133,"column":52,"nodeType":null,"endLine":133,"endColumn":65},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AnalyticsCharts.tsx:181:52\n  179 |                                     ))}\n  180 |                                 </Pie>\n> 181 |                                 <Tooltip content={<CustomTooltip />} />\n      |                                                    ^^^^^^^^^^^^^ This component is created during render\n  182 |                                 <Legend verticalAlign=\"bottom\" height={36} />\n  183 |                             </PieChart>\n  184 |                         </ResponsiveContainer>\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AnalyticsCharts.tsx:62:27\n  60 |\n  61 |     // Custom Tooltip for Dark Mode compatibility\n> 62 |     const CustomTooltip = ({ active, payload, label, formatter }: any) => {\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |         if (active && payload && payload.length) {\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |             return (\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 81 |         return null;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |     };\n     | ^^^^^^ The component is created during render here\n  83 |\n  84 |     const tryFormatDate = (str: string) => {\n  85 |         try { return format(new Date(str), 'MMM d'); } catch { return str; }","line":181,"column":52,"nodeType":null,"endLine":181,"endColumn":65},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AnalyticsCharts.tsx:202:48\n  200 |                             <XAxis type=\"number\" hide />\n  201 |                             <YAxis dataKey=\"name\" type=\"category\" width={100} fontSize={12} tickLine={false} axisLine={false} tick={{ fill: '#9CA3AF' }} />\n> 202 |                             <Tooltip content={<CustomTooltip cursor={{ fill: 'transparent' }} />} cursor={{ fill: 'rgba(255,255,255,0.05)' }} />\n      |                                                ^^^^^^^^^^^^^ This component is created during render\n  203 |                             <Bar dataKey=\"value\" fill=\"#3B82F6\" radius={[0, 4, 4, 0]} barSize={20}>\n  204 |                                 {paymentStats.map((entry, index) => (\n  205 |                                     <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n\n/Users/dhanushj/Desktop/Broncstudio/src/components/admin/AnalyticsCharts.tsx:62:27\n  60 |\n  61 |     // Custom Tooltip for Dark Mode compatibility\n> 62 |     const CustomTooltip = ({ active, payload, label, formatter }: any) => {\n     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |         if (active && payload && payload.length) {\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |             return (\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 81 |         return null;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |     };\n     | ^^^^^^ The component is created during render here\n  83 |\n  84 |     const tryFormatDate = (str: string) => {\n  85 |         try { return format(new Date(str), 'MMM d'); } catch { return str; }","line":202,"column":48,"nodeType":null,"endLine":202,"endColumn":61}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport {\n    AreaChart,\n    Area,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    ResponsiveContainer,\n    BarChart,\n    Bar,\n    PieChart,\n    Pie,\n    Cell,\n    Legend\n} from 'recharts';\nimport { format } from 'date-fns';\n\n// --- Types ---\ninterface DailyStat {\n    date: string; // ISO date string or formatted date\n    revenue: number;\n    orders: number;\n}\n\ninterface PaymentStat {\n    name: string;\n    value: number;\n}\n\ninterface StatusStat {\n    name: string;\n    value: number;\n}\n\ninterface AnalyticsChartsProps {\n    dailyStats: DailyStat[];\n    paymentStats: PaymentStat[];\n    statusStats: StatusStat[];\n}\n\n// --- Colors ---\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8'];\nconst STATUS_COLORS: Record<string, string> = {\n    pending: '#F59E0B',\n    processing: '#3B82F6',\n    shipped: '#6366F1',\n    delivered: '#10B981',\n    cancelled: '#EF4444',\n    returned: '#8B5CF6'\n};\n\nexport default function AnalyticsCharts({ dailyStats, paymentStats, statusStats }: AnalyticsChartsProps) {\n\n    // Formatting currency\n    const formatCurrency = (value: number) =>\n        new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(value);\n\n    // Custom Tooltip for Dark Mode compatibility\n    const CustomTooltip = ({ active, payload, label, formatter }: any) => {\n        if (active && payload && payload.length) {\n            return (\n                <div className=\"bg-white dark:bg-slate-800 border border-gray-100 dark:border-white/10 p-3 rounded-lg shadow-lg\">\n                    <p className=\"text-sm font-bold text-gray-900 dark:text-white mb-1\">\n                        {label ? (tryFormatDate(label)) : ''}\n                    </p>\n                    {payload.map((entry: any, index: number) => (\n                        <p key={index} className=\"text-xs font-medium\" style={{ color: entry.color }}>\n                            {entry.name}: {\n                                formatter\n                                    ? formatter(entry.value, entry.name, entry)\n                                    : entry.value\n                            }\n                        </p>\n                    ))}\n                </div>\n            );\n        }\n        return null;\n    };\n\n    const tryFormatDate = (str: string) => {\n        try { return format(new Date(str), 'MMM d'); } catch { return str; }\n    }\n\n    return (\n        <div className=\"space-y-6\">\n\n            {/* Row 1: Revenue & Orders Trend */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <div className=\"lg:col-span-2 bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5\">\n                    <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Revenue & Orders Trend</h3>\n                    <div className=\"h-[300px] w-full\">\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <AreaChart data={dailyStats} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n                                <defs>\n                                    <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                        <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8} />\n                                        <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0} />\n                                    </linearGradient>\n                                    <linearGradient id=\"colorOrders\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                        <stop offset=\"5%\" stopColor=\"#82ca9d\" stopOpacity={0.8} />\n                                        <stop offset=\"95%\" stopColor=\"#82ca9d\" stopOpacity={0} />\n                                    </linearGradient>\n                                </defs>\n                                <XAxis\n                                    dataKey=\"date\"\n                                    tickFormatter={tryFormatDate}\n                                    fontSize={12}\n                                    tickLine={false}\n                                    axisLine={false}\n                                    tick={{ fill: '#9CA3AF' }} // Gray-400\n                                />\n                                <YAxis\n                                    yAxisId=\"left\"\n                                    tickFormatter={(val) => `â‚¹${val / 1000}k`}\n                                    fontSize={12}\n                                    tickLine={false}\n                                    axisLine={false}\n                                    tick={{ fill: '#9CA3AF' }}\n                                />\n                                <YAxis\n                                    yAxisId=\"right\"\n                                    orientation=\"right\"\n                                    fontSize={12}\n                                    tickLine={false}\n                                    axisLine={false}\n                                    tick={{ fill: '#9CA3AF' }}\n                                />\n                                <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#E5E7EB\" strokeOpacity={0.2} />\n                                <Tooltip content={<CustomTooltip formatter={(value: number, name: string) => [\n                                    name === 'Revenue' ? formatCurrency(value) : value,\n                                    name\n                                ]} />}\n                                />\n                                <Legend wrapperStyle={{ paddingTop: '10px' }} />\n                                <Area\n                                    yAxisId=\"left\"\n                                    type=\"monotone\"\n                                    dataKey=\"revenue\"\n                                    stroke=\"#8884d8\"\n                                    fillOpacity={1}\n                                    fill=\"url(#colorRevenue)\"\n                                    name=\"Revenue\"\n                                />\n                                <Area\n                                    yAxisId=\"right\"\n                                    type=\"monotone\"\n                                    dataKey=\"orders\"\n                                    stroke=\"#82ca9d\"\n                                    fillOpacity={1}\n                                    fill=\"url(#colorOrders)\"\n                                    name=\"Orders\"\n                                />\n                            </AreaChart>\n                        </ResponsiveContainer>\n                    </div>\n                </div>\n\n                {/* Status Breakdown (Pie) */}\n                <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5\">\n                    <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Order Status</h3>\n                    <div className=\"h-[300px] w-full\">\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <PieChart>\n                                <Pie\n                                    data={statusStats}\n                                    cx=\"50%\"\n                                    cy=\"50%\"\n                                    innerRadius={60}\n                                    outerRadius={80}\n                                    paddingAngle={5}\n                                    dataKey=\"value\"\n                                >\n                                    {statusStats.map((entry, index) => (\n                                        <Cell key={`cell-${index}`} fill={STATUS_COLORS[entry.name.toLowerCase()] || COLORS[index % COLORS.length]} stroke=\"none\" />\n                                    ))}\n                                </Pie>\n                                <Tooltip content={<CustomTooltip />} />\n                                <Legend verticalAlign=\"bottom\" height={36} />\n                            </PieChart>\n                        </ResponsiveContainer>\n                    </div>\n                </div>\n            </div>\n\n            {/* Row 2: Payment Methods */}\n            <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-gray-100/50 dark:border-white/5\">\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Payment Methods</h3>\n                <div className=\"h-[250px] w-full\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <BarChart\n                            layout=\"vertical\"\n                            data={paymentStats}\n                            margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\n                        >\n                            <CartesianGrid strokeDasharray=\"3 3\" horizontal={false} stroke=\"#E5E7EB\" strokeOpacity={0.2} />\n                            <XAxis type=\"number\" hide />\n                            <YAxis dataKey=\"name\" type=\"category\" width={100} fontSize={12} tickLine={false} axisLine={false} tick={{ fill: '#9CA3AF' }} />\n                            <Tooltip content={<CustomTooltip cursor={{ fill: 'transparent' }} />} cursor={{ fill: 'rgba(255,255,255,0.05)' }} />\n                            <Bar dataKey=\"value\" fill=\"#3B82F6\" radius={[0, 4, 4, 0]} barSize={20}>\n                                {paymentStats.map((entry, index) => (\n                                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                                ))}\n                            </Bar>\n                        </BarChart>\n                    </ResponsiveContainer>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/admin/ConfirmationModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/admin/OrderTable.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":5,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":47,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FileText"},"fix":{"range":[127,137],"text":""},"desc":"Remove unused variable \"FileText\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":5,"column":49,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":55,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Filter"},"fix":{"range":[137,145],"text":""},"desc":"Remove unused variable \"Filter\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MoreHorizontal' is defined but never used.","line":5,"column":57,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":71,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MoreHorizontal"},"fix":{"range":[145,161],"text":""},"desc":"Remove unused variable \"MoreHorizontal\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Printer' is defined but never used.","line":5,"column":73,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":80,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Printer"},"fix":{"range":[161,170],"text":""},"desc":"Remove unused variable \"Printer\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":5,"column":82,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":83,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"X"},"fix":{"range":[170,173],"text":""},"desc":"Remove unused variable \"X\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[410,413],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[410,413],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[448,451],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[448,451],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onStatusChange' is defined but never used.","line":29,"column":55,"nodeType":"Identifier","messageId":"unusedVar","endLine":29,"endColumn":69},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2196,2199],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2196,2199],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2234,2237],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2234,2237],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport { ChevronDown, ChevronUp, Eye, FileText, Filter, MoreHorizontal, Printer, X } from 'lucide-react';\nimport Link from 'next/link';\n\ninterface Order {\n    id: string;\n    created_at: string;\n    total_amount: number;\n    status: string;\n    payment_status: string;\n    payment_method: string;\n    shipping_address: any;\n    user_id: string;\n    items?: any[];\n}\n\ninterface OrderTableProps {\n    orders: Order[];\n    loading: boolean;\n    onStatusChange?: (orderId: string, newStatus: string) => Promise<void>;\n}\n\ntype SortField = 'created_at' | 'total_amount' | 'status';\ntype SortOrder = 'asc' | 'desc';\n\nexport default function OrderTable({ orders, loading, onStatusChange }: OrderTableProps) {\n    const [sortField, setSortField] = useState<SortField>('created_at');\n    const [sortOrder, setSortOrder] = useState<SortOrder>('desc');\n\n    // Filters State\n    const [statusFilter, setStatusFilter] = useState<string>('all');\n    const [paymentFilter, setPaymentFilter] = useState<string>('all');\n    const [searchQuery, setSearchQuery] = useState('');\n\n    // Sorting Handler\n    const handleSort = (field: SortField) => {\n        if (sortField === field) {\n            setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n        } else {\n            setSortField(field);\n            setSortOrder('desc'); // Default to desc for new field\n        }\n    };\n\n    // Filter Logic\n    const filteredOrders = orders.filter(order => {\n        const matchesStatus = statusFilter === 'all' || order.status === statusFilter;\n        const matchesPayment = paymentFilter === 'all' || order.payment_status === paymentFilter;\n        const searchLower = searchQuery.toLowerCase();\n        const matchesSearch =\n            order.id.toLowerCase().includes(searchLower) ||\n            order.shipping_address?.firstName?.toLowerCase().includes(searchLower) ||\n            order.shipping_address?.email?.toLowerCase().includes(searchLower);\n\n        return matchesStatus && matchesPayment && matchesSearch;\n    });\n\n    // Sort Logic\n    const sortedOrders = [...filteredOrders].sort((a, b) => {\n        let valA: any = a[sortField];\n        let valB: any = b[sortField];\n\n        if (sortField === 'total_amount') {\n            valA = Number(valA);\n            valB = Number(valB);\n        }\n\n        if (valA < valB) return sortOrder === 'asc' ? -1 : 1;\n        if (valA > valB) return sortOrder === 'asc' ? 1 : -1;\n        return 0;\n    });\n\n    const formatCurrency = (amount: number) => {\n        return new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(amount);\n    };\n\n    const getStatusColor = (status: string) => {\n        switch (status) {\n            case 'delivered': return 'bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300';\n            case 'shipped': return 'bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300';\n            case 'processing': return 'bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300';\n            case 'cancelled': return 'bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300';\n            default: return 'bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-gray-300';\n        }\n    };\n\n    return (\n        <div className=\"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-gray-100 dark:border-white/5 overflow-hidden\">\n            {/* Toolbar */}\n            <div className=\"p-4 border-b border-gray-100 dark:border-white/5 flex flex-col sm:flex-row gap-4 justify-between items-center\">\n                <div className=\"flex items-center gap-2 w-full sm:w-auto\">\n                    <div className=\"relative w-full sm:w-64\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search Order ID, Name...\"\n                            className=\"w-full pl-4 pr-4 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-900/10 dark:focus:ring-white/20 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"flex items-center gap-2 w-full sm:w-auto overflow-x-auto\">\n                    {/* Status Filter */}\n                    <select\n                        className=\"px-3 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 focus:outline-none\"\n                        value={statusFilter}\n                        onChange={(e) => setStatusFilter(e.target.value)}\n                    >\n                        <option value=\"all\">All Status</option>\n                        <option value=\"pending\">Pending</option>\n                        <option value=\"processing\">Processing</option>\n                        <option value=\"shipped\">Shipped</option>\n                        <option value=\"delivered\">Delivered</option>\n                        <option value=\"cancelled\">Cancelled</option>\n                    </select>\n\n                    {/* Payment Filter */}\n                    <select\n                        className=\"px-3 py-2 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 focus:outline-none\"\n                        value={paymentFilter}\n                        onChange={(e) => setPaymentFilter(e.target.value)}\n                    >\n                        <option value=\"all\">All Payment</option>\n                        <option value=\"pending\">Unpaid</option>\n                        <option value=\"paid\">Paid</option>\n                    </select>\n                </div>\n            </div>\n\n            {/* Table */}\n            <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm text-left\">\n                    <thead className=\"bg-gray-50 dark:bg-white/5 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs\">\n                        <tr>\n                            <th className=\"px-6 py-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-white/10\" onClick={() => handleSort('created_at')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Date\n                                    {sortField === 'created_at' && (sortOrder === 'desc' ? <ChevronDown size={14} /> : <ChevronUp size={14} />)}\n                                </div>\n                            </th>\n                            <th className=\"px-6 py-4\">Order ID</th>\n                            <th className=\"px-6 py-4\">Customer</th>\n                            <th className=\"px-6 py-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-white/10\" onClick={() => handleSort('total_amount')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Total\n                                    {sortField === 'total_amount' && (sortOrder === 'desc' ? <ChevronDown size={14} /> : <ChevronUp size={14} />)}\n                                </div>\n                            </th>\n                            <th className=\"px-6 py-4\">Payment</th>\n                            <th className=\"px-6 py-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-white/10\" onClick={() => handleSort('status')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Status\n                                    {sortField === 'status' && (sortOrder === 'desc' ? <ChevronDown size={14} /> : <ChevronUp size={14} />)}\n                                </div>\n                            </th>\n                            <th className=\"px-6 py-4 text-right\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-gray-100 dark:divide-white/5\">\n                        {loading ? (\n                            <tr><td colSpan={7} className=\"p-8 text-center text-gray-500 dark:text-gray-400\">Loading orders...</td></tr>\n                        ) : sortedOrders.length === 0 ? (\n                            <tr><td colSpan={7} className=\"p-8 text-center text-gray-500 dark:text-gray-400\">No orders found matching filters.</td></tr>\n                        ) : (\n                            sortedOrders.map((order) => (\n                                <tr key={order.id} className=\"hover:bg-gray-50/50 dark:hover:bg-white/5 transition-colors group\">\n                                    <td className=\"px-6 py-4 text-gray-500 dark:text-gray-400 font-medium\">\n                                        {format(new Date(order.created_at), 'MMM d, yyyy')}\n                                        <div className=\"text-xs text-gray-400 dark:text-gray-500\">{format(new Date(order.created_at), 'HH:mm')}</div>\n                                    </td>\n                                    <td className=\"px-6 py-4 font-bold text-gray-900 dark:text-white\">\n                                        <Link href={`/admin/orders/${order.id}`} className=\"hover:text-blue-600 dark:hover:text-blue-400 hover:underline\">\n                                            #{order.id.slice(0, 8)}\n                                        </Link>\n                                    </td>\n                                    <td className=\"px-6 py-4 text-gray-600 dark:text-gray-300\">\n                                        <div className=\"font-medium text-gray-900 dark:text-white\">{order.shipping_address?.firstName} {order.shipping_address?.lastName}</div>\n                                        {/* <div className=\"text-xs\">{order.shipping_address?.city}</div> */}\n                                    </td>\n                                    <td className=\"px-6 py-4 font-medium text-gray-900 dark:text-white\">{formatCurrency(order.total_amount)}</td>\n                                    <td className=\"px-6 py-4\">\n                                        <div className=\"flex flex-col gap-1\">\n                                            <span className=\"text-xs font-bold uppercase text-gray-500 dark:text-gray-400\">{order.payment_method}</span>\n                                            <span className={`text-xs px-2 py-0.5 rounded w-fit ${order.payment_status === 'paid' ? 'bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-green-300' : 'bg-red-50 dark:bg-red-900/40 text-red-700 dark:text-red-300'}`}>\n                                                {order.payment_status}\n                                            </span>\n                                        </div>\n                                    </td>\n                                    <td className=\"px-6 py-4\">\n                                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold capitalize ${getStatusColor(order.status)}`}>\n                                            {order.status}\n                                        </span>\n                                    </td>\n                                    <td className=\"px-6 py-4 text-right\">\n                                        <div className=\"flex items-center justify-end gap-2 text-gray-400 dark:text-gray-500\">\n                                            <Link href={`/admin/orders/${order.id}`}>\n                                                <button className=\"p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg hover:text-navy-900 dark:hover:text-white transition-colors\" title=\"View Details\">\n                                                    <Eye size={18} />\n                                                </button>\n                                            </Link>\n                                            {/* Future: Print/Invoice Actions */}\n                                        </div>\n                                    </td>\n                                </tr>\n                            ))\n                        )}\n                    </tbody>\n                </table>\n            </div>\n\n            {/* Pagination (Simple for now) */}\n            <div className=\"p-4 border-t border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-white/5 text-xs text-gray-500 dark:text-gray-400 flex justify-between items-center\">\n                <span>Showing {sortedOrders.length} orders</span>\n                {/* Pagination controls can go here */}\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/components/admin/WalletAdjustmentModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/context/CartContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[361,364],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[361,364],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[466,469],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[466,469],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/context/CartContext.tsx:38:17\n  36 |         if (storedCart) {\n  37 |             try {\n> 38 |                 setItems(JSON.parse(storedCart));\n     |                 ^^^^^^^^ Avoid calling setState() directly within an effect\n  39 |             } catch (e) {\n  40 |                 console.error(\"Failed to parse cart\", e);\n  41 |             }","line":38,"column":17,"nodeType":null,"endLine":38,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1418,1421],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1418,1421],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\n// Cart Item Interface\nexport interface CartItem {\n    id: string; // Unique ID (e.g., productID + size)\n    productId: string;\n    name: string;\n    image: string;\n    price: number;\n    size?: string;\n    color?: string;\n    qty: number;\n    metadata?: any; // For custom orders\n}\n\ninterface CartContextType {\n    items: CartItem[];\n    addToCart: (product: any, size: string) => void;\n    removeFromCart: (itemId: string) => void;\n    updateQuantity: (itemId: string, qty: number) => void;\n    cartCount: number;\n    cartTotal: number;\n    clearCart: () => void;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const CartProvider = ({ children }: { children: ReactNode }) => {\n    const [items, setItems] = useState<CartItem[]>([]);\n\n    // Initialize from LocalStorage (Client-side only)\n    useEffect(() => {\n        const storedCart = localStorage.getItem('broncstudio_cart');\n        if (storedCart) {\n            try {\n                setItems(JSON.parse(storedCart));\n            } catch (e) {\n                console.error(\"Failed to parse cart\", e);\n            }\n        }\n    }, []);\n\n    // Persist to LocalStorage\n    useEffect(() => {\n        localStorage.setItem('broncstudio_cart', JSON.stringify(items));\n    }, [items]);\n\n    const addToCart = (product: any, size: string) => {\n        // If it's a custom order, we need a unique ID for every addition (allow multiple configs)\n        // Otherwise, group by product+size+model\n        const isCustom = size === 'Custom' || product.metadata?.is_custom;\n        const itemId = isCustom\n            ? `${product.id}-custom-${Date.now()}-${Math.floor(Math.random() * 1000)}`\n            : `${product.id}-${size}`;\n\n        setItems(prev => {\n            const existing = prev.find(i => i.id === itemId);\n            if (existing && !isCustom) {\n                // Increment qty (only for non-custom items)\n                return prev.map(i => i.id === itemId ? { ...i, qty: i.qty + 1 } : i);\n            } else {\n                // Add new\n                return [...prev, {\n                    id: itemId,\n                    productId: product.id,\n                    name: product.name,\n                    image: product.image || (product.images ? product.images[0] : ''),\n                    price: Number(product.price),\n                    size: size,\n                    color: product.color || 'Standard',\n                    qty: 1,\n                    metadata: product.metadata || {}\n                }];\n            }\n        });\n    };\n\n    const removeFromCart = (itemId: string) => {\n        setItems(prev => prev.filter(i => i.id !== itemId));\n    };\n\n    const updateQuantity = (itemId: string, qty: number) => {\n        if (qty < 1) {\n            removeFromCart(itemId);\n            return;\n        }\n        setItems(prev => prev.map(i => i.id === itemId ? { ...i, qty } : i));\n    };\n\n    const clearCart = () => setItems([]);\n\n    const cartCount = items.reduce((acc, item) => acc + item.qty, 0);\n    const cartTotal = parseFloat(items.reduce((acc, item) => acc + (item.price * item.qty), 0).toFixed(2));\n\n    return (\n        <CartContext.Provider value={{\n            items,\n            addToCart,\n            removeFromCart,\n            updateQuantity,\n            cartCount,\n            cartTotal,\n            clearCart\n        }}>\n            {children}\n        </CartContext.Provider>\n    );\n};\n\nexport const useCart = () => {\n    const context = useContext(CartContext);\n    if (context === undefined) {\n        throw new Error('useCart must be used within a CartProvider');\n    }\n    return context;\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/context/StoreSettingsContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used.","line":43,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":43,"endColumn":32},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchSettings'. Either include it or remove the dependency array.","line":68,"column":8,"nodeType":"ArrayExpression","endLine":68,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchSettings]","fix":{"range":[2178,2180],"text":"[fetchSettings]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { createBrowserClient } from '@supabase/ssr';\n\nexport interface StoreSettings {\n    currency: string;\n    tax_rate: number;\n    shipping_charge: number;\n    free_shipping_threshold: number;\n    announcement_text?: string;\n    announcement_link?: string;\n    announcement_active?: boolean;\n}\n\nconst defaultSettings: StoreSettings = {\n    currency: 'INR',\n    tax_rate: 18, // Default 18% as requested\n    shipping_charge: 100, // Default charge\n    free_shipping_threshold: 5000, // Default threshold\n    announcement_active: false\n};\n\ninterface StoreSettingsContextType {\n    settings: StoreSettings;\n    loading: boolean;\n    refreshSettings: () => Promise<void>;\n}\n\nconst StoreSettingsContext = createContext<StoreSettingsContextType | undefined>(undefined);\n\nexport const StoreSettingsProvider = ({ children }: { children: ReactNode }) => {\n    const [settings, setSettings] = useState<StoreSettings>(defaultSettings);\n    const [loading, setLoading] = useState(true);\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    const fetchSettings = async () => {\n        try {\n            const { data, error } = await supabase\n                .from('store_settings')\n                .select('*')\n                .single();\n\n            if (data) {\n                setSettings({\n                    currency: data.currency,\n                    tax_rate: data.tax_rate ?? 18,\n                    shipping_charge: data.shipping_charge ?? 100,\n                    free_shipping_threshold: data.free_shipping_threshold ?? 5000,\n                    announcement_text: data.announcement_text,\n                    announcement_link: data.announcement_link,\n                    announcement_active: data.announcement_active\n                });\n            }\n        } catch (error) {\n            console.error(\"Failed to fetch store settings:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchSettings();\n    }, []);\n\n    return (\n        <StoreSettingsContext.Provider value={{ settings, loading, refreshSettings: fetchSettings }}>\n            {children}\n        </StoreSettingsContext.Provider>\n    );\n};\n\nexport const useStoreSettings = () => {\n    const context = useContext(StoreSettingsContext);\n    if (context === undefined) {\n        throw new Error('useStoreSettings must be used within a StoreSettingsProvider');\n    }\n    return context;\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/context/ThemeProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/context/ToastContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/context/UIContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[983,986],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[983,986],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setUserName' is assigned a value but never used.","line":51,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":51,"endColumn":33},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1688,1691],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1688,1691],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\n\n// Define the shape of our product data for Quick View\n// (Should match ProductCard props mostly)\nexport interface QuickViewProductData {\n    id: string;\n    name: string;\n    price: number;\n    originalPrice?: number;\n    image: string;\n    brand?: string;\n    colors?: string[];\n    stock_status?: string;\n    badge?: string;\n}\n\ninterface UIContextType {\n    isSearchOpen: boolean;\n    openSearch: () => void;\n    closeSearch: () => void;\n\n    isWishlistOpen: boolean;\n    toggleWishlist: () => void;\n    closeWishlist: () => void;\n    openWishlist: () => void;\n\n    quickViewProduct: QuickViewProductData | null;\n    openQuickView: (product: QuickViewProductData) => void;\n    closeQuickView: () => void;\n\n    currency: 'INR' | 'USD';\n    setCurrency: (currency: 'INR' | 'USD') => void;\n    formatPrice: (amountInInr: number) => string;\n\n    cartCount: number;\n    addToBag: (product: any) => void;\n\n    userName: string | null;\n}\n\nconst UIContext = createContext<UIContextType | undefined>(undefined);\n\nexport const UIProvider = ({ children }: { children: ReactNode }) => {\n    const [isSearchOpen, setIsSearchOpen] = useState(false);\n    const [isWishlistOpen, setIsWishlistOpen] = useState(false);\n    const [cartCount, setCartCount] = useState(2); // Mock initial count\n    const [quickViewProduct, setQuickViewProduct] = useState<QuickViewProductData | null>(null);\n    const [currency, setCurrency] = useState<'INR' | 'USD'>('INR');\n    const [userName, setUserName] = useState<string | null>(null); // Default to no user logged in\n\n    // Cart Actions\n    const addToBag = (product: any) => {\n        setCartCount(prev => prev + 1);\n        alert(`Added ${product.name} to bag!`);\n    };\n\n    // Search Actions\n    const openSearch = () => setIsSearchOpen(true);\n    const closeSearch = () => setIsSearchOpen(false);\n\n    // Wishlist Actions\n    const toggleWishlist = () => setIsWishlistOpen(prev => !prev);\n    const closeWishlist = () => setIsWishlistOpen(false);\n    const openWishlist = () => setIsWishlistOpen(true);\n\n    // Quick View Actions\n    const openQuickView = (product: QuickViewProductData) => setQuickViewProduct(product);\n    const closeQuickView = () => setQuickViewProduct(null);\n\n    // Currency Formatter\n    const formatPrice = (amountInInr: number) => {\n        if (currency === 'INR') {\n            return `â‚¹${amountInInr}`;\n        } else {\n            // Simple conversion: 1 USD = 83 INR\n            const inUsd = (amountInInr / 83).toFixed(2);\n            return `$${inUsd}`;\n        }\n    };\n\n    // Basic \"Block Scroll\" logic when overlays are open could go here via useEffect\n    // For now keeping it simple.\n\n    return (\n        <UIContext.Provider value={{\n            isSearchOpen,\n            openSearch,\n            closeSearch,\n            isWishlistOpen,\n            toggleWishlist,\n            closeWishlist,\n            openWishlist,\n            quickViewProduct,\n            openQuickView,\n            closeQuickView,\n            currency,\n            setCurrency,\n            formatPrice,\n            cartCount,\n            addToBag,\n            userName\n        }}>\n            {children}\n        </UIContext.Provider>\n    );\n};\n\nexport const useUI = () => {\n    const context = useContext(UIContext);\n    if (context === undefined) {\n        throw new Error('useUI must be used within a UIProvider');\n    }\n    return context;\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/context/WishlistContext.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/dhanushj/Desktop/Broncstudio/src/context/WishlistContext.tsx:31:17\n  29 |         if (stored) {\n  30 |             try {\n> 31 |                 setWishlistItems(JSON.parse(stored));\n     |                 ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  32 |             } catch (e) {\n  33 |                 console.error(\"Failed to parse wishlist\", e);\n  34 |             }","line":31,"column":17,"nodeType":null,"endLine":31,"endColumn":33}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\nexport interface WishlistItem {\n    id: string;\n    name: string;\n    price: number;\n    image: string;\n    size?: string;\n    // Add other fields as needed\n}\n\ninterface WishlistContextType {\n    wishlistItems: WishlistItem[];\n    addToWishlist: (item: WishlistItem) => void;\n    removeFromWishlist: (itemId: string) => void;\n    isInWishlist: (itemId: string) => boolean;\n}\n\nconst WishlistContext = createContext<WishlistContextType | undefined>(undefined);\n\nexport const WishlistProvider = ({ children }: { children: ReactNode }) => {\n    const [wishlistItems, setWishlistItems] = useState<WishlistItem[]>([]);\n\n    // Initialize from LocalStorage\n    useEffect(() => {\n        const stored = localStorage.getItem('broncstudio_wishlist');\n        if (stored) {\n            try {\n                setWishlistItems(JSON.parse(stored));\n            } catch (e) {\n                console.error(\"Failed to parse wishlist\", e);\n            }\n        } else {\n            // Start empty\n            setWishlistItems([]);\n        }\n    }, []);\n\n    // Persist\n    useEffect(() => {\n        localStorage.setItem('broncstudio_wishlist', JSON.stringify(wishlistItems));\n    }, [wishlistItems]);\n\n    const addToWishlist = (item: WishlistItem) => {\n        setWishlistItems(prev => {\n            if (prev.find(i => i.id === item.id)) return prev;\n            return [...prev, item];\n        });\n    };\n\n    const removeFromWishlist = (itemId: string) => {\n        setWishlistItems(prev => prev.filter(i => i.id !== itemId));\n    };\n\n    const isInWishlist = (itemId: string) => {\n        return wishlistItems.some(i => i.id === itemId);\n    };\n\n    return (\n        <WishlistContext.Provider value={{ wishlistItems, addToWishlist, removeFromWishlist, isInWishlist }}>\n            {children}\n        </WishlistContext.Provider>\n    );\n};\n\nexport const useWishlist = () => {\n    const context = useContext(WishlistContext);\n    if (context === undefined) {\n        throw new Error('useWishlist must be used within a WishlistProvider');\n    }\n    return context;\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/data/categories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/data/curatedConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/data/flatTaxonomy.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[142,145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[142,145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[392,395],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[392,395],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[559,562],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[559,562],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[806,809],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[806,809],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { CATEGORY_TAXONOMY } from './categories';\n\nexport interface FlatNode {\n    type: 'world' | 'category' | 'item' | 'curated';\n    data: any;\n    // Parent info for breadcrumbs\n    parent?: { name: string; slug: string };\n}\n\n// Generate the flat map\nconst generateFlatTaxonomy = () => {\n    const map: Record<string, FlatNode> = {};\n\n    Object.values(CATEGORY_TAXONOMY).forEach((world: any) => {\n        // 1. World Level\n        map[world.slug] = { type: 'world', data: world };\n\n        // 2. Category Level\n        world.subcategories?.forEach((sub: any) => {\n            map[sub.slug] = {\n                type: 'category',\n                data: sub,\n                parent: { name: world.name, slug: world.slug }\n            };\n\n            // 3. Item Level\n            sub.items?.forEach((item: any) => {\n                map[item.slug] = {\n                    type: 'item',\n                    data: item,\n                    parent: { name: sub.name, slug: sub.slug } // Deeper breadcrumb handled in component logic if needed, or we chain parents\n                };\n            });\n        });\n    });\n\n    return map;\n};\n\nexport const FLAT_TAXONOMY = generateFlatTaxonomy();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/data/giftMoments.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[156,159],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[156,159],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Cake, Home, Shirt, Brain, Coffee, Dog, Sparkles } from 'lucide-react';\n\nexport interface GiftMoment {\n    id: string;\n    label: string;\n    icon: any;\n    tagline: string;\n    preferredCategories: string[];\n    giftTypes: string[];\n    excludeCategories?: string[];\n}\n\nexport const GIFT_MOMENTS: GiftMoment[] = [\n    {\n        id: 'forgot_birthday',\n        label: 'Forgot the Birthday',\n        icon: Cake,\n        tagline: 'Easy gifts that always work',\n        preferredCategories: ['accessories', 'drinkware', 'tech_desk', 'gifts_stationery'],\n        giftTypes: ['quick', 'safe', 'impulse'],\n    },\n    {\n        id: 'new_home',\n        label: 'New Home, New Beginnings',\n        icon: Home,\n        tagline: 'Thoughtful pieces for a fresh start',\n        preferredCategories: ['home_decor', 'drinkware'],\n        giftTypes: ['safe', 'premium'],\n    },\n    {\n        id: 'everyday_upgrade',\n        label: 'Everyday Upgrade',\n        icon: Shirt,\n        tagline: 'Useful, stylish gifts they\\'ll use daily',\n        preferredCategories: ['clothing', 'accessories', 'bags'],\n        giftTypes: ['safe'],\n    },\n    {\n        id: 'learning_play',\n        label: 'Learning & Play Time',\n        icon: Brain,\n        tagline: 'Fun gifts that spark curiosity',\n        preferredCategories: ['toys', 'gifts_stationery'],\n        giftTypes: ['quick', 'safe'],\n    },\n    {\n        id: 'desk_glowup',\n        label: 'Desk Glow-Up',\n        icon: Coffee,\n        tagline: 'Small upgrades for work & study',\n        preferredCategories: ['tech_desk', 'drinkware', 'gifts_stationery'],\n        giftTypes: ['quick', 'impulse'],\n    },\n    {\n        id: 'for_pet',\n        label: 'For My Pet',\n        icon: Dog,\n        tagline: 'Something special for furry friends',\n        preferredCategories: ['pets'],\n        giftTypes: ['safe'],\n    },\n    {\n        id: 'just_because',\n        label: 'Just Because',\n        icon: Sparkles,\n        tagline: 'No reason needed â€” just joy',\n        preferredCategories: [], // All categories allowed\n        giftTypes: ['quick', 'impulse'],\n    },\n];\n\nexport const AUDIENCE_OPTIONS = [\n    { id: 'men', label: 'For Him' },\n    { id: 'women', label: 'For Her' },\n    { id: 'kids', label: 'For Kids' },\n    { id: 'pets', label: 'For Pets' },\n];\n\nexport const BUDGET_OPTIONS = [\n    { id: 499, label: 'Under â‚¹499' },\n    { id: 999, label: 'â‚¹500â€“â‚¹999' },\n    { id: 10000, label: 'â‚¹1000+' },\n];\n\nexport function getMomentById(id: string): GiftMoment | undefined {\n    return GIFT_MOMENTS.find(m => m.id === id);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/data/product_taxonomy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/lib/personalization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/lib/recommendations.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2456,2459],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2456,2459],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"prefer-const","severity":2,"message":"'query' is never reassigned. Use 'const' instead.","line":86,"column":9,"nodeType":"Identifier","messageId":"useConst","endLine":86,"endColumn":14,"fix":{"range":[3189,3288],"text":"const query = supabase\n        .from('products')\n        .select('*')\n        .neq('id', current.id);"}},{"ruleId":"prefer-const","severity":2,"message":"'recommendations' is never reassigned. Use 'const' instead.","line":157,"column":9,"nodeType":"Identifier","messageId":"useConst","endLine":157,"endColumn":24,"fix":{"range":[6039,6155],"text":"const recommendations = scoredCandidates\n        .filter(c => c.score > 0)\n        .sort((a, b) => b.score - a.score);"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":163,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":163,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6278,6281],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6278,6281],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"import { createBrowserClient } from '@supabase/ssr';\n\nexport interface ProductAttribute {\n    id: string;\n    name: string;\n    price: number;\n    image: string;\n    gender: 'men' | 'women' | 'kids' | 'unisex';\n    product_type: 'tshirt' | 'hoodie' | 'jacket' | 'bottom' | 'dress' | 'footwear' | 'headwear' | 'bag' | 'accessory';\n    primary_color: 'white' | 'black' | 'blue' | 'olive' | 'beige' | 'brown' | 'grey' | 'red' | 'green' | 'yellow' | 'pink' | 'purple' | 'orange' | 'other';\n    style: 'minimal' | 'graphic' | 'sporty' | 'classic' | 'streetwear';\n    fit?: 'oversized' | 'regular' | 'slim' | 'skinny';\n}\n\n// --- CONFIGURATION MAPS ---\n\nconst OUTFIT_GRAPH: Record<string, string[]> = {\n    tshirt: ['bottom', 'headwear', 'bag', 'footwear', 'accessory'],\n    hoodie: ['bottom', 'bag', 'headwear', 'footwear'],\n    jacket: ['tshirt', 'bottom', 'footwear'],\n    bottom: ['tshirt', 'hoodie', 'jacket', 'footwear'],\n    dress: ['bag', 'accessory', 'footwear'],\n    footwear: ['accessory', 'bag'], // Usually footwear is the last add, but can suggest socks/laces/care\n    headwear: ['tshirt', 'hoodie', 'jacket'],\n    bag: ['tshirt', 'hoodie', 'dress'],\n    accessory: ['tshirt', 'dress']\n};\n\nconst COLOR_HARMONY: Record<string, string[]> = {\n    white: ['black', 'blue', 'olive', 'beige', 'grey', 'red'],\n    black: ['white', 'grey', 'blue', 'olive', 'red', 'beige'],\n    blue: ['white', 'black', 'beige', 'grey'],\n    olive: ['white', 'black', 'brown', 'beige'],\n    beige: ['white', 'black', 'olive', 'brown', 'blue'],\n    grey: ['white', 'black', 'blue', 'red'],\n    brown: ['beige', 'olive', 'white'],\n    red: ['white', 'black', 'grey', 'blue'],\n    // Fallbacks\n    green: ['white', 'black', 'beige'],\n    yellow: ['black', 'white', 'blue'],\n    pink: ['white', 'grey', 'blue'],\n    purple: ['white', 'black', 'grey'],\n    orange: ['white', 'black', 'blue'],\n    other: ['black', 'white']\n};\n\nconst STYLE_COMPATIBILITY: Record<string, string[]> = {\n    minimal: ['minimal', 'classic', 'streetwear'],\n    graphic: ['solid', 'minimal', 'streetwear'],\n    sporty: ['sporty', 'casual', 'streetwear'],\n    classic: ['minimal', 'classic', 'premium'],\n    streetwear: ['minimal', 'graphic', 'sporty', 'oversized']\n};\n\n// --- SCORING SYSTEM ---\n\nconst SCORE_WEIGHTS = {\n    GENDER_MATCH: 100, // Hard filter really\n    TYPE_MATCH: 50,    // Essential\n    COLOR_MATCH: 30,\n    STYLE_MATCH: 20\n};\n\nexport async function getRecommendations(currentProduct: any) {\n    if (!currentProduct || !currentProduct.metadata) return [];\n\n    const meta = currentProduct.metadata;\n    const current: ProductAttribute = {\n        id: currentProduct.id,\n        name: currentProduct.name,\n        price: currentProduct.price,\n        image: currentProduct.images?.[0] || '',\n        gender: meta.gender || 'unisex',\n        product_type: meta.product_type || 'other',\n        primary_color: meta.primary_color || 'other',\n        style: meta.style || 'minimal',\n        fit: meta.fit || 'regular'\n    };\n\n    const supabase = createBrowserClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n    );\n\n    // 1. HARD FILTER: Gender & Exclude Self\n    let query = supabase\n        .from('products')\n        .select('*')\n        .neq('id', current.id);\n\n    // Gender Logic: If Men -> Men/Unisex. If Women -> Women/Unisex.\n    if (current.gender !== 'unisex') {\n        // This is a bit complex in pure SQL with JSONB, verifying capabilities.\n        // For MVP, fetch broader set and filter in JS if JSONB filtering is tricky without exact indexes.\n        // Ideally: .or(`metadata->>gender.eq.${current.gender},metadata->>gender.eq.unisex`)\n        // Let's filter in memory for max flexibility unless dataset is huge.\n    }\n\n    const { data: candidates, error } = await query;\n    if (error || !candidates) {\n        console.error('RecEngine Error:', error);\n        return [];\n    }\n\n    // 2. SCORING LOOP\n    const scoredCandidates = candidates.map(candidate => {\n        const cMeta = candidate.metadata || {};\n        const candidateAttr: ProductAttribute = {\n            id: candidate.id,\n            name: candidate.name,\n            price: candidate.price,\n            image: candidate.images?.[0] || '',\n            gender: cMeta.gender || 'unisex',\n            product_type: cMeta.product_type || 'other',\n            primary_color: cMeta.primary_color || 'other',\n            style: cMeta.style || 'minimal',\n            fit: cMeta.fit || 'regular'\n        };\n\n        let score = 0;\n\n        // RULE 1: GENDER LOCK (Hard Fail)\n        if (candidateAttr.gender !== 'unisex' && candidateAttr.gender !== current.gender) {\n            return { ...candidate, score: -1 };\n        }\n\n        // RULE 2: PRODUCT TYPE (Outfit Graph)\n        const allowedTypes = OUTFIT_GRAPH[current.product_type] || [];\n        if (allowedTypes.includes(candidateAttr.product_type)) {\n            score += SCORE_WEIGHTS.TYPE_MATCH;\n        } else {\n            // If strictly enforcing outfit structure, maybe penalize or hard fail?\n            // User said \"Works per product page\" -> \"Maps top -> bottom\".\n            // Let's penalize significantly but not hide if inventory is low.\n            score -= 10;\n        }\n\n        // RULE 3: COLOR HARMONY\n        const compatibleColors = COLOR_HARMONY[current.primary_color] || [];\n        if (compatibleColors.includes(candidateAttr.primary_color)) {\n            score += SCORE_WEIGHTS.COLOR_MATCH;\n        }\n\n        // RULE 4: STYLE MATCH\n        const compatibleStyles = STYLE_COMPATIBILITY[current.style] || [];\n        if (compatibleStyles.includes(candidateAttr.style) || candidateAttr.style === current.style) {\n            score += SCORE_WEIGHTS.STYLE_MATCH;\n        }\n\n        return { ...candidate, score, image: candidateAttr.image }; // Attach main image for UI\n    });\n\n    // 3. SORT & FILTER\n    // Filter out bad matches (score <= 0) and sort descending\n    // Limit to 3 distinct types if possible (Top, Bottom, Access) - advanced logic\n\n    let recommendations = scoredCandidates\n        .filter(c => c.score > 0)\n        .sort((a, b) => b.score - a.score);\n\n    // Deduplicate Types (Optional: Ensure variety)\n    const uniqueTypes = new Set();\n    const diverseRecommendations: any[] = [];\n\n    for (const rec of recommendations) {\n        const type = rec.metadata?.product_type || 'other';\n        if (!uniqueTypes.has(type)) {\n            uniqueTypes.add(type);\n            diverseRecommendations.push(rec);\n        }\n        if (diverseRecommendations.length >= 3) break;\n    }\n\n    // Fallback: If logic found nothing or very few, fill with ANY gender-matched items (Bestsellers/Random)\n    if (diverseRecommendations.length < 2) {\n        const fallbackPool = candidates\n            .filter(c => {\n                // Determine candidate gender\n                const cGender = c.metadata?.gender || 'unisex';\n                // 1. Must not be current product\n                if (c.id === current.id) return false;\n                // 2. Must not already be recommended\n                if (diverseRecommendations.find(d => d.id === c.id)) return false;\n                // 3. Gender Check (Permissive)\n                // If current is Men, allow Men/Unisex. If Women, allow Women/Unisex.\n                if (current.gender === 'men' && cGender === 'women') return false;\n                if (current.gender === 'women' && cGender === 'men') return false;\n\n                return true;\n            })\n            // Shuffle (Randomize)\n            .sort(() => 0.5 - Math.random())\n            .slice(0, 3 - diverseRecommendations.length);\n\n        diverseRecommendations.push(...fallbackPool);\n    }\n\n    return diverseRecommendations;\n\n    return diverseRecommendations;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/lib/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/scripts/check-products.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/scripts/remove-duplicates.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[836,839],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[836,839],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":55,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1689,1692],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1689,1692],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { createClient } from '@supabase/supabase-js';\nimport dotenv from 'dotenv';\nimport path from 'path';\n\n// Fix for ESM __dirname\nconst __dirname = path.resolve();\n\n// Load env from root\ndotenv.config({ path: path.join(__dirname, '.env.local') });\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!; // Using Anon key for simplicity as RLS allows write (or use Service Role if needed)\n\n// WARN: RLS might block delete if not admin. If RLS is strict, we need SERVICE_ROLE_KEY.\n// Assuming we are in dev/test environment given the context.\n\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\nasync function removeDuplicates() {\n    console.log('ðŸ” Checking for duplicate products...');\n\n\n    // 1. Fetch all products with pagination\n    let allProducts: any[] = [];\n    let page = 0;\n    const pageSize = 1000;\n\n    while (true) {\n        const { data: products, error } = await supabase\n            .from('products')\n            .select('id, name, created_at')\n            .order('created_at', { ascending: false })\n            .range(page * pageSize, (page + 1) * pageSize - 1);\n\n        if (error) {\n            console.error('Error fetching products:', error);\n            break;\n        }\n\n        if (!products || products.length === 0) break;\n\n        allProducts = [...allProducts, ...products];\n        console.log(`Fetched ${products.length} products (Total: ${allProducts.length})...`);\n\n        if (products.length < pageSize) break;\n        page++;\n    }\n\n    if (allProducts.length === 0) {\n        console.log('No products found.');\n        return;\n    }\n\n    const nameMap = new Map<string, any[]>();\n\n    // 2. Group by Name\n    allProducts.forEach(p => {\n        const name = p.name.trim(); // Normalize\n        if (!nameMap.has(name)) {\n            nameMap.set(name, []);\n        }\n        nameMap.get(name)?.push(p);\n    });\n\n    let deletedCount = 0;\n\n    // 3. Identify and Delete Duplicates\n    for (const [name, items] of nameMap.entries()) {\n        if (items.length > 1) {\n            console.log(`\\nâš ï¸ Found ${items.length} duplicates for: \"${name}\"`);\n\n            // Keep the FIRST one (which is the newest due to order('created_at', descending))\n            const toKeep = items[0];\n            const toDelete = items.slice(1);\n\n            console.log(`   âœ… Keeping: ${toKeep.id} (Created: ${toKeep.created_at})`);\n\n            for (const item of toDelete) {\n                console.log(`   âŒ Deleting: ${item.id} (Created: ${item.created_at})`);\n\n                const { error: delError } = await supabase\n                    .from('products')\n                    .delete()\n                    .eq('id', item.id);\n\n                if (delError) {\n                    console.error(`      Failed to delete ${item.id}:`, delError.message);\n                } else {\n                    deletedCount++;\n                }\n            }\n        }\n    }\n\n    console.log(`\\nðŸŽ‰ Cleanup complete. Removed ${deletedCount} duplicate products.`);\n}\n\nremoveDuplicates();\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/scripts/seed.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":20,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3184,3187],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3184,3187],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":99,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3498,3501],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3498,3501],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { createClient } from '@supabase/supabase-js';\nimport { CATEGORY_TAXONOMY } from '@/data/categories';\nimport { readFileSync } from 'fs';\nimport path from 'path';\n\n// Load .env.local manually to avoid 'dotenv' dependency if not present\nconst loadEnv = () => {\n    try {\n        const envPath = path.resolve(process.cwd(), '.env.local');\n        const envFile = readFileSync(envPath, 'utf8');\n        envFile.split('\\n').forEach(line => {\n            const [key, value] = line.split('=');\n            if (key && value && !process.env[key]) {\n                // Remove quotes if present\n                process.env[key.trim()] = value.trim().replace(/^[\"']|[\"']$/g, '');\n            }\n        });\n        console.log(\"âœ… Loaded .env.local\");\n    } catch (e) {\n        console.warn(\"âš ï¸ Could not load .env.local, checking process.env\");\n    }\n};\n\nloadEnv();\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY; // Using Anon key as we opened RLS\n\nif (!supabaseUrl || !supabaseKey) {\n    console.error(\"âŒ Missing Supabase URL or Key. Make sure .env.local exists.\");\n    process.exit(1);\n}\n\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\n// --- HELPERS ---\n\nasync function upsertCategory(name: string, slug: string, description: string | undefined, parentId: string | null, type: string) {\n    const { data, error } = await supabase\n        .from('categories')\n        .upsert({\n            slug,\n            name,\n            description,\n            parent_id: parentId,\n            type,\n            image_url: null // Add placeholders if needed\n        }, { onConflict: 'slug' })\n        .select()\n        .single();\n\n    if (error) {\n        console.error(`âŒ Error upserting category ${name}:`, error.message);\n        return null;\n    }\n    // console.log(`âœ… Category: ${name} (${type})`);\n    return data;\n}\n\nasync function insertProductsForCategory(categoryId: string, categoryName: string, categorySlug: string) {\n    // Generate 5-10 mock products\n    const count = Math.floor(Math.random() * 6) + 5;\n    const products = Array.from({ length: count }).map((_, i) => {\n        const basePrice = 499 + Math.floor(Math.random() * 2000);\n        return {\n            name: `${categoryName} ${i % 2 === 0 ? 'Premium' : 'Classic'} ${i + 1}`,\n            slug: `${categorySlug}-item-${i + 1}-${Math.random().toString(36).substring(7)}`,\n            description: `High quality ${categoryName} designed for lifestyle.`,\n            price: basePrice,\n            category_id: categoryId,\n            stock_status: 'in_stock',\n            images: [`https://source.unsplash.com/random/400x400?product,${i}`] // Mock image\n        };\n    });\n\n    const { error } = await supabase.from('products').insert(products);\n    if (error) {\n        console.error(`âŒ Error inserting products for ${categoryName}:`, error.message);\n    } else {\n        // console.log(`   âœ¨ Added ${count} products to ${categoryName}`);\n    }\n}\n\n// --- MAIN LOOP ---\n\nasync function seed() {\n    console.log(\"ðŸŒ± Starting Database Seed...\");\n\n    for (const worldKey in CATEGORY_TAXONOMY) {\n        const world = (CATEGORY_TAXONOMY as any)[worldKey];\n\n        // 1. World\n        const worldRecord = await upsertCategory(world.name, world.slug, world.description, null, 'world');\n        if (!worldRecord) continue;\n        console.log(`ðŸŒ World: ${world.name}`);\n\n        // Helper to process children\n        const processChildren = async (items: any[], parentId: string, level: string) => {\n            for (const item of items) {\n                // Determine Type\n                let type = 'category';\n                if (item.type) type = item.type; // Use explicit type if available\n                else if (level === 'intent') type = 'instruction'; // Fallback\n\n                // Validate against DB constraint ('world', 'intent', 'collection', 'category')\n                const validTypes = ['world', 'intent', 'collection', 'category'];\n                if (!validTypes.includes(type)) type = 'collection'; // Default to collection if invalid\n\n                // If it has 'items' (strings or objects), it might be a terminal category wrapper or a grouping\n                // In local data: \n                // - Intent -> items (strings)\n                // - Subcategory -> items (objects with name/slug)\n\n                const catRecord = await upsertCategory(item.name || item.title, item.slug, item.description, parentId, type);\n                if (!catRecord) continue;\n\n                // Check for deeper nesting (Groups like Men/Women)\n                if (item.subcategories) {\n                    await processChildren(item.subcategories, catRecord.id, 'subcategory');\n                }\n                // Check for 'items' which are usually leaf nodes in this dataset\n                else if (item.items) {\n                    for (const leaf of item.items) {\n                        const leafName = typeof leaf === 'string' ? leaf : leaf.name;\n                        const leafSlug = typeof leaf === 'string' ? `${item.slug}-${leaf.toLowerCase().replace(/\\s+/g, '-')}` : leaf.slug;\n\n                        // 'item' is not a valid DB type, use 'category'\n                        const leafRecord = await upsertCategory(leafName, leafSlug, undefined, catRecord.id, 'category');\n\n                        if (leafRecord) {\n                            // INSERT PRODUCTS HERE\n                            await insertProductsForCategory(leafRecord.id, leafName, leafSlug);\n                        }\n                    }\n                }\n                // If no items, maybe this itself is a category to add products to?\n                else {\n                    await insertProductsForCategory(catRecord.id, item.name, item.slug);\n                }\n            }\n        };\n\n        if (world.intents) await processChildren(world.intents, worldRecord.id, 'intent');\n        if (world.subcategories) await processChildren(world.subcategories, worldRecord.id, 'subcategory');\n        if (world.groups) await processChildren(world.groups, worldRecord.id, 'group');\n    }\n\n    console.log(\"âœ… Seeding Complete!\");\n}\n\nseed().catch(console.error);\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/utils/admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/utils/formatPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/utils/googleDrive.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/utils/sampleImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/utils/supabase/client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/utils/supabase/middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":33,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":33,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'path' is assigned a value but never used.","line":36,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient } from '@supabase/ssr'\nimport { NextResponse, type NextRequest } from 'next/server'\n\nexport async function updateSession(request: NextRequest) {\n    let supabaseResponse = NextResponse.next({\n        request,\n    })\n\n    const supabase = createServerClient(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n        {\n            cookies: {\n                getAll() {\n                    return request.cookies.getAll()\n                },\n                setAll(cookiesToSet) {\n                    cookiesToSet.forEach(({ name, value }) => request.cookies.set(name, value))\n                    supabaseResponse = NextResponse.next({\n                        request,\n                    })\n                    cookiesToSet.forEach(({ name, value, options }) =>\n                        supabaseResponse.cookies.set(name, value, options)\n                    )\n                },\n            },\n        }\n    )\n\n    // IMPORTANT: Do not remove this. It refreshes the auth token and must be called\n    // before any protected routes are accessed. The cookies are automatically refreshed.\n    const {\n        data: { user },\n    } = await supabase.auth.getUser()\n\n    const path = request.nextUrl.pathname\n\n    // Protect /profile and /admin routes\n    // if ((path.startsWith('/profile') || path.startsWith('/admin')) && !user) {\n    //     const url = request.nextUrl.clone()\n    //     url.pathname = '/login'\n    //     return NextResponse.redirect(url)\n    // }\n\n    // CRITICAL: Return the supabaseResponse which contains the refreshed session cookies\n    return supabaseResponse\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/src/utils/supabase/server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/dhanushj/Desktop/Broncstudio/tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
